(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(33)},33:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(19),s=a.n(c),r=a(2),i=a(3),o=a(5),u=a(4),m=a(6),p=a(36),d=a(35),h=a(34),E=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("header",null,l.a.createElement("nav",null,l.a.createElement(h.a,{to:"/"},l.a.createElement("button",null,"Home")),l.a.createElement(h.a,{to:"/collections"},l.a.createElement("button",null,"Collections"))))}}]),t}(n.Component),b=a(11),y=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("span",null,"Welcome !"),l.a.createElement("p",null,"You have't created any collections",l.a.createElement("br",null),l.a.createElement(h.a,{to:"/collections"},"Click Here")))}}]),t}(n.Component),v=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"create",value:function(t,a){var n=e.getList(),l={name:a,id:t},c={name:a,id:t};n.push(l),e.saveList(n),e.saveData(t,c)}},{key:"getList",value:function(){var e=sessionStorage.getItem("collections")||"[]";try{e=JSON.parse(e)}catch(t){e=[]}return e}},{key:"saveList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];sessionStorage.setItem("collections",JSON.stringify(e))}},{key:"getData",value:function(e){var t=sessionStorage.getItem("c-"+e);return void 0!==(t=JSON.parse(t))&&null!==t?t:{}}},{key:"saveData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};sessionStorage.setItem("c-"+e,JSON.stringify(t))}},{key:"rename",value:function(t,a){var n=e.getList().map(function(e){return e.id===t&&(e.name=a),e});e.saveList(n)}},{key:"delete",value:function(t){var a=e.getList().filter(function(e){return e.id!==t});e.saveList(a),sessionStorage.removeItem("c-"+t)}},{key:"list",value:function(t,a){var n=e.getData(t);if(n){n[a]||(n[a]=[],e.saveData(t,n));var l={all:function(){return e.getData(this.id)[this.type]},getItem:function(t){return e.getData(this.id)[this.type].filter(function(e){return e.id===t})[0]},createItem:function(t,a){var n=e.getData(this.id),l=n[this.type],c={id:t};return Object.assign(c,a),l.push(c),e.saveData(this.id,n),c},deleteItem:function(t){var a=e.getData(this.id),n=a[this.type];a[this.type]=n.filter(function(e){return e.id!==t}),e.saveData(this.id,a)}};return l.id=t,l.type=a,l}return null}}]),e}(),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;return e+Math.random().toString().split(".")[1].substr(t,a)},C=function(e){return{type:"SELECT_COLLECTION",payload:{selectedCollection:v.getData(e),tables:v.list(e,"tables"),days:v.list(e,"days"),places:v.list(e,"places"),times:v.list(e,"times"),blocks:v.list(e,"blocks"),batches:v.list(e,"batches"),subjects:v.list(e,"subjects"),teachers:v.list(e,"teachers")}}},O=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"screen",value:function(){var e=this,t=this.props.days,a=this.props.places,n=this.props.times,c=this.props.blocks;this.props.subjects,this.props.teachers;0===t.length&&(t[0]={no:1,text:"day1"}),0===a.length&&(a[0]={no:1,text:"place1"}),0===n.length&&(n[0]={no:1,text:"time1"});var s=function(t,a){switch(t){case"block":default:var n={batch:0,day:0,time:0,subject:0,teacher:0,text:"block"};Object.assign(n,a),e.props.createBlock(e.props.selected.id,n);break;case"batch":e.props.createBatch(e.props.selected.id,{text:"batch"});break;case"day":e.props.createDay(e.props.selected.id,{text:"day"});break;case"time":e.props.createTime(e.props.selected.id,{text:"time"});break;case"place":e.props.createPlace(e.props.selected.id,{text:"place"});break;case"subject":e.props.createSubject(e.props.selected.id,{text:"subject"});break;case"teacher":e.props.createTeacher(e.props.selected.id,{text:"teacher"})}};return l.a.createElement("div",null,l.a.createElement("h1",null,"Acadtable"),l.a.createElement(function(){return t.map(function(e){return l.a.createElement("div",{key:"t"+e.no},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,e.text),n.map(function(e){return l.a.createElement("td",{key:"c"+e.no},e.text)}),l.a.createElement("td",{onClick:function(){s("time")}},"+"))),l.a.createElement("tbody",null,a.map(function(t){return l.a.createElement("tr",{key:"r"+t.no},l.a.createElement("td",null,t.text),n.map(function(a){var n=c.filter(function(n){return n.day===e.no&&n.place===t.no&&n.time===a.no});return 0===n.length?l.a.createElement("td",{onClick:function(){var n={};n.day=e.no,n.place=t.no,n.time=a.no,s("block",n)},key:"b"+a.no},"+"):l.a.createElement("td",{key:"b"+a.no},n[0].text)}))}),l.a.createElement("tr",null,l.a.createElement("td",{onClick:function(){s("place")}},"+")))),l.a.createElement("button",{onClick:function(){s("day")}},"+"))})},null))}},{key:"render",value:function(){return 0===this.props.collections.length?l.a.createElement(y,null):null===this.props.selected?l.a.createElement("div",null,l.a.createElement("span",null,"Please select a collection")):this.screen()}}]),t}(n.Component),L=Object(b.b)(function(e){return{collections:e.CollectionsList,selected:e.SelectedCollection,tables:e.TablesList,days:e.DaysList,places:e.PlacesList,times:e.TimesList,blocks:e.BlocksList,batches:e.BatchesList,subjects:e.SubjectsList,teachers:e.TeachersList}},{createBlock:function(e,t){var a=f("bk",1,9),n=v.list(e,"blocks");return n.createItem(a,t),{type:"CREATE_BLOCK",payload:{blocks:n=v.list(e,"blocks")}}},createBatch:function(e,t){var a=v.list(e,"batches");return a.createItem(f("bh"),Object.assign(t,{no:a.all().length})),{type:"CREATE_BATCH",payload:{batches:a=v.list(e,"batches")}}},createDay:function(e,t){var a=v.list(e,"days");return a.createItem(f("dy"),Object.assign(t,{no:a.all().length})),{type:"CREATE_DAY",payload:{days:a=v.list(e,"days")}}},createTime:function(e,t){var a=v.list(e,"times");return a.createItem(f("tm"),Object.assign(t,{no:a.all().length})),{type:"CREATE_TIME",payload:{times:a=v.list(e,"times")}}},createPlace:function(e,t){var a=v.list(e,"places");return a.createItem(f("pl"),Object.assign(t,{no:a.all().length})),{type:"CREATE_PLACE",payload:{places:a=v.list(e,"places")}}},createTeacher:function(e,t){var a=v.list(e,"teachers");return a.createItem(f("tr"),Object.assign(t,{no:a.all().length})),{type:"CREATE_TEACHER",payload:{teachers:a=v.list(e,"teachers")}}},createSubject:function(e,t){var a=v.list(e,"subjects");return a.createItem(f("st"),Object.assign(t,{no:a.all().length})),{type:"CREATE_SUBJECT",payload:{subjects:a=v.list(e,"subjects")}}},select:C})(O),j=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"list-container"},this.props.list.map(function(t){var a=e.props.selected===t.id?"selected-card":"",n=e.props.selected===t.id;return l.a.createElement("div",{key:t.id,className:"table-card card-box ".concat(a)},l.a.createElement("div",{className:"card-title"},t.name),l.a.createElement("div",{className:"buttons-list blue"},e.props.buttons.map(function(e){return null!=e.selected&&e.selected&&n?null:l.a.createElement("button",{onClick:function(){e.action(t.id)},key:e.name},e.name)})))}))}}]),t}(n.Component),g=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={form:{name:""}},a.handle=function(e){e.preventDefault(),a.props.submit(a.state.form)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return"form"===this.props.display?l.a.createElement("form",{onSubmit:this.handle,className:"row-block"},l.a.createElement("label",{htmlFor:"name",className:"item"},this.props.name," :"),l.a.createElement("input",{type:"text",name:"name",className:"item",value:this.state.form.name,onChange:function(t){e.setState({form:{name:t.target.value}})}}),l.a.createElement("input",{type:"submit",className:"item"}),l.a.createElement("button",{onClick:function(){e.props.cancel()},className:"item"},"Cancel")):l.a.createElement("ul",{className:"buttons-list"},l.a.createElement("li",null,l.a.createElement("button",{onClick:this.props.click},"Create A Collection")))}}]),t}(n.Component),k=a(22),T=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={array:a.props.array,name:a.props.name,keys:[],vals:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,this.state.name,l.a.createElement("ul",null,this.state.array.map(function(t){return l.a.createElement("li",{onClick:function(){e.setState({keys:Object.keys(t)})}},t.name)}),l.a.createElement("li",null,"+")))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={collection:v.getData(a.props.collectionID),id:a.props.collectionID,name:null,tables:[],days:[],places:[],times:[],blocks:[],batches:[],subjects:[],teachers:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(k.a)({},this.state.collection))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"buttons-list"},l.a.createElement("button",{onClick:this.props.cancel},"Back")),l.a.createElement("div",null,"Name : ",this.state.name),l.a.createElement("div",null,l.a.createElement(T,{array:this.state.blocks,name:"block"})),l.a.createElement("div",null,l.a.createElement(T,{array:this.state.tables,name:"table"})),l.a.createElement("div",null,l.a.createElement(T,{array:this.state.days,name:"day"})),l.a.createElement("div",null,l.a.createElement(T,{array:this.state.times,name:"time"})),l.a.createElement("div",null,l.a.createElement(T,{array:this.state.places,name:"place"})),l.a.createElement("div",null,l.a.createElement(T,{array:this.state.batches,name:"batch"})),l.a.createElement("div",null,l.a.createElement(T,{array:this.state.subjects,name:"subject"})),l.a.createElement("div",null,l.a.createElement(T,{array:this.state.teachers,name:"teacher"})),l.a.createElement("div",{className:"buttons-list"},l.a.createElement("button",null,"Save")))}}]),t}(n.Component),I=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={createForm:!1,editCollection:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.collections,a=[];return a.push({name:"select",action:function(t){e.props.select(t)},selected:!0}),a.push({name:"edit",action:function(t){e.setState({editCollection:t})}}),a.push({name:"delete",action:function(t){e.props.delete(t)}}),null!=this.state.editCollection?l.a.createElement(S,{collectionID:this.state.editCollection,cancel:function(){e.setState({editCollection:null})}}):l.a.createElement("div",null,l.a.createElement("h1",null,"Collections"),l.a.createElement(g,{name:"collection",display:this.state.createForm?"form":"button",click:function(){e.setState({createForm:!0})},submit:function(t){e.props.create(t.name),e.setState({createForm:!1})},cancel:function(){e.setState({createForm:!1})}}),l.a.createElement(j,{selected:null!=this.props.selectedCollection?this.props.selectedCollection.id:null,list:t,buttons:a}))}}]),t}(n.Component),N={create:function(e){var t=f("t",0,5);return v.create(t,e),{type:"CREATE_COLLECTION",payload:{collections:v.getList()}}},select:C,rename:function(e,t){return v.rename(e,t),{type:"RENAME_COLLECTION",payload:{collections:v.getList()}}},delete:function(e){var t=v.getData(e);return v.delete(e),{type:"DELETE_COLLECTION",payload:{collections:v.getList(),deleted:t}}}},A=Object(b.b)(function(e){return{selectedCollection:e.SelectedCollection,collections:e.CollectionsList,tables:e.TablesList,days:e.DaysList,places:e.PlacesList,times:e.TimesList,blocks:e.BlocksList,batches:e.BatchesList,subjects:e.SubjectsList,teachers:e.TeachersList}},N)(I),_=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(p.a,null,l.a.createElement("div",null,l.a.createElement(d.a,{path:"/",component:E}),l.a.createElement("div",{className:"wrapper"},l.a.createElement(d.a,{path:"/",exact:!0,component:L}),l.a.createElement(d.a,{path:"/collections",exact:!0,component:A}))))}}]),t}(n.Component),D=a(10),w=Object(D.b)({CollectionsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.getList(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_COLLECTION":case"RENAME_COLLECTION":case"DELETE_COLLECTION":return t.payload.collections;default:return e}},SelectedCollection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":return t.payload.selectedCollection||null;case"DELETE_COLLECTION":return null!==e&&t.payload.deleted.id===e.id?null:e;default:return e}},TablesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_TABLE":return t.payload.tables.all();default:return e}},PlacesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_PLACE":return t.payload.places.all();default:return e}},DaysList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_DAY":return t.payload.days.all();default:return e}},TimesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_TIME":return t.payload.times.all();default:return e}},BlocksList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_BLOCK":return t.payload.blocks.all();default:return e}},SubjectsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_SUBJECT":return t.payload.subjects.all();default:return e}},TeachersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_TEACHER":return t.payload.teachers.all();default:return e}}}),x=Object(D.c)(w);s.a.render(l.a.createElement(b.a,{store:x},l.a.createElement(_,null)),document.querySelector("#root"))}},[[23,2,1]]]);
//# sourceMappingURL=main.ccf497ed.chunk.js.map