(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,n){e.exports=n(32)},32:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(19),c=n.n(i),l=n(2),s=n(3),o=n(5),u=n(4),m=n(6),p=n(35),b=n(34),h=n(33),f=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement(h.a,{to:"/"},r.a.createElement("button",null,"Home")),r.a.createElement(h.a,{to:"/tables"},r.a.createElement("button",null,"Tables")),r.a.createElement(h.a,{to:"/batches"},r.a.createElement("button",null,"Batches"))))}}]),t}(a.Component),v=n(9),d=function(){function e(t){Object(l.a)(this,e),"batch"===t?(this.focus=t,this.list="batches-list",this.data_prefix="bt-"):"table"===t&&(this.focus=t,this.list="tables-list",this.data_prefix="td-")}return Object(s.a)(e,[{key:"getList",value:function(){var e=sessionStorage.getItem(this.list)||"[]";try{e=JSON.parse(e)}catch(t){e=[]}return e}},{key:"getData",value:function(e){var t=sessionStorage.getItem(this.data_prefix+e);return void 0!==(t=JSON.parse(t))&&null!==t?t:{}}},{key:"saveList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];sessionStorage.setItem(this.list,JSON.stringify(e))}},{key:"saveData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};sessionStorage.setItem(this.data_prefix+e,JSON.stringify(t))}},{key:"create",value:function(t,n){var a=new e(this.focus),r=a.getList(),i={name:t,id:n};r.push(i),a.saveList(r)}},{key:"rename",value:function(t,n){var a=new e(this.focus),r=a.getList().map(function(e){return e.id===n&&(e.name=t),e});a.saveList(r)}},{key:"delete",value:function(t){var n=new e(this.focus),a=n.getList().filter(function(e){return e.id!==t});n.saveList(a)}}]),e}(),E=new d("table"),y=new d("batch"),O=function(e,t){return E.rename(e,t),{type:"RENAME_TABLE",list:E.getList()}},j=function(e,t){return y.rename(e,t),{type:"RENAME_BATCH",list:y.getList()}},g=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"renderList",value:function(){var e=this;return this.props.list.map(function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("div",null,t.name),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.props.deleteTableById(t.id)}},"Delete"),r.a.createElement(h.a,{to:{pathname:"/tables/rename",id:t.id}},r.a.createElement("button",null,"Rename"))))})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Tables"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(h.a,{to:"/tables/create"},"Create Table"))),this.renderList())}}]),t}(a.Component),B=Object(v.b)(function(e){return{list:e.TableList}},{renameTableById:O,deleteTableById:function(e){return E.delete(e),{type:"DELETE_TABLE",list:E.getList()}}})(g);var L=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:n.props.name,value:n.props.value||""},n.change=function(e){n.setState({name:n.props.name,value:e.target.value}),n.props.onChange(n.props.name,e.target.value)},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.onChange(this.state.name,this.state.value)}},{key:"render",value:function(){return r.a.createElement("input",{type:this.props.type||"text",name:this.props.name,onChange:this.change,value:this.state.value})}}]),t}(a.Component),T=function(e){var t={};return{Form:function(e){return r.a.createElement("form",{onSubmit:function(n){!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e.preventDefault(),n(t)}(n,e.onSubmit)}},e.children)},formProps:{onChange:function(e,n){void 0!==e&&(t[e]=n)}}}},S=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onFormSubmit=function(e){n.props.createTableByName(e.name),n.props.history.push("/tables")},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=T("create"),t=e.Form,n=e.formProps;return r.a.createElement(t,{onSubmit:this.onFormSubmit},r.a.createElement(L,Object.assign({name:"name"},n)),r.a.createElement(L,Object.assign({name:"submit",type:"submit",value:"Submit"},n)))}}]),t}(a.Component),w=Object(v.b)(null,{createTableByName:function(e){var t=Math.random().toString().split(".")[1].substr(0,5);return E.create(e,t),{type:"CREATE_TABLE",list:E.getList()}}})(S),C=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){n.props.renameTableById(e.newname,n.props.location.id),n.props.history.push("/tables")},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;if(void 0!==this.props.location.id){var t=new d("table").getList().filter(function(t){return t.id===e.props.location.id})[0],n=T("rename"),a=n.Form,i=n.formProps;return r.a.createElement("div",null,t.name,r.a.createElement(a,{onSubmit:this.handleSubmit},r.a.createElement(L,Object.assign({name:"newname"},i)),r.a.createElement(L,Object.assign({type:"submit",value:"Rename"},i))))}return this.props.history.push("/tables"),null}}]),t}(a.Component),k=Object(v.b)(null,{renameTableById:O})(C),A=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"renderList",value:function(){var e=this;return this.props.list.map(function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("div",null,t.name),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.props.deleteBatchById(t.id)}},"Delete"),r.a.createElement(h.a,{to:{pathname:"/batches/rename",id:t.id}},r.a.createElement("button",null,"Rename"))))})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Batches"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(h.a,{to:"/batches/create"},"Create Batch"))),this.renderList())}}]),t}(a.Component),_=Object(v.b)(function(e){return{list:e.BatchList}},{renameBatchById:j,deleteBatchById:function(e){return y.delete(e),{type:"DELETE_BATCH",list:y.getList()}}})(A),I=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onFormSubmit=function(e){n.props.createBatchByName(e.name),n.props.history.push("/batches")},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=T("create"),t=e.Form,n=e.formProps;return r.a.createElement(t,{onSubmit:this.onFormSubmit},r.a.createElement(L,Object.assign({name:"name"},n)),r.a.createElement(L,Object.assign({name:"submit",type:"submit",value:"Submit"},n)))}}]),t}(a.Component),N=Object(v.b)(null,{createBatchByName:function(e){var t=Math.random().toString().split(".")[1].substr(0,5);return y.create(e,t),{type:"CREATE_BATCH",list:y.getList()}}})(I),x=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){n.props.renameBatchById(e.newname,n.props.location.id),n.props.history.push("/batches")},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;if(void 0!==this.props.location.id){var t=new d("batch").getList().filter(function(t){return t.id===e.props.location.id})[0],n=T("rename"),a=n.Form,i=n.formProps;return r.a.createElement("div",null,t.name,r.a.createElement(a,{onSubmit:this.handleSubmit},r.a.createElement(L,Object.assign({name:"newname"},i)),r.a.createElement(L,Object.assign({type:"submit",value:"Rename"},i))))}return this.props.history.push("/batches"),null}}]),t}(a.Component),R=Object(v.b)(null,{renameBatchById:j})(x),D=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(b.a,{path:"/",component:f}),r.a.createElement("div",{className:"wrapper"},r.a.createElement(b.a,{path:"/tables",exact:!0,component:B}),r.a.createElement(b.a,{path:"/tables/create",exact:!0,component:w}),r.a.createElement(b.a,{path:"/tables/rename",exact:!0,component:k}),r.a.createElement(b.a,{path:"/batches",exact:!0,component:_}),r.a.createElement(b.a,{path:"/batches/create",exact:!0,component:N}),r.a.createElement(b.a,{path:"/batches/rename",exact:!0,component:R}))))}}]),t}(a.Component),F=n(11),H=new d("table"),M=new d("batch"),J=Object(F.b)({TableList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.getList(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_TABLE":case"RENAME_TABLE":case"DELETE_TABLE":return t.list;default:return e}},BatchList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.getList(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_BATCH":case"RENAME_BATCH":case"DELETE_BATCH":return t.list;default:return e}}}),P=Object(F.c)(J);c.a.render(r.a.createElement(v.a,{store:P},r.a.createElement(D,null)),document.querySelector("#root"))}},[[22,2,1]]]);
//# sourceMappingURL=main.c4447423.chunk.js.map