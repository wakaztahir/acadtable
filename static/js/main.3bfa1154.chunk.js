(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e){e.exports={name:"Example",id:"example",tables:[{name:"Monday Table",rows:"places",cols:"times",base:"days",baseValue:"dy7952700",id:"tl5786835"},{name:"Tuesday Table",baseValue:"dy3256093",rows:"places",cols:"times",base:"days",id:"tl6756441"},{name:"Wednesday Table",baseValue:"dy4108701",rows:"places",cols:"times",base:"days",id:"tl0912359"},{name:"Thursday Table",baseValue:"dy1700065",rows:"places",cols:"times",base:"days",id:"tl6539478"},{name:"Friday Table",baseValue:"dy7678812",rows:"places",cols:"times",base:"days",id:"tl4565578"}],blocks:[{text:null,name:"cs1self",customText:null,day:"dy7952700",place:"pl6095855",time:"tm8685748",batch:"bh6684699",subject:"st9551921",teacher:"tr1506142",display:"%batch%%subject%%teacher%",id:"bk3481321"},{text:null,name:"cs1streg",customText:null,day:"dy7952700",place:"pl9026267",time:"tm8685748",batch:"bh2407037",subject:"st2944175",teacher:"tr7099462",display:"%batch%%subject%%teacher%",id:"bk2462084"},{text:null,name:"itself",customText:null,day:"dy7952700",place:"pl6095855",time:"tm5024385",batch:"bh0060369",subject:"st9551921",teacher:"tr4218605",display:"%batch%%subject%%teacher%",id:"bk3598322"}],days:[{name:"Monday",id:"dy7952700"},{name:"Tuesday",id:"dy3256093"},{name:"Wednesday",id:"dy4108701"},{name:"Thursday",id:"dy1700065"},{name:"Friday",id:"dy7678812"},{name:"Saturday",id:"dy9991486"},{name:"Sunday",id:"dy4146822"}],times:[{name:"8:00",id:"tm8685748"},{name:"9:00",id:"tm5024385"},{name:"10:00",id:"tm4190520"},{name:"11:00",id:"tm7584056"},{name:"12:00",id:"tm5771024"}],places:[{name:"Room 1",id:"pl9026267"},{name:"Room 2",id:"pl3909920"},{name:"Room 3",id:"pl6095855"},{name:"Room 4",id:"pl8388577"},{name:"Room 5",id:"pl2676232"}],batches:[{name:"BSCS 1st Reg.",id:"bh2407037"},{name:"BSCS 1st Self.",id:"bh6684699"},{name:"BSIT 1st Reg.",id:"bh5873593"},{name:"BSIT 1st Self.",id:"bh0060369"},{name:"BSSE 1st Reg.",id:"bh7910571"},{name:"BSSE 1st Self.",id:"bh5106239"}],subjects:[{name:"Functional English",id:"st9551921"},{name:"Basic Electronics",id:"st2000964"},{name:"Thomas Calculus",id:"st2944175"},{name:"Programming Fundamentals",id:"st4206733"},{name:"ICT",id:"st9139652"}],teachers:[{name:"Prof. Abdur Rauf",id:"tr1506142"},{name:"Sir Khaleel",id:"tr6695021"},{name:"Sir Ayaaz",id:"tr7099462"},{name:"Sir Ahsan",id:"tr2977862"},{name:"Mis. Madiha",id:"tr4218605"}]}},26:function(e,t,a){e.exports=a(36)},36:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),s=a.n(r),c=a(2),i=a(3),o=a(5),u=a(4),d=a(6),p=a(39),m=a(38),y=a(37),h=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("header",null,l.a.createElement("nav",null,l.a.createElement(y.a,{to:"/"},l.a.createElement("button",null,"Home")),l.a.createElement(y.a,{to:"/collections"},l.a.createElement("button",null,"Collections"))))}}]),t}(n.Component),b=a(9),f=function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,null,[{key:"create",value:function(t,a){var n=e.getList(),l={name:a,id:t},r={name:a,id:t,tables:[],blocks:[],days:[],times:[],places:[],batches:[],subjects:[],teachers:[]};n.push(l),e.saveList(n),e.saveData(t,r)}},{key:"getList",value:function(){var e=localStorage.getItem("collections")||"[]";try{e=JSON.parse(e)}catch(t){e=[]}return e}},{key:"saveList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];localStorage.setItem("collections",JSON.stringify(e))}},{key:"getData",value:function(e){var t=localStorage.getItem("c-"+e);return void 0!==(t=JSON.parse(t))&&null!==t?t:{}}},{key:"saveData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};localStorage.setItem("c-"+e,JSON.stringify(t))}},{key:"rename",value:function(t,a){var n=e.getList().map(function(e){return e.id===t&&(e.name=a),e});e.saveList(n)}},{key:"delete",value:function(t){var a=e.getList().filter(function(e){return e.id!==t});e.saveList(a),localStorage.removeItem("c-"+t)}},{key:"list",value:function(t,a){var n=e.getData(t);if(n){n[a]||(n[a]=[],e.saveData(t,n));var l={all:function(){return e.getData(this.id)[this.type]},getItem:function(t){return e.getData(this.id)[this.type].filter(function(e){return e.id===t})[0]},createItem:function(t){var a=e.getData(this.id);return a[this.type].push(t),e.saveData(this.id,a),t},updateItem:function(t,a){var n=e.getData(this.id),l=n[this.type];l=l.map(function(e){return e.id===t?a:e}),n[this.type]=l,e.saveData(this.id,n)},deleteItem:function(t){var a=e.getData(this.id),n=a[this.type];a[this.type]=n.filter(function(e){return e.id!==t}),e.saveData(this.id,a)}};return l.id=t,l.type=a,l}return null}}]),e}(),E=a(23),v=function(e){return{type:"SELECT_COLLECTION",payload:{selectedCollection:f.getData(e),tables:f.list(e,"tables"),days:f.list(e,"days"),places:f.list(e,"places"),times:f.list(e,"times"),blocks:f.list(e,"blocks"),batches:f.list(e,"batches"),subjects:f.list(e,"subjects"),teachers:f.list(e,"teachers")}}},C=function(e,t){var a=f.list(e,"blocks");return a.createItem(t),{type:"CREATE_BLOCK",payload:{blocks:a=f.list(e,"blocks")}}},k=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("span",null,"Welcome !"),l.a.createElement("p",null,"You have't created any collections"),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){console.log("Loading The Example"),e.props.exampleCollection()}},"Load An Example")),l.a.createElement("br",null),l.a.createElement(y.a,{to:"/collections"},"Click Here To Create Collections"))}}]),t}(n.Component),T=Object(b.b)(null,{exampleCollection:function(){f.create("example","Example");var e=f.getList();return f.saveData("example",E),{type:"EXAMPLE_COLLECTION",payload:{collections:e}}}})(k),g=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"pattern",value:function(e){for(var t=[];e.indexOf("%")>-1;){var a=e.match(/%(.*?)%/);e=e.replace(a[0],""),t.push(a[1])}return t}},{key:"getTextFor",value:function(e,t){switch(e){case"batch":return this.props.batches.filter(function(e){return e.id===t.batch})[0].name;case"day":return this.props.days.filter(function(e){return e.id===t.day})[0].name;case"time":return this.props.times.filter(function(e){return e.id===t.time})[0].name;case"place":return this.props.places.filter(function(e){return e.id===t.place})[0].name;case"teacher":return this.props.teachers.filter(function(e){return e.id===t.teacher})[0].name;case"subject":return this.props.subjects.filter(function(e){return e.id===t.subject})[0].name;default:return""}}},{key:"render",value:function(){var e=this,t=this.props.block,a=this.pattern(t.display);return l.a.createElement("div",{className:"block"},a.map(function(a){return l.a.createElement("div",{key:"blp"+a},e.getTextFor(a,t))}))}}]),t}(n.Component),j=Object(b.b)(function(e){return{tables:e.TablesList,days:e.DaysList,places:e.PlacesList,times:e.TimesList,batches:e.BatchesList,subjects:e.SubjectsList,teachers:e.TeachersList}})(g),O=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.base,a=this.props.baseBlockKey,n=this.props.rows,r=this.props.rowsBlockKey,s=this.props.cols,c=this.props.colsBlockKey,i=this.props.blocks,o=this.props.mode;return l.a.createElement("div",{key:this.props.id},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,null!=t?t.name:null),s.map(function(e){return l.a.createElement("td",{key:"c"+e.id},e.name)}))),l.a.createElement("tbody",null,n.map(function(n){return l.a.createElement("tr",{key:"r"+n.id},l.a.createElement("td",null,n.name),s.map(function(s){var u=i.filter(function(e){return e[a]===t.id&&e[r]===n.id&&e[c]===s.id});return 0===u.length?"print"===o?l.a.createElement("td",{key:"emp"+s.id}):l.a.createElement("td",{onClick:function(){var l={};l[a]=t.id,l[r]=n.id,l[c]=s.id,e.props.displayAddModal(l)},key:"b"+s.id},l.a.createElement("button",null,"+")):l.a.createElement("td",{key:"b"+s.id,className:"table-block"},l.a.createElement(j,{block:u[0]}))}))}))))}}]),t}(n.Component),L=Object(b.b)(function(e){return{blocks:e.BlocksList}})(O),S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={modalType:null==a.props.type?"message":a.props.type},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"contentModal",value:function(e){return l.a.createElement("div",{className:"modal",display:this.state.display?"block":"none"},l.a.createElement("div",{className:"modal-inside"},null!=this.props.cancel?l.a.createElement("div",{onClick:this.props.cancel,className:"modal-x"},"X"):null,e))}},{key:"messageModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return this.contentModal(l.a.createElement("div",null,l.a.createElement("div",{className:"modal-message"},e),l.a.createElement("div",{className:"modal-buttons"},l.a.createElement("button",{onClick:function(){t()}},"Ok"))))}},{key:"confirmModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Are you sure ?",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return this.contentModal(l.a.createElement("div",null,l.a.createElement("div",{className:"modal-message"},e),l.a.createElement("div",{className:"modal-buttons"},l.a.createElement("button",{onClick:function(){t()}},"Yes"),l.a.createElement("button",{onClick:function(){a()}},"Cancel"))))}},{key:"render",value:function(){if(!this.props.display)return null;switch(this.state.modalType){case"message":default:return this.messageModal(this.props.message);case"confirm":return this.confirmModal(this.props.message,this.props.yes,this.props.cancel);case"content":return this.contentModal(this.props.children)}}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={property:a.props.property,keys:a.props.keys},a.saveForm=function(){var e=a.state.property;a.state.keys.forEach(function(t){t.type&&"input"!==t.type?t.type&&"select"===t.type?null==e[t.name]&&(e[t.name]=null!=a.state.property[t.name]?a.state.property[t.name]:null!=t.default?t.default:t.list.length>0?t.list[0].id:null):t.type&&"textarea"===t.type&&(e[t.name]=null!=a.state.property[t.name]?a.state.property[t.name]:null!=t.default?t.default:null):null==e[t.name]&&(e[t.name]=null!=a.state.property[t.name]?a.state.property[t.name]:null!=t.default?t.default:null)}),a.props.save(e)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){this.props.nounmount||this.saveForm()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},l.a.createElement("div",{style:{display:"table"}},l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.saveForm()}},this.state.keys.map(function(t){if(null!=t.show&&!t.show)return null;var a=null!=t.type?t.type:"input";return l.a.createElement("div",{key:t.name+t.id,style:{display:"table-row"}},l.a.createElement("label",{htmlFor:t.name+t.id+"inp",style:{display:"table-cell"}},t.name),function(t,a){switch(t){case"input":default:return l.a.createElement("input",{key:a.name+"inp",type:"text",onChange:function(t){var n=t.target.value,l=e.state.property;l[a.name]=n,e.setState({property:l})},disabled:null!=a.locked&&a.locked,required:null!=a.required&&a.required,value:null!=e.state.property[a.name]?e.state.property[a.name]:null!=a.default?a.default:"",style:{display:"table-cell"}});case"select":return l.a.createElement("select",{defaultValue:null!=e.state.property[a.name]?e.state.property[a.name]:null!=a.default?a.default:a.list.length>0?a.list[0].id:null,onChange:function(t){var n=e.state.property;n[a.name]=t.target.value,e.setState({property:n})},disabled:null!=a.locked&&a.locked,required:null!=a.required&&a.required},a.list.map(function(e){return l.a.createElement("option",{value:e.id,key:e.id},e.name)}));case"textarea":return l.a.createElement("textarea",{key:a.name+"txt",onChange:function(t){var n=t.target.value,l=e.state.property;l[a.name]=n,e.setState({property:l})},disabled:null!=a.locked&&a.locked,required:null!=a.required&&a.required,style:{display:"table-cell"},value:null==e.state.property[a.name]?null!=a.default?a.default:"":e.state.property[a.name]})}}(a,t))}),this.props.children,l.a.createElement("div",{style:{display:"table-row"}},l.a.createElement("div",{style:{display:"table-cell"}}),l.a.createElement("input",{type:"submit",style:{display:"table-cell",width:"100%"},className:"btn-red"})))))}}]),t}(n.Component),w=a(24),D=a.n(w),I=a(17),_=a.n(I),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;switch(e){case"collection":e="cn";break;case"table":e="tl";break;case"block":e="bk";break;case"day":e="dy";break;case"time":e="tm";break;case"place":e="pl";break;case"batch":e="bh";break;case"subject":e="st";break;case"teacher":e="tr"}return e+Math.random().toString().split(".")[1].substr(t,a)},B=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={mode:"edit",download:!1,downloadType:"pdf",addModal:!1,addModalParams:{}},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"downloadPDF",value:function(){var e=this.refs.screen,t=new D.a({orientation:"landscape"});t.fromHTML(e),t.save("file.pdf")}},{key:"downloadPNG",value:function(){var e=this.refs.screen;_.a.toPng(e,{bgcolor:"#fff"}).then(function(e){var t=document.createElement("a");t.href=e,t.download="file.png",t.target="_blank",t.click()}).catch(function(e){console.error("Error converting to PNG Image")})}},{key:"downloadJPEG",value:function(){var e=this.refs.screen;_.a.toJpeg(e,{bgcolor:"#fff"}).then(function(e){var t=document.createElement("a");t.download="file.jpeg",t.href=e,t.target="_blank",t.click()}).catch(function(e){console.error("Error converting to JPEG Image")})}},{key:"componentDidUpdate",value:function(){if(this.state.download)switch(this.state.downloadType){case"pdf":default:this.downloadPDF();break;case"png":this.downloadPNG();break;case"jpeg":this.downloadJPEG()}}},{key:"addModal",value:function(){var e=this,t=this.state.addModalParams;if(this.state.addModal){var a=[{name:"text",required:!0,locked:!0,show:!1},{name:"name",required:!0},{name:"customText"},{name:"day",type:"select",list:this.props.days,required:!0},{name:"place",type:"select",list:this.props.places,required:!0},{name:"time",type:"select",list:this.props.times,required:!0},{name:"batch",type:"select",list:this.props.batches,required:!0},{name:"subject",type:"select",list:this.props.subjects,required:!0},{name:"teacher",type:"select",list:this.props.teachers,required:!0},{name:"display",type:"textarea",required:!0,default:"%batch%%subject%%teacher%"}];return Object.keys(t).forEach(function(e){null!==t[e]&&a.forEach(function(a){null!=a&&a.name===e&&(console.log("default",t[e]),a.default=t[e],a.show=!1)})}),l.a.createElement(S,{type:"content",display:!0,cancel:function(){e.setState({addModal:!1,addModalParams:{}})}},l.a.createElement(A,{property:{id:N("block")},keys:a,save:function(t){e.props.createBlock(e.props.selected.id,t),e.setState({addModal:!1,addModalParams:{}})},nounmount:!0}))}}},{key:"screen",value:function(){var e=this,t=this.props,a=t.tables,n=t.blocks,r=t.batches,s=t.days,c=t.times,i=t.places,o=t.subjects,u=t.teachers,d={tables:a,blocks:n,batches:r,days:s,times:c,places:i,subjects:o,teachers:u},p=function(e){switch(e){case"batches":return"batch";default:return e.substr(0,e.length-1)}};return l.a.createElement("div",null,l.a.createElement("h1",null,"Acadtable"),l.a.createElement("div",null,this.addModal()),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){e.setState({mode:"print",downloadType:"pdf",download:!0})}},"Download As PDF"),l.a.createElement("button",{onClick:function(){e.setState({mode:"print",downloadType:"png",download:!0})}},"Download As PNG"),l.a.createElement("button",{onClick:function(){e.setState({mode:"print",downloadType:"jpeg",download:!0})}},"Download As JPEG")),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){e.setState({mode:"edit"})},className:"edit"===this.state.mode?"btn-red":""},"edit"),l.a.createElement("button",{onClick:function(){e.setState({mode:"print"})},className:"print"===this.state.mode?"btn-red":""},"print")),l.a.createElement("div",{ref:"screen"},a.map(function(t){var a=d[t.base].filter(function(e){return e.id===t.baseValue})[0],r=d[t.rows],s=d[t.cols];return l.a.createElement(L,{id:t.id,key:t.id,mode:e.state.mode,base:a,baseBlockKey:p(t.base),rows:r,rowsBlockKey:p(t.rows),cols:s,colsBlockKey:p(t.cols),blocks:n,displayAddModal:function(t){Object.keys(d).map(function(e){var a=p(e);return null==t[a]&&"table"!==a&&"block"!==a&&(t[a]=null),null}),e.setState({addModal:!0,addModalParams:t})}})})))}},{key:"render",value:function(){return 0===this.props.collections.length?l.a.createElement(T,null):null===this.props.selected?(1===this.props.collections.length&&this.props.selectCollection(this.props.collections[0].id),l.a.createElement("div",null,l.a.createElement("span",null,"Please select a collection"))):this.screen()}}]),t}(n.Component),P=Object(b.b)(function(e){return{collections:e.CollectionsList,selected:e.SelectedCollection,tables:e.TablesList,days:e.DaysList,places:e.PlacesList,times:e.TimesList,blocks:e.BlocksList,batches:e.BatchesList,subjects:e.SubjectsList,teachers:e.TeachersList}},{selectCollection:v,createBlock:C})(B),q=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"list-container"},this.props.list.map(function(t){var a=e.props.selected===t.id?"selected-card":"",n=e.props.selected===t.id;return l.a.createElement("div",{key:t.id,className:"table-card card-box ".concat(a)},l.a.createElement("div",{className:"card-title"},t.name),l.a.createElement("div",{className:"buttons-list blue"},e.props.buttons.map(function(e){return null!=e.selected&&e.selected&&n?null:l.a.createElement("button",{onClick:function(){e.action(t.id)},key:e.name},e.name)})))}))}}]),t}(n.Component),x=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={form:{name:""}},a.handle=function(e){e.preventDefault(),a.props.submit(a.state.form)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return"form"===this.props.display?l.a.createElement("form",{onSubmit:this.handle,className:"row-block"},l.a.createElement("label",{htmlFor:"name",className:"item"},this.props.name," :"),l.a.createElement("input",{type:"text",name:"name",className:"item",value:this.state.form.name,onChange:function(t){e.setState({form:{name:t.target.value}})}}),l.a.createElement("input",{type:"submit",className:"item"}),l.a.createElement("button",{onClick:function(){e.props.cancel()},className:"item"},"Cancel")):l.a.createElement("ul",{className:"buttons-list"},l.a.createElement("li",null,l.a.createElement("button",{onClick:this.props.click},"Create A Collection")))}}]),t}(n.Component),M=a(11),R=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={property:a.props.property,keys:a.props.keys},a.saveTable=function(){var e=a.state.property;null==e.base&&(e.base=a.props.items[0].name),null==e.baseValue&&(e.baseValue=a.props.items[0].list.length>0?a.props.items[0].list[0].id:null),null==e.rows&&(e.rows=a.props.items[1].name),null==e.cols&&(e.cols=a.props.items[2].name),a.props.save(e)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){this.props.nounmount||this.saveTable()}},{key:"render",value:function(){var e=this,t=this.props.items,a=null!=this.state.property.base?this.state.property.base:t[0].name,n=t.filter(function(e){return e.name===a})[0],r=null!=n?n.list:[],s=t.filter(function(e){return e.name!==a}),c=null!=this.state.property.rows?this.state.property.rows:t[1].name,i=s.filter(function(e){return e.name!==c}),o=this.state.property;return l.a.createElement(A,{property:this.state.property,keys:this.props.keys,save:this.saveTable,nounmount:this.props.nounmount},l.a.createElement("div",{style:{display:"table-row"}},l.a.createElement("label",{htmlFor:"base",style:{display:"table-cell"}},"Base"),l.a.createElement("select",{name:"base",onChange:function(t){e.setState({property:Object(M.a)({},o,{base:t.target.value})})},style:{display:"table-cell"},defaultValue:null!=this.state.property.base?this.state.property.base:t[0].name,required:!0},t.map(function(e){return l.a.createElement("option",{key:e.name,value:e.name},e.name)})),l.a.createElement("select",{style:{display:"table-cell"},onChange:function(t){e.setState({property:Object(M.a)({},o,{baseValue:t.target.value})})},defaultValue:null!=this.state.property.baseValue?this.state.property.baseValue:r.length>0?r[0].id:null,required:!0},r.map(function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.name)}))),l.a.createElement("div",{style:{display:"table-row"}},l.a.createElement("label",{htmlFor:"rows",style:{display:"table-cell"}},"Rows"),l.a.createElement("select",{id:"rows",style:{display:"table-cell"},onChange:function(t){e.setState({property:Object(M.a)({},o,{rows:t.target.value})})},defaultValue:null!=this.state.property.rows?this.state.property.rows:s[0].name,required:!0},s.map(function(e){return l.a.createElement("option",{key:e.name,value:e.name},e.name)}))),l.a.createElement("div",{style:{display:"table-row"}},l.a.createElement("label",{htmlFor:"rows",style:{display:"table-cell"}},"Columns"),l.a.createElement("select",{style:{display:"table-cell"},onChange:function(t){e.setState({property:Object(M.a)({},o,{cols:t.target.value})})},defaultValue:null!=this.state.property.cols?this.state.property.cols:i[0].name,required:!0},i.map(function(e){return l.a.createElement("option",{key:e.name,value:e.name},e.name)}))))}}]),t}(n.Component),F=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={array:a.props.array,name:a.props.name,heading:a.props.heading,editor:a.props.editor||"FormEditor",showCreator:!1,showEditorFor:null},a.editor=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(a.state.showEditorFor!==e&&!t)return null;var r=t?n:a.save;switch(a.state.editor){case"FormEditor":default:return l.a.createElement(A,{property:e,keys:a.props.keys,save:r,nounmount:t});case"TableEditor":return l.a.createElement(R,{property:e,items:a.props.items,keys:a.props.keys,save:r,nounmount:t})}},a.deleteProperty=function(e){a.props.deleteActionCreator(e.id);var t=a.state.array.filter(function(t){return t.id!==e.id});a.setState({array:t})},a.create=function(e){console.log("Creating In Storage"),console.log(e),e.id=N(a.state.name),a.props.createActionCreator(e)},a.save=function(e){console.log("Saving Changes into Storage"),a.props.updateActionCreator(e.id,e),a.state.showEditorFor===e&&a.setState({showEditorFor:null})},a.creator=function(){if(a.state.showCreator){var e={};return a.props.keys.map(function(t){return e[t.name]=null,null}),a.editor(e,!0,a.create)}return null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h2",null,this.state.heading),l.a.createElement("div",null,this.props.children),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){e.setState({showCreator:!e.state.showCreator})},className:this.state.showCreator?"":"btn-red"},this.state.showCreator?"Cancel":"Create")),l.a.createElement("div",null,this.creator(),l.a.createElement("ul",{style:{padding:"0px"}},this.state.array.map(function(t){return l.a.createElement("li",{key:t.id,onClick:function(){return e.setState({property:t})},className:"area-item"},l.a.createElement("div",{style:{width:"100%",display:"flex"}},l.a.createElement("div",null,l.a.createElement("h3",null,t.name)),l.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"}},l.a.createElement("div",{className:"buttons-list"},l.a.createElement("button",{onClick:function(){e.setState({showEditorFor:t})}},"Edit"),l.a.createElement("button",{onClick:function(){return e.deleteProperty(t)}},"Delete")))),e.editor(t))})))))}}]),t}(n.Component),U=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];return l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){t.forEach(function(t){var a={};a.name=t,a.id=N("day"),e.props.create(a)})}},"Add All Days"))}}]),t}(n.Component),J=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state=Object(M.a)({},f.getData(a.props.collectionID),{editArea:"lectures"}),a.updateState=function(){a.setState(Object(M.a)({},f.getData(a.props.collectionID)))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"buttons-list"},l.a.createElement("button",{onClick:this.props.cancel},"Back")),l.a.createElement("h1",null,"Collection : ",this.state.name),l.a.createElement("div",null,["lectures","tables","batches","days","times","places","subjects","teachers"].map(function(t){var a="";return t===e.state.editArea&&(a="btn-red"),l.a.createElement("button",{onClick:function(){e.setState({editArea:t})},style:{textTransform:"capitalize",margin:"2px"},className:a,key:t},t)})),l.a.createElement("div",null,l.a.createElement(function(){switch(e.state.editArea){case"tables":return l.a.createElement(F,{array:e.state.tables,createActionCreator:function(t){e.props.createTable(e.state.id,t),e.updateState()},updateActionCreator:function(t,a){e.props.updateTable(e.state.id,t,a),e.updateState()},deleteActionCreator:function(t){e.props.deleteTable(e.state.id,t),e.updateState()},name:"table",editor:"TableEditor",heading:"Tables",items:[{name:"days",list:e.state.days,required:!0},{name:"times",list:e.state.times,required:!0},{name:"batches",list:e.state.batches,required:!0},{name:"places",list:e.state.places,required:!0},{name:"subjects",list:e.state.subjects,required:!0},{name:"teachers",list:e.state.teachers,required:!0}],keys:[{name:"name",required:!0}]});case"lectures":default:return l.a.createElement(F,{array:e.state.blocks,createActionCreator:function(t){e.props.createBlock(e.state.id,t),e.updateState()},updateActionCreator:function(t,a){e.props.updateBlock(e.state.id,t,a),e.updateState()},deleteActionCreator:function(t){e.props.deleteBlock(e.state.id,t),e.updateState()},name:"block",heading:"Lectures",keys:[{name:"text",required:!0,locked:!0,show:!1},{name:"name",required:!0},{name:"customText"},{name:"day",type:"select",list:e.state.days,required:!0},{name:"place",type:"select",list:e.state.places,required:!0},{name:"time",type:"select",list:e.state.times,required:!0},{name:"batch",type:"select",list:e.state.batches,required:!0},{name:"subject",type:"select",list:e.state.subjects,required:!0},{name:"teacher",type:"select",list:e.state.teachers,required:!0},{name:"display",type:"textarea",required:!0,default:"%batch%%subject%%teacher%"}]});case"days":return l.a.createElement(F,{array:e.state.days,createActionCreator:function(t){e.props.createDay(e.state.id,t),e.updateState()},updateActionCreator:function(t,a){e.props.updateDay(e.state.id,t,a),e.updateState()},deleteActionCreator:function(t){e.props.deleteDay(e.state.id,t),e.updateState()},name:"day",heading:"Days",keys:[{name:"name",required:!0}]},l.a.createElement(U,{create:function(t){e.props.createDay(e.state.id,t),e.updateState()}}));case"times":return l.a.createElement(F,{array:e.state.times,createActionCreator:function(t){e.props.createTime(e.state.id,t),e.updateState()},updateActionCreator:function(t,a){e.props.updateTime(e.state.id,t,a),e.updateState()},deleteActionCreator:function(t){e.props.deleteTime(e.state.id,t),e.updateState()},name:"time",heading:"Times",keys:[{name:"name",required:!0}]});case"places":return l.a.createElement(F,{array:e.state.places,createActionCreator:function(t){e.props.createPlace(e.state.id,t),e.updateState()},updateActionCreator:function(t,a){e.props.updatePlace(e.state.id,t,a),e.updateState()},deleteActionCreator:function(t){e.props.deletePlace(e.state.id,t),e.updateState()},name:"place",heading:"Places",keys:[{name:"name",required:!0}]});case"batches":return l.a.createElement(F,{array:e.state.batches,createActionCreator:function(t){e.props.createBatch(e.state.id,t),e.updateState()},updateActionCreator:function(t,a){e.props.updateBatch(e.state.id,t,a),e.updateState()},deleteActionCreator:function(t){e.props.deleteBatch(e.state.id,t),e.updateState()},name:"batch",heading:"Batches",keys:[{name:"name",required:!0,locked:!1}]});case"subjects":return l.a.createElement(F,{array:e.state.subjects,createActionCreator:function(t){e.props.createSubject(e.state.id,t),e.updateState()},updateActionCreator:function(t,a){e.props.updateSubject(e.state.id,t,a),e.updateState()},deleteActionCreator:function(t){e.props.deleteSubject(e.state.id,t),e.updateState()},name:"subject",heading:"Subjects",keys:[{name:"name",required:!0,locked:!1}]});case"teachers":return l.a.createElement(F,{array:e.state.teachers,createActionCreator:function(t){e.props.createTeacher(e.state.id,t),e.updateState()},updateActionCreator:function(t,a){e.props.updateTeacher(e.state.id,t,a),e.updateState()},deleteActionCreator:function(t){e.props.deleteTeacher(e.state.id,t),e.updateState()},name:"teacher",heading:"Teachers",keys:[{name:"name",required:!0,locked:!1}]})}},null)))}}]),t}(n.Component),V=Object(b.b)(null,{createBlock:C,updateBlock:function(e,t,a){var n=f.list(e,"blocks");return n.updateItem(t,a),{type:"UPDATE_BLOCK",payload:{blocks:n=f.list(e,"blocks")}}},deleteBlock:function(e,t){var a=f.list(e,"blocks");return a.deleteItem(t),{type:"DELETE_BLOCK",payload:{blocks:a=f.list(e,"blocks")}}},createTable:function(e,t){var a=f.list(e,"tables");return a.createItem(t),{type:"CREATE_TABLE",payload:{tables:a=f.list(e,"tables")}}},updateTable:function(e,t,a){var n=f.list(e,"tables");return n.updateItem(t,a),{type:"UPDATE_TABLE",payload:{tables:n=f.list(e,"tables")}}},deleteTable:function(e,t){var a=f.list(e,"tables");return a.deleteItem(t),{type:"DELETE_TABLE",payload:{tables:a=f.list(e,"tables")}}},createDay:function(e,t){var a=f.list(e,"days");return a.createItem(t),{type:"CREATE_DAY",payload:{days:a=f.list(e,"days")}}},updateDay:function(e,t,a){var n=f.list(e,"days");return n.updateItem(t,a),{type:"UPDATE_DAY",payload:{days:n=f.list(e,"days")}}},deleteDay:function(e,t){var a=f.list(e,"days");return a.deleteItem(t),{type:"DELETE_DAY",payload:{days:a=f.list(e,"days")}}},createTime:function(e,t){var a=f.list(e,"times");return a.createItem(t),{type:"CREATE_TIME",payload:{times:a=f.list(e,"times")}}},updateTime:function(e,t,a){var n=f.list(e,"times");return n.updateItem(t,a),{type:"UPDATE_TIME",payload:{times:n=f.list(e,"times")}}},deleteTime:function(e,t){var a=f.list(e,"times");return a.deleteItem(t),{type:"DELETE_TIME",payload:{times:a=f.list(e,"times")}}},createPlace:function(e,t){var a=f.list(e,"places");return a.createItem(t),{type:"CREATE_PLACE",payload:{places:a=f.list(e,"places")}}},updatePlace:function(e,t,a){var n=f.list(e,"places");return n.updateItem(t,a),{type:"UPDATE_PLACE",payload:{places:n=f.list(e,"places")}}},deletePlace:function(e,t){var a=f.list(e,"places");return a.deleteItem(t),{type:"DELETE_PLACE",payload:{places:a=f.list(e,"places")}}},createBatch:function(e,t){var a=f.list(e,"batches");return a.createItem(t),{type:"CREATE_BATCH",payload:{batches:a=f.list(e,"batches")}}},updateBatch:function(e,t,a){var n=f.list(e,"batches");return n.updateItem(t,a),{type:"UPDATE_BATCH",payload:{batches:n=f.list(e,"batches")}}},deleteBatch:function(e,t){var a=f.list(e,"batches");return a.deleteItem(t),{type:"DELETE_BATCH",payload:{batches:a=f.list(e,"batches")}}},createSubject:function(e,t){var a=f.list(e,"subjects");return a.createItem(t),{type:"CREATE_SUBJECT",payload:{subjects:a=f.list(e,"subjects")}}},updateSubject:function(e,t,a){var n=f.list(e,"subjects");return n.updateItem(t,a),{type:"UPDATE_SUBJECT",payload:{subjects:n=f.list(e,"subjects")}}},deleteSubject:function(e,t){var a=f.list(e,"subjects");return a.deleteItem(t),{type:"DELETE_SUBJECT",payload:{subjects:a=f.list(e,"subjects")}}},createTeacher:function(e,t){var a=f.list(e,"teachers");return a.createItem(t),{type:"CREATE_TEACHER",payload:{teachers:a=f.list(e,"teachers")}}},updateTeacher:function(e,t,a){var n=f.list(e,"teachers");return n.updateItem(t,a),{type:"UPDATE_TEACHER",payload:{teachers:n=f.list(e,"teachers")}}},deleteTeacher:function(e,t){var a=f.list(e,"teachers");return a.deleteItem(t),{type:"DELETE_TEACHER",payload:{teachers:a=f.list(e,"teachers")}}}})(J),H=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={createForm:!1,editCollection:null,modalDisplay:!1,deleteFunction:function(){}},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"displayDeleteModal",value:function(){this.setState({modalDisplay:!0})}},{key:"render",value:function(){var e=this,t=this.props.collections,a=[];return a.push({name:"select",action:function(t){e.props.selectCollection(t)},selected:!0}),a.push({name:"copy",action:function(t){e.props.copyCollection(t,N("collection"))}}),a.push({name:"edit",action:function(t){e.setState({editCollection:t})}}),a.push({name:"delete",action:function(t){e.setState({modalDisplay:!0,deleteFunction:function(){e.props.deleteCollection(t)}})}}),null!=this.state.editCollection?l.a.createElement(V,{collectionID:this.state.editCollection,cancel:function(){e.setState({editCollection:null})}}):l.a.createElement("div",null,l.a.createElement("h1",null,"Collections"),l.a.createElement(x,{name:"collection",display:this.state.createForm?"form":"button",click:function(){e.setState({createForm:!0})},submit:function(t){e.props.createCollection(N("collection"),t.name),e.setState({createForm:!1})},cancel:function(){e.setState({createForm:!1})}}),l.a.createElement(q,{selected:null!=this.props.selectedCollection?this.props.selectedCollection.id:null,list:t,buttons:a}),l.a.createElement(S,{display:this.state.modalDisplay,type:"confirm",yes:function(){e.state.deleteFunction(),e.setState({modalDisplay:!1})},cancel:function(){return e.setState({modalDisplay:!1})}}))}}]),t}(n.Component),K=Object(b.b)(function(e){return{collections:e.CollectionsList,selectedCollection:e.SelectedCollection}},{createCollection:function(e,t){return f.create(e,t),{type:"CREATE_COLLECTION",payload:{collections:f.getList()}}},selectCollection:v,copyCollection:function(e,t){var a=f.getData(e);return a.id=t,a.name+=" Copy",f.create(t,a.name),f.saveData(t,a),{type:"COPY_COLLECTION",payload:{collections:f.getList()}}},renameCollection:function(e,t){return f.rename(e,t),{type:"RENAME_COLLECTION",payload:{collections:f.getList()}}},deleteCollection:function(e){var t=f.getData(e);return f.delete(e),{type:"DELETE_COLLECTION",payload:{collections:f.getList(),deleted:t}}}})(H),Y=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(p.a,null,l.a.createElement("div",null,l.a.createElement(h,null),l.a.createElement("div",{className:"wrapper"},l.a.createElement(m.a,{path:"/",exact:!0,component:P}),l.a.createElement(m.a,{path:"/collections",exact:!0,component:K}))))}}]),t}(n.Component),G=a(12),W=Object(G.b)({CollectionsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.getList(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXAMPLE_COLLECTION":case"CREATE_COLLECTION":case"COPY_COLLECTION":case"RENAME_COLLECTION":case"DELETE_COLLECTION":return t.payload.collections;default:return e}},SelectedCollection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":return t.payload.selectedCollection||null;case"DELETE_COLLECTION":return null!==e&&t.payload.deleted.id===e.id?null:e;default:return e}},TablesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_TABLE":return t.payload.tables.all();default:return e}},PlacesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_PLACE":case"UPDATE_PLACE":case"DELETE_PLACE":return t.payload.places.all();default:return e}},BatchesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_BATCH":case"UPDATE_BATCH":case"DELETE_BATCH":return t.payload.batches.all();default:return e}},DaysList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_DAY":case"UPDATE_DAY":case"DELETE_DAY":return t.payload.days.all();default:return e}},TimesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_TIME":return t.payload.times.all();default:return e}},BlocksList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_BLOCK":return t.payload.blocks.all();default:return e}},SubjectsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_SUBJECT":case"UPDATE_SUBJECT":case"DELETE_SUBJECT":return t.payload.subjects.all();default:return e}},TeachersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_TEACHER":return t.payload.teachers.all();default:return e}}}),X=Object(G.c)(W);s.a.render(l.a.createElement(b.a,{store:X},l.a.createElement(Y,null)),document.querySelector("#root"))}},[[26,2,1]]]);
//# sourceMappingURL=main.3bfa1154.chunk.js.map