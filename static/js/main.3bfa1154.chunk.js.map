{"version":3,"sources":["components/Header.js","engine/storage.js","actions/index.js","actions/types.js","components/display/Welcome.js","components/display/Block.js","components/display/Table.js","components/Modal.js","components/collections/areas/FormEditor.js","actions/helpers.js","components/display/index.js","components/collections/List.js","components/collections/Create.js","components/collections/areas/TableEditor.js","components/collections/areas/index.js","components/collections/user/Days.js","components/collections/Edit.js","components/collections/index.js","components/App.js","reducers/index.js","reducers/CollectionsList.js","reducers/SelectedCollection.js","reducers/TablesList.js","reducers/PlacesList.js","reducers/BatchesList.js","reducers/DaysList.js","reducers/TimesList.js","reducers/BlocksList.js","reducers/SubjectsList.js","reducers/TeachersList.js","index.js"],"names":["Header","react_default","a","createElement","Link","to","Component","storage","id","name","list","getList","collection","data","tables","blocks","days","times","places","batches","subjects","teachers","push","saveList","saveData","localStorage","getItem","JSON","parse","ex","arguments","length","undefined","setItem","stringify","newname","newlist","map","item","filter","removeItem","type","tableData","getData","ListFunctions","all","this","itemID","createItem","updateItem","deleteItem","selectCollection","payload","selectedCollection","createBlock","collectionID","Welcome","_this","onClick","console","log","props","exampleCollection","connect","create","Example","collections","Block","string","pattern","indexOf","words","match","replace","variable","block","b","batch","day","time","place","teacher","subject","display","className","p","key","getTextFor","state","TablesList","DaysList","PlacesList","TimesList","BatchesList","SubjectsList","TeachersList","Table","base","BaseBlockKey","baseBlockKey","rows","RowsBlockKey","rowsBlockKey","cols","ColsBlockKey","colsBlockKey","mode","col","row","params","displayAddModal","display_Block","BlocksList","Modal","modalType","content","cancel","message","okFunction","contentModal","yesFunction","cancelFunction","messageModal","confirmModal","yes","children","FormEditor","property","keys","saveForm","forEach","k","default","save","nounmount","_this2","style","width","flexDirection","justifyContent","alignItems","onSubmit","x","preventDefault","show","keyType","htmlFor","onChange","newvalue","target","value","setState","disabled","locked","required","defaultValue","field","rand","operator","start","end","Math","random","toString","split","substr","Display","download","downloadType","addModal","addModalParams","screen","refs","doc","jsPDF","orientation","fromHTML","domtoimage","toPng","bgcolor","then","dataUrl","link","document","href","click","catch","error","toJpeg","downloadPDF","downloadPNG","downloadJPEG","Object","components_Modal","areas_FormEditor","selected","_this3","_this$props","objector","getBlockKey","listName","ref","table","i","baseValue","display_Table","display_Welcome","CollectionsList","SelectedCollection","List","selectClass","selectedItem","concat","buttons","button","action","CreateTable","form","handle","event","submit","e","TableEditor","saveTable","items","blist","baseList","rowsList","rowsValue","colsList","objectSpread","Area","array","heading","editor","showCreator","showEditorFor","obj","bypass","saveFunction","areas_TableEditor","deleteProperty","deleteActionCreator","createActionCreator","updateActionCreator","creator","padding","Days","prop","EditCollection","editArea","updateState","activeClass","textTransform","margin","areas","createTable","propID","updateTable","deleteTable","updateBlock","deleteBlock","createDay","updateDay","deleteDay","user_Days","createTime","updateTime","deleteTime","createPlace","updatePlace","deletePlace","createBatch","updateBatch","deleteBatch","createSubject","updateSubject","deleteSubject","createTeacher","updateTeacher","deleteTeacher","blockID","tableID","dayID","timeID","placeID","batchID","subjectID","teacherID","Collections","createForm","editCollection","modalDisplay","deleteFunction","copyCollection","deleteCollection","Edit","Create","values","createCollection","collections_List","newid","renameCollection","rename","deleted","delete","App","HashRouter","components_Header","Route","path","exact","component","combineReducers","store","createStore","rootReducer","ReactDOM","render","es","components_App","querySelector"],"mappings":"6iFAsBeA,mLAhBX,OACEC,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,GAAG,KACPJ,EAAAC,EAAAC,cAAA,uBAGFF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,GAAG,gBACPJ,EAAAC,EAAAC,cAAA,uCAVSG,oBCqHNC,sGAxHCC,EAAIC,GAChB,IAAIC,EAAOH,EAAQI,UACfC,EAAa,CACfH,OACAD,MAEEK,EAAO,CACTJ,OACAD,KACAM,OAAQ,GACRC,OAAQ,GACRC,KAAM,GACNC,MAAO,GACPC,OAAQ,GACRC,QAAS,GACTC,SAAU,GACVC,SAAU,IAEZX,EAAKY,KAAKV,GACVL,EAAQgB,SAASb,GACjBH,EAAQiB,SAAShB,EAAIK,qCAGrB,IAAIH,EAAOe,aAAaC,QAAQ,gBAAkB,KAClD,IACEhB,EAAOiB,KAAKC,MAAMlB,GAClB,MAAOmB,GACPnB,EAAO,GAET,OAAOA,qCAEkB,IAAXA,EAAWoB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GACrBL,aAAaQ,QAAQ,cAAeN,KAAKO,UAAUxB,oCAGtCF,GACb,IAAIK,EAAOY,aAAaC,QAAQ,KAAOlB,GAEvC,YAAawB,KADbnB,EAAOc,KAAKC,MAAMf,KACiB,OAATA,EACjBA,EAEA,oCAGKL,GAAe,IAAXK,EAAWiB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GACzBL,aAAaQ,QAAQ,KAAOzB,EAAImB,KAAKO,UAAUrB,mCAEnCL,EAAI2B,GAChB,IACIC,EADO7B,EAAQI,UACA0B,IAAI,SAAAC,GAIrB,OAHIA,EAAK9B,KAAOA,IACd8B,EAAK7B,KAAO0B,GAEPG,IAET/B,EAAQgB,SAASa,kCAEL5B,GACZ,IACI4B,EADO7B,EAAQI,UACA4B,OAAO,SAAAD,GAAI,OAAIA,EAAK9B,KAAOA,IAC9CD,EAAQgB,SAASa,GACjBX,aAAae,WAAW,KAAOhC,gCAKrBA,EAAIiC,GACd,IAAIC,EAAYnC,EAAQoC,QAAQnC,GAChC,GAAIkC,EAAW,CACRA,EAAUD,KACbC,EAAUD,GAAQ,GAClBlC,EAAQiB,SAAShB,EAAIkC,IAEvB,IAAIE,EAAgB,CAClBC,IAAK,WAGH,OAFgBtC,EAAQoC,QAAQG,KAAKtC,IAChBsC,KAAKL,OAG5Bf,QAAS,SAASqB,GAIhB,OAHgBxC,EAAQoC,QAAQG,KAAKtC,IAChBsC,KAAKL,MACTF,OAAO,SAAAD,GAAI,OAAIA,EAAK9B,KAAOuC,IAC/B,IAEfC,WAAY,SAASnC,GACnB,IAAI6B,EAAYnC,EAAQoC,QAAQG,KAAKtC,IAIrC,OAHWkC,EAAUI,KAAKL,MACrBnB,KAAKT,GACVN,EAAQiB,SAASsB,KAAKtC,GAAIkC,GACnB7B,GAEToC,WAAY,SAASF,EAAQlC,GAC3B,IAAI6B,EAAYnC,EAAQoC,QAAQG,KAAKtC,IACjCE,EAAOgC,EAAUI,KAAKL,MAC1B/B,EAAOA,EAAK2B,IAAI,SAAAC,GACd,OAAIA,EAAK9B,KAAOuC,EACPlC,EAEFyB,IAETI,EAAUI,KAAKL,MAAQ/B,EACvBH,EAAQiB,SAASsB,KAAKtC,GAAIkC,IAE5BQ,WAAY,SAASH,GACnB,IAAIL,EAAYnC,EAAQoC,QAAQG,KAAKtC,IACjCE,EAAOgC,EAAUI,KAAKL,MAC1BC,EAAUI,KAAKL,MAAQ/B,EAAK6B,OAAO,SAAAD,GAAI,OAAIA,EAAK9B,KAAOuC,IACvDxC,EAAQiB,SAASsB,KAAKtC,GAAIkC,KAK9B,OAFAE,EAAcpC,GAAKA,EACnBoC,EAAcH,KAAOA,EACdG,EAEP,OAAO,sBCzDAO,EAAmB,SAAA3C,GAC9B,MAAO,CACLiC,KC1D6B,oBD2D7BW,QAAS,CACPC,mBAAoB9C,EAAQoC,QAAQnC,GACpCM,OAAQP,EAAQG,KAAKF,EAAI,UACzBQ,KAAMT,EAAQG,KAAKF,EAAI,QACvBU,OAAQX,EAAQG,KAAKF,EAAI,UACzBS,MAAOV,EAAQG,KAAKF,EAAI,SACxBO,OAAQR,EAAQG,KAAKF,EAAI,UACzBW,QAASZ,EAAQG,KAAKF,EAAI,WAC1BY,SAAUb,EAAQG,KAAKF,EAAI,YAC3Ba,SAAUd,EAAQG,KAAKF,EAAI,eA+EpB8C,EAAc,SAACC,EAAc1C,GACxC,IAAIE,EAASR,EAAQG,KAAK6C,EAAc,UAGxC,OAFAxC,EAAOiC,WAAWnC,GAEX,CACL4B,KC/IwB,eDgJxBW,QAAS,CACPrC,OAJJA,EAASR,EAAQG,KAAK6C,EAAc,aEjJhCC,mLACK,IAAAC,EAAAX,KACP,OACE7C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,+CACAF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UACEuD,QAAS,WACPC,QAAQC,IAAI,uBACZH,EAAKI,MAAMC,sBAHf,oBASF7D,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,GAAG,gBAAT,4CAjBcC,aAuBPyD,cACb,KACA,CAAED,kBFI6B,WAC/BvD,EAAQyD,OAAO,UAAW,WAC1B,IAAItD,EAAOH,EAAQI,UAEnB,OADAJ,EAAQiB,SAAS,UAAWyC,GACrB,CACLxB,KC1C8B,qBD2C9BW,QAAS,CACPc,YAAaxD,MEbJqD,CAGbP,GC9BIW,kLACIC,GAEN,IADA,IAAIC,EAAU,GACPD,EAAOE,QAAQ,MAAQ,GAAG,CAC/B,IACIC,EAAQH,EAAOI,MADN,WAEbJ,EAASA,EAAOK,QAAQF,EAAM,GAAI,IAClCF,EAAQ/C,KAAKiD,EAAM,IAErB,OAAOF,qCAEEK,EAAUC,GACnB,OAAQD,GACN,IAAK,QACH,OAAO5B,KAAKe,MAAM1C,QAAQoB,OAAO,SAAAqC,GAAC,OAAIA,EAAEpE,KAAOmE,EAAME,QAAO,GAAGpE,KACjE,IAAK,MACH,OAAOqC,KAAKe,MAAM7C,KAAKuB,OAAO,SAAAqC,GAAC,OAAIA,EAAEpE,KAAOmE,EAAMG,MAAK,GAAGrE,KAC5D,IAAK,OACH,OAAOqC,KAAKe,MAAM5C,MAAMsB,OAAO,SAAAqC,GAAC,OAAIA,EAAEpE,KAAOmE,EAAMI,OAAM,GAAGtE,KAC9D,IAAK,QACH,OAAOqC,KAAKe,MAAM3C,OAAOqB,OAAO,SAAAqC,GAAC,OAAIA,EAAEpE,KAAOmE,EAAMK,QAAO,GAAGvE,KAChE,IAAK,UACH,OAAOqC,KAAKe,MAAMxC,SAASkB,OAAO,SAAAqC,GAAC,OAAIA,EAAEpE,KAAOmE,EAAMM,UAAS,GAAGxE,KACpE,IAAK,UACH,OAAOqC,KAAKe,MAAMzC,SAASmB,OAAO,SAAAqC,GAAC,OAAIA,EAAEpE,KAAOmE,EAAMO,UAAS,GAAGzE,KACpE,QACE,MAAO,qCAGJ,IAAAgD,EAAAX,KACH6B,EAAQ7B,KAAKe,MAAMc,MACnBN,EAAUvB,KAAKuB,QAAQM,EAAMQ,SACjC,OACElF,EAAAC,EAAAC,cAAA,OAAKiF,UAAU,SACZf,EAAQhC,IAAI,SAAAgD,GACX,OAAOpF,EAAAC,EAAAC,cAAA,OAAKmF,IAAK,MAAQD,GAAI5B,EAAK8B,WAAWF,EAAGV,cAnCtCrE,aAsDLyD,cAZS,SAAAyB,GACtB,MAAO,CACL1E,OAAQ0E,EAAMC,WACdzE,KAAMwE,EAAME,SACZxE,OAAQsE,EAAMG,WACd1E,MAAOuE,EAAMI,UACbzE,QAASqE,EAAMK,YACfzE,SAAUoE,EAAMM,aAChBzE,SAAUmE,EAAMO,eAILhC,CAAyBI,GCpDlC6B,mLACK,IAAAvC,EAAAX,KACHmD,EAAOnD,KAAKe,MAAMoC,KAClBC,EAAepD,KAAKe,MAAMsC,aAC1BC,EAAOtD,KAAKe,MAAMuC,KAClBC,EAAevD,KAAKe,MAAMyC,aAC1BC,EAAOzD,KAAKe,MAAM0C,KAClBC,EAAe1D,KAAKe,MAAM4C,aAC1B1F,EAAS+B,KAAKe,MAAM9C,OACpB2F,EAAO5D,KAAKe,MAAM6C,KACtB,OACEzG,EAAAC,EAAAC,cAAA,OAAKmF,IAAKxC,KAAKe,MAAMrD,IACnBP,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAa,MAAR8F,EAAeA,EAAKxF,KAAO,MAC/B8F,EAAKlE,IAAI,SAAAsE,GACR,OAAO1G,EAAAC,EAAAC,cAAA,MAAImF,IAAK,IAAMqB,EAAInG,IAAKmG,EAAIlG,UAIzCR,EAAAC,EAAAC,cAAA,aACGiG,EAAK/D,IAAI,SAAAuE,GACR,OACE3G,EAAAC,EAAAC,cAAA,MAAImF,IAAK,IAAMsB,EAAIpG,IACjBP,EAAAC,EAAAC,cAAA,UAAKyG,EAAInG,MACR8F,EAAKlE,IAAI,SAAAsE,GACR,IAAIhC,EAAQ5D,EAAOwB,OACjB,SAAAoC,GAAK,OACHA,EAAMuB,KAAkBD,EAAKzF,IAC7BmE,EAAM0B,KAAkBO,EAAIpG,IAC5BmE,EAAM6B,KAAkBG,EAAInG,KAEhC,OAAqB,IAAjBmE,EAAM5C,OACK,UAAT2E,EACKzG,EAAAC,EAAAC,cAAA,MAAImF,IAAK,MAAQqB,EAAInG,KAG5BP,EAAAC,EAAAC,cAAA,MACEuD,QAAS,WACP,IAAImD,EAAS,GACbA,EAAOX,GAAgBD,EAAKzF,GAC5BqG,EAAOR,GAAgBO,EAAIpG,GAC3BqG,EAAOL,GAAgBG,EAAInG,GAC3BiD,EAAKI,MAAMiD,gBAAgBD,IAE7BvB,IAAK,IAAMqB,EAAInG,IAEfP,EAAAC,EAAAC,cAAA,oBAKFF,EAAAC,EAAAC,cAAA,MAAImF,IAAK,IAAMqB,EAAInG,GAAI4E,UAAU,eAC/BnF,EAAAC,EAAAC,cAAC4G,EAAD,CAAOpC,MAAOA,EAAM,qBAtD1BrE,aAyELyD,cAJS,SAAAyB,GACtB,MAAO,CAAEzE,OAAQyE,EAAMwB,aAGVjD,CAAyBiC,GCKzBiB,6MAjFbzB,MAAQ,CACN0B,UAA8B,MAAnBzD,EAAKI,MAAMpB,KAAe,UAAYgB,EAAKI,MAAMpB,kFAEjD0E,GACX,OACElH,EAAAC,EAAAC,cAAA,OAAKiF,UAAU,QAAQD,QAASrC,KAAK0C,MAAML,QAAU,QAAU,QAC7DlF,EAAAC,EAAAC,cAAA,OAAKiF,UAAU,gBACS,MAArBtC,KAAKe,MAAMuD,OACVnH,EAAAC,EAAAC,cAAA,OAAKuD,QAASZ,KAAKe,MAAMuD,OAAQhC,UAAU,WAA3C,KAGE,KACH+B,2CAKyC,IAArCE,EAAqCvF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA3B,GAAIwF,EAAuBxF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAV,aACtC,OAAOgB,KAAKyE,aACVtH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKiF,UAAU,iBAAiBiC,GAChCpH,EAAAC,EAAAC,cAAA,OAAKiF,UAAU,iBACbnF,EAAAC,EAAAC,cAAA,UACEuD,QAAS,WACP4D,MAFJ,gDAeN,IAHAD,EAGAvF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHU,iBACV0F,EAEA1F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFc,aACd2F,EACA3F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADiB,aAEjB,OAAOgB,KAAKyE,aACVtH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKiF,UAAU,iBAAiBiC,GAChCpH,EAAAC,EAAAC,cAAA,OAAKiF,UAAU,iBACbnF,EAAAC,EAAAC,cAAA,UACEuD,QAAS,WACP8D,MAFJ,OAOAvH,EAAAC,EAAAC,cAAA,UACEuD,QAAS,WACP+D,MAFJ,8CAYN,IAAI3E,KAAKe,MAAMsB,QAeb,OAAO,KAdP,OAAQrC,KAAK0C,MAAM0B,WACjB,IAAK,UACL,QACE,OAAOpE,KAAK4E,aAAa5E,KAAKe,MAAMwD,SACtC,IAAK,UACH,OAAOvE,KAAK6E,aACV7E,KAAKe,MAAMwD,QACXvE,KAAKe,MAAM+D,IACX9E,KAAKe,MAAMuD,QAEf,IAAK,UACH,OAAOtE,KAAKyE,aAAazE,KAAKe,MAAMgE,kBA1E1BvH,aC8KLwH,6MA7KbtC,MAAQ,CACNuC,SAAUtE,EAAKI,MAAMkE,SACrBC,KAAMvE,EAAKI,MAAMmE,QAEnBC,SAAW,WACT,IAAIF,EAAWtE,EAAK+B,MAAMuC,SAC1BtE,EAAK+B,MAAMwC,KAAKE,QAAQ,SAAAC,GACjBA,EAAE1F,MAAmB,UAAX0F,EAAE1F,KASN0F,EAAE1F,MAAmB,WAAX0F,EAAE1F,KACG,MAApBsF,EAASI,EAAE1H,QACbsH,EAASI,EAAE1H,MACsB,MAA/BgD,EAAK+B,MAAMuC,SAASI,EAAE1H,MAClBgD,EAAK+B,MAAMuC,SAASI,EAAE1H,MACT,MAAb0H,EAAEC,QACFD,EAAEC,QACFD,EAAEzH,KAAKqB,OAAS,EAChBoG,EAAEzH,KAAK,GAAGF,GACV,MAEC2H,EAAE1F,MAAmB,aAAX0F,EAAE1F,OACrBsF,EAASI,EAAE1H,MACsB,MAA/BgD,EAAK+B,MAAMuC,SAASI,EAAE1H,MAClBgD,EAAK+B,MAAMuC,SAASI,EAAE1H,MACT,MAAb0H,EAAEC,QACFD,EAAEC,QACF,MAzBkB,MAApBL,EAASI,EAAE1H,QACbsH,EAASI,EAAE1H,MACsB,MAA/BgD,EAAK+B,MAAMuC,SAASI,EAAE1H,MAClBgD,EAAK+B,MAAMuC,SAASI,EAAE1H,MACT,MAAb0H,EAAEC,QACFD,EAAEC,QACF,QAsBZ3E,EAAKI,MAAMwE,KAAKN,0FAGXjF,KAAKe,MAAMyE,WACdxF,KAAKmF,4CAGA,IAAAM,EAAAzF,KAgFP,OACE7C,EAAAC,EAAAC,cAAA,OACEqI,MAAO,CACLC,MAAO,OACPtD,QAAS,OACTuD,cAAe,SACfC,eAAgB,SAChBC,WAAY,WAGd3I,EAAAC,EAAAC,cAAA,OAAKqI,MAAO,CAAErD,QAAS,UACrBlF,EAAAC,EAAAC,cAAA,QACE0I,SAAU,SAAAC,GACRA,EAAEC,iBACFR,EAAKN,aAGNnF,KAAK0C,MAAMwC,KAAK3F,IAAI,SAAAiD,GACnB,GAAgB,MAAZA,EAAI0D,OAAiB1D,EAAI0D,KAC3B,OAAO,KAET,IAAIC,EAAsB,MAAZ3D,EAAI7C,KAAe6C,EAAI7C,KAAO,QAC5C,OACExC,EAAAC,EAAAC,cAAA,OAAKmF,IAAKA,EAAI7E,KAAO6E,EAAI9E,GAAIgI,MAAO,CAAErD,QAAS,cAC7ClF,EAAAC,EAAAC,cAAA,SACE+I,QAAS5D,EAAI7E,KAAO6E,EAAI9E,GAAK,MAC7BgI,MAAO,CAAErD,QAAS,eAEjBG,EAAI7E,MA3GP,SAACwI,EAAS3D,GACtB,OAAQ2D,GACN,IAAK,QACL,QACE,OACEhJ,EAAAC,EAAAC,cAAA,SACEmF,IAAKA,EAAI7E,KAAO,MAChBgC,KAAK,OACL0G,SAAU,SAAAL,GACR,IAAIM,EAAWN,EAAEO,OAAOC,MACpBvB,EAAWQ,EAAK/C,MAAMuC,SAC1BA,EAASzC,EAAI7E,MAAQ2I,EACrBb,EAAKgB,SAAS,CAAExB,cAElByB,SAAwB,MAAdlE,EAAImE,QAAyBnE,EAAImE,OAC3CC,SAA0B,MAAhBpE,EAAIoE,UAA2BpE,EAAIoE,SAC7CJ,MACmC,MAAjCf,EAAK/C,MAAMuC,SAASzC,EAAI7E,MACpB8H,EAAK/C,MAAMuC,SAASzC,EAAI7E,MACT,MAAf6E,EAAI8C,QACJ9C,EAAI8C,QACJ,GAENI,MAAO,CAAErD,QAAS,gBAGxB,IAAK,SACH,OACElF,EAAAC,EAAAC,cAAA,UACEwJ,aACmC,MAAjCpB,EAAK/C,MAAMuC,SAASzC,EAAI7E,MACpB8H,EAAK/C,MAAMuC,SAASzC,EAAI7E,MACT,MAAf6E,EAAI8C,QACJ9C,EAAI8C,QACJ9C,EAAI5E,KAAKqB,OAAS,EAClBuD,EAAI5E,KAAK,GAAGF,GACZ,KAEN2I,SAAU,SAAAL,GACR,IAAIf,EAAWQ,EAAK/C,MAAMuC,SAC1BA,EAASzC,EAAI7E,MAAQqI,EAAEO,OAAOC,MAC9Bf,EAAKgB,SAAS,CAAExB,cAElByB,SAAwB,MAAdlE,EAAImE,QAAyBnE,EAAImE,OAC3CC,SAA0B,MAAhBpE,EAAIoE,UAA2BpE,EAAIoE,UAE5CpE,EAAI5E,KAAK2B,IAAI,SAAAC,GACZ,OACErC,EAAAC,EAAAC,cAAA,UAAQmJ,MAAOhH,EAAK9B,GAAI8E,IAAKhD,EAAK9B,IAC/B8B,EAAK7B,SAMlB,IAAK,WACH,OACER,EAAAC,EAAAC,cAAA,YACEmF,IAAKA,EAAI7E,KAAO,MAChB0I,SAAU,SAAAL,GACR,IAAIM,EAAWN,EAAEO,OAAOC,MACpBvB,EAAWQ,EAAK/C,MAAMuC,SAC1BA,EAASzC,EAAI7E,MAAQ2I,EACrBb,EAAKgB,SAAS,CAAExB,cAElByB,SAAwB,MAAdlE,EAAImE,QAAyBnE,EAAImE,OAC3CC,SAA0B,MAAhBpE,EAAIoE,UAA2BpE,EAAIoE,SAC7ClB,MAAO,CAAErD,QAAS,cAClBmE,MACmC,MAAjCf,EAAK/C,MAAMuC,SAASzC,EAAI7E,MACL,MAAf6E,EAAI8C,QACF9C,EAAI8C,QACJ,GACFG,EAAK/C,MAAMuC,SAASzC,EAAI7E,SAoCzBmJ,CAAMX,EAAS3D,MAIrBxC,KAAKe,MAAMgE,SACZ5H,EAAAC,EAAAC,cAAA,OAAKqI,MAAO,CAAErD,QAAS,cACrBlF,EAAAC,EAAAC,cAAA,OAAKqI,MAAO,CAAErD,QAAS,gBACvBlF,EAAAC,EAAAC,cAAA,SACEsC,KAAK,SACL+F,MAAO,CAAErD,QAAS,aAAcsD,MAAO,QACvCrD,UAAU,uBApKD9E,+CCFZuJ,EAAO,WAAwC,IAAvCC,EAAuChI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA5B,IAAKiI,EAAuBjI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,EAAGkI,EAAYlI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAN,EACpD,OAAQgI,GACN,IAAK,aACHA,EAAW,KACX,MACF,IAAK,QACHA,EAAW,KACX,MACF,IAAK,QACHA,EAAW,KACX,MACF,IAAK,MACHA,EAAW,KACX,MACF,IAAK,OACHA,EAAW,KACX,MACF,IAAK,QACHA,EAAW,KACX,MACF,IAAK,QACHA,EAAW,KACX,MACF,IAAK,UACHA,EAAW,KACX,MACF,IAAK,UACHA,EAAW,KASf,OAAOA,EAJEG,KAAKC,SACXC,WACAC,MAAM,KAAK,GACXC,OAAON,EAAOC,IClBbM,6MACJ9E,MAAQ,CACNkB,KAAM,OACN6D,UAAU,EACVC,aAAc,MACdC,UAAU,EACVC,eAAgB,iFAGhB,IAAIC,EAAS7H,KAAK8H,KAAKD,OACnBE,EAAM,IAAIC,IAAM,CAAEC,YAAa,cACnCF,EAAIG,SAASL,GACbE,EAAIxC,KAAK,kDAGT,IAAIsC,EAAS7H,KAAK8H,KAAKD,OACvBM,IACGC,MAAMP,EAAQ,CAAEQ,QAAS,SACzBC,KAAK,SAASC,GACb,IAAIC,EAAOC,SAASpL,cAAc,KAClCmL,EAAKE,KAAOH,EACZC,EAAKf,SAAW,WAChBe,EAAKjC,OAAS,SACdiC,EAAKG,UAENC,MAAM,SAAAC,GACLhI,QAAQgI,MAAM,0EAIlB,IAAIhB,EAAS7H,KAAK8H,KAAKD,OACvBM,IACGW,OAAOjB,EAAQ,CAAEQ,QAAS,SAC1BC,KAAK,SAASC,GACb,IAAIC,EAAOC,SAASpL,cAAc,KAClCmL,EAAKf,SAAW,YAChBe,EAAKE,KAAOH,EACZC,EAAKjC,OAAS,SACdiC,EAAKG,UAENC,MAAM,SAAAC,GACLhI,QAAQgI,MAAM,iFAIlB,GAAI7I,KAAK0C,MAAM+E,SACb,OAAQzH,KAAK0C,MAAMgF,cACjB,IAAK,MACL,QACE1H,KAAK+I,cACL,MACF,IAAK,MACH/I,KAAKgJ,cACL,MACF,IAAK,OACHhJ,KAAKiJ,mDAKF,IAAAxD,EAAAzF,KACL+D,EAAS/D,KAAK0C,MAAMkF,eACxB,GAAI5H,KAAK0C,MAAMiF,SAAU,CACvB,IAAIzC,EAAO,CACT,CACEvH,KAAM,OACNiJ,UAAU,EACVD,QAAQ,EACRT,MAAM,GAER,CACEvI,KAAM,OACNiJ,UAAU,GAEZ,CAAEjJ,KAAM,cACR,CACEA,KAAM,MACNgC,KAAM,SACN/B,KAAMoC,KAAKe,MAAM7C,KACjB0I,UAAU,GAEZ,CACEjJ,KAAM,QACNgC,KAAM,SACN/B,KAAMoC,KAAKe,MAAM3C,OACjBwI,UAAU,GAEZ,CACEjJ,KAAM,OACNgC,KAAM,SACN/B,KAAMoC,KAAKe,MAAM5C,MACjByI,UAAU,GAEZ,CACEjJ,KAAM,QACNgC,KAAM,SACN/B,KAAMoC,KAAKe,MAAM1C,QACjBuI,UAAU,GAEZ,CACEjJ,KAAM,UACNgC,KAAM,SACN/B,KAAMoC,KAAKe,MAAMzC,SACjBsI,UAAU,GAEZ,CACEjJ,KAAM,UACNgC,KAAM,SACN/B,KAAMoC,KAAKe,MAAMxC,SACjBqI,UAAU,GAEZ,CACEjJ,KAAM,UACNgC,KAAM,WACNiH,UAAU,EACVtB,QAAS,8BAcb,OAXA4D,OAAOhE,KAAKnB,GAAQqB,QAAQ,SAAA7C,GACR,OAAdwB,EAAOxB,IACT2C,EAAKE,QAAQ,SAAAC,GACF,MAALA,GAAaA,EAAE1H,OAAS4E,IAC1B1B,QAAQC,IAAI,UAAWiD,EAAOxB,IAC9B8C,EAAEC,QAAUvB,EAAOxB,GACnB8C,EAAEa,MAAO,OAMf/I,EAAAC,EAAAC,cAAC8L,EAAD,CACExJ,KAAK,UACL0C,SAAS,EACTiC,OAAQ,WACNmB,EAAKgB,SAAS,CAAEkB,UAAU,EAAOC,eAAgB,OAGnDzK,EAAAC,EAAAC,cAAC+L,EAAD,CACEnE,SAAU,CAAEvH,GAAIqJ,EAAK,UACrB7B,KAAMA,EACNK,KAAM,SAAAxH,GACJ0H,EAAK1E,MAAMP,YAAYiF,EAAK1E,MAAMsI,SAAS3L,GAAIK,GAC/C0H,EAAKgB,SAAS,CAAEkB,UAAU,EAAOC,eAAgB,MAEnDpC,WAAW,uCAMZ,IAAA8D,EAAAtJ,KAAAuJ,EAUHvJ,KAAKe,MARP/C,EAFKuL,EAELvL,OACAC,EAHKsL,EAGLtL,OACAI,EAJKkL,EAILlL,QACAH,EALKqL,EAKLrL,KACAC,EANKoL,EAMLpL,MACAC,EAPKmL,EAOLnL,OACAE,EARKiL,EAQLjL,SACAC,EATKgL,EASLhL,SAEEiL,EAAW,CACbxL,SACAC,SACAI,UACAH,OACAC,QACAC,SACAE,WACAC,YAGEkL,EAAc,SAAAC,GAChB,OAAQA,GACN,IAAK,UACH,MAAO,QACT,QACE,OAAOA,EAASnC,OAAO,EAAGmC,EAASzK,OAAS,KAIlD,OACE9B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,WAAM2C,KAAK2H,YACXxK,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UACEuD,QAAS,WACP0I,EAAK7C,SAAS,CACZ7C,KAAM,QACN8D,aAAc,MACdD,UAAU,MALhB,mBAWAtK,EAAAC,EAAAC,cAAA,UACEuD,QAAS,WACP0I,EAAK7C,SAAS,CACZ7C,KAAM,QACN8D,aAAc,MACdD,UAAU,MALhB,mBAWAtK,EAAAC,EAAAC,cAAA,UACEuD,QAAS,WACP0I,EAAK7C,SAAS,CACZ7C,KAAM,QACN8D,aAAc,OACdD,UAAU,MALhB,qBAYFtK,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UACEuD,QAAS,WACP0I,EAAK7C,SAAS,CAAE7C,KAAM,UAExBtB,UAA+B,SAApBtC,KAAK0C,MAAMkB,KAAkB,UAAY,IAJtD,QAQAzG,EAAAC,EAAAC,cAAA,UACEuD,QAAS,WACP0I,EAAK7C,SAAS,CAAE7C,KAAM,WAExBtB,UAA+B,UAApBtC,KAAK0C,MAAMkB,KAAmB,UAAY,IAJvD,UASFzG,EAAAC,EAAAC,cAAA,OAAKsM,IAAI,UACN3L,EAAOuB,IAAI,SAAAqK,GACV,IAAIzG,EAAOqG,EAASI,EAAMzG,MAAM1D,OAC9B,SAAAoK,GAAC,OAAIA,EAAEnM,KAAOkM,EAAME,YACpB,GACExG,EAAOkG,EAASI,EAAMtG,MACtBG,EAAO+F,EAASI,EAAMnG,MAC1B,OACEtG,EAAAC,EAAAC,cAAC0M,EAAD,CACErM,GAAIkM,EAAMlM,GACV8E,IAAKoH,EAAMlM,GACXkG,KAAM0F,EAAK5G,MAAMkB,KACjBT,KAAMA,EACNE,aAAcoG,EAAYG,EAAMzG,MAChCG,KAAMA,EACNE,aAAciG,EAAYG,EAAMtG,MAChCG,KAAMA,EACNE,aAAc8F,EAAYG,EAAMnG,MAChCxF,OAAQA,EACR+F,gBAAiB,SAAAD,GACfmF,OAAOhE,KAAKsE,GAAUjK,IAAI,SAAAmK,GACxB,IAAIlH,EAAMiH,EAAYC,GAQtB,OANiB,MAAf3F,EAAOvB,IACC,UAARA,GACQ,UAARA,IAEAuB,EAAOvB,GAAO,MAET,OAET8G,EAAK7C,SAAS,CAAEkB,UAAU,EAAMC,eAAgB7D,4CAU9D,OAAsC,IAAlC/D,KAAKe,MAAMK,YAAYnC,OAClB9B,EAAAC,EAAAC,cAAC2M,EAAD,MAC0B,OAAxBhK,KAAKe,MAAMsI,UACkB,IAAlCrJ,KAAKe,MAAMK,YAAYnC,QACzBe,KAAKe,MAAMV,iBAAiBL,KAAKe,MAAMK,YAAY,GAAG1D,IAGtDP,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,4CAKC2C,KAAK6H,gBApSMrK,aAuTPyD,cAfS,SAAAyB,GACtB,MAAO,CACLtB,YAAasB,EAAMuH,gBACnBZ,SAAU3G,EAAMwH,mBAChBlM,OAAQ0E,EAAMC,WACdzE,KAAMwE,EAAME,SACZxE,OAAQsE,EAAMG,WACd1E,MAAOuE,EAAMI,UACb7E,OAAQyE,EAAMwB,WACd7F,QAASqE,EAAMK,YACfzE,SAAUoE,EAAMM,aAChBzE,SAAUmE,EAAMO,eAMlB,CACE5C,mBACAG,eAJWS,CAMbuG,GCpSa2C,mLAvCJ,IAAAxJ,EAAAX,KACP,OACE7C,EAAAC,EAAAC,cAAA,OAAKiF,UAAU,kBACZtC,KAAKe,MAAMnD,KAAK2B,IAAI,SAAAC,GACnB,IAAI4K,EACFzJ,EAAKI,MAAMsI,WAAa7J,EAAK9B,GAAK,gBAAkB,GAClD2M,EAAe1J,EAAKI,MAAMsI,WAAa7J,EAAK9B,GAChD,OACEP,EAAAC,EAAAC,cAAA,OAAKmF,IAAKhD,EAAK9B,GAAI4E,UAAS,uBAAAgI,OAAyBF,IACnDjN,EAAAC,EAAAC,cAAA,OAAKiF,UAAU,cAAc9C,EAAK7B,MAClCR,EAAAC,EAAAC,cAAA,OAAKiF,UAAU,qBACZ3B,EAAKI,MAAMwJ,QAAQhL,IAAI,SAAAiL,GAGtB,OADqB,MAAnBA,EAAOnB,UAA2BmB,EAAOnB,UAErCgB,EACK,KAITlN,EAAAC,EAAAC,cAAA,UACEuD,QAAS,WACP4J,EAAOC,OAAOjL,EAAK9B,KAErB8E,IAAKgI,EAAO7M,MAEX6M,EAAO7M,oBA3BXH,aCqDJkN,6MApDbhI,MAAQ,CACNiI,KAAM,CACJhN,KAAM,OAGViN,OAAS,SAAAC,GACPA,EAAM5E,iBACNtF,EAAKI,MAAM+J,OAAOnK,EAAK+B,MAAMiI,+EAEtB,IAAAlF,EAAAzF,KACP,MAA2B,SAAvBA,KAAKe,MAAMsB,QAEXlF,EAAAC,EAAAC,cAAA,QAAM0I,SAAU/F,KAAK4K,OAAQtI,UAAU,aACrCnF,EAAAC,EAAAC,cAAA,SAAO+I,QAAQ,OAAO9D,UAAU,QAC7BtC,KAAKe,MAAMpD,KADd,MAGAR,EAAAC,EAAAC,cAAA,SACEsC,KAAK,OACLhC,KAAK,OACL2E,UAAU,OACVkE,MAAOxG,KAAK0C,MAAMiI,KAAKhN,KACvB0I,SAAU,SAAA0E,GACRtF,EAAKgB,SAAS,CACZkE,KAAM,CACJhN,KAAMoN,EAAExE,OAAOC,YAKvBrJ,EAAAC,EAAAC,cAAA,SAAOsC,KAAK,SAAS2C,UAAU,SAC/BnF,EAAAC,EAAAC,cAAA,UACEuD,QAAS,WACP6E,EAAK1E,MAAMuD,UAEbhC,UAAU,QAJZ,WAYFnF,EAAAC,EAAAC,cAAA,MAAIiF,UAAU,gBACZnF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAQuD,QAASZ,KAAKe,MAAM4H,OAA5B,gCA7CcnL,qBCqKXwN,6MAlKbtI,MAAQ,CACNuC,SAAUtE,EAAKI,MAAMkE,SACrBC,KAAMvE,EAAKI,MAAMmE,QAEnB+F,UAAY,WACV,IAAIhG,EAAWtE,EAAK+B,MAAMuC,SACL,MAAjBA,EAAS9B,OACX8B,EAAS9B,KAAOxC,EAAKI,MAAMmK,MAAM,GAAGvN,MAEZ,MAAtBsH,EAAS6E,YACX7E,EAAS6E,UACPnJ,EAAKI,MAAMmK,MAAM,GAAGtN,KAAKqB,OAAS,EAC9B0B,EAAKI,MAAMmK,MAAM,GAAGtN,KAAK,GAAGF,GAC5B,MAEa,MAAjBuH,EAAS3B,OACX2B,EAAS3B,KAAO3C,EAAKI,MAAMmK,MAAM,GAAGvN,MAEjB,MAAjBsH,EAASxB,OACXwB,EAASxB,KAAO9C,EAAKI,MAAMmK,MAAM,GAAGvN,MAEtCgD,EAAKI,MAAMwE,KAAKN,0FAGXjF,KAAKe,MAAMyE,WACdxF,KAAKiL,6CAGA,IAAAxF,EAAAzF,KACHkL,EAAQlL,KAAKe,MAAMmK,MACnB/H,EAC0B,MAA5BnD,KAAK0C,MAAMuC,SAAS9B,KAChBnD,KAAK0C,MAAMuC,SAAS9B,KACpB+H,EAAM,GAAGvN,KACXwN,EAAQD,EAAMzL,OAAO,SAAAoK,GAAC,OAAIA,EAAElM,OAASwF,IAAM,GAC3CiI,EAAoB,MAATD,EAAgBA,EAAMvN,KAAO,GACxCyN,EAAWH,EAAMzL,OAAO,SAAAoK,GAAC,OAAIA,EAAElM,OAASwF,IACxCmI,EAC0B,MAA5BtL,KAAK0C,MAAMuC,SAAS3B,KAChBtD,KAAK0C,MAAMuC,SAAS3B,KACpB4H,EAAM,GAAGvN,KACX4N,EAAWF,EAAS5L,OAAO,SAAAoK,GAAC,OAAIA,EAAElM,OAAS2N,IAC3CrG,EAAWjF,KAAK0C,MAAMuC,SAC1B,OACE9H,EAAAC,EAAAC,cAAC+L,EAAD,CACEnE,SAAUjF,KAAK0C,MAAMuC,SACrBC,KAAMlF,KAAKe,MAAMmE,KACjBK,KAAMvF,KAAKiL,UACXzF,UAAWxF,KAAKe,MAAMyE,WAEtBrI,EAAAC,EAAAC,cAAA,OAAKqI,MAAO,CAAErD,QAAS,cACrBlF,EAAAC,EAAAC,cAAA,SAAO+I,QAAQ,OAAOV,MAAO,CAAErD,QAAS,eAAxC,QAGAlF,EAAAC,EAAAC,cAAA,UACEM,KAAK,OACL0I,SAAU,SAAAL,GACRP,EAAKgB,SAAS,CACZxB,SAASiE,OAAAsC,EAAA,EAAAtC,CAAA,GAAMjE,EAAP,CAAiB9B,KAAM6C,EAAEO,OAAOC,WAG5Cd,MAAO,CAAErD,QAAS,cAClBwE,aAC8B,MAA5B7G,KAAK0C,MAAMuC,SAAS9B,KAChBnD,KAAK0C,MAAMuC,SAAS9B,KACpB+H,EAAM,GAAGvN,KAEfiJ,UAAU,GAETsE,EAAM3L,IAAI,SAAAC,GACT,OACErC,EAAAC,EAAAC,cAAA,UAAQmF,IAAKhD,EAAK7B,KAAM6I,MAAOhH,EAAK7B,MACjC6B,EAAK7B,SAKdR,EAAAC,EAAAC,cAAA,UACEqI,MAAO,CAAErD,QAAS,cAClBgE,SAAU,SAAAL,GACRP,EAAKgB,SAAS,CACZxB,SAASiE,OAAAsC,EAAA,EAAAtC,CAAA,GAAMjE,EAAP,CAAiB6E,UAAW9D,EAAEO,OAAOC,WAGjDK,aACmC,MAAjC7G,KAAK0C,MAAMuC,SAAS6E,UAChB9J,KAAK0C,MAAMuC,SAAS6E,UACpBsB,EAASnM,OAAS,EAClBmM,EAAS,GAAG1N,GACZ,KAENkJ,UAAU,GAETwE,EAAS7L,IAAI,SAAAC,GACZ,OACErC,EAAAC,EAAAC,cAAA,UAAQmF,IAAKhD,EAAK9B,GAAI8I,MAAOhH,EAAK9B,IAC/B8B,EAAK7B,UAMhBR,EAAAC,EAAAC,cAAA,OAAKqI,MAAO,CAAErD,QAAS,cACrBlF,EAAAC,EAAAC,cAAA,SAAO+I,QAAQ,OAAOV,MAAO,CAAErD,QAAS,eAAxC,QAGAlF,EAAAC,EAAAC,cAAA,UACEK,GAAG,OACHgI,MAAO,CAAErD,QAAS,cAClBgE,SAAU,SAAAL,GACRP,EAAKgB,SAAS,CACZxB,SAASiE,OAAAsC,EAAA,EAAAtC,CAAA,GAAMjE,EAAP,CAAiB3B,KAAM0C,EAAEO,OAAOC,WAG5CK,aAC8B,MAA5B7G,KAAK0C,MAAMuC,SAAS3B,KAChBtD,KAAK0C,MAAMuC,SAAS3B,KACpB+H,EAAS,GAAG1N,KAElBiJ,UAAU,GAETyE,EAAS9L,IAAI,SAAAC,GACZ,OACErC,EAAAC,EAAAC,cAAA,UAAQmF,IAAKhD,EAAK7B,KAAM6I,MAAOhH,EAAK7B,MACjC6B,EAAK7B,UAMhBR,EAAAC,EAAAC,cAAA,OAAKqI,MAAO,CAAErD,QAAS,cACrBlF,EAAAC,EAAAC,cAAA,SAAO+I,QAAQ,OAAOV,MAAO,CAAErD,QAAS,eAAxC,WAGAlF,EAAAC,EAAAC,cAAA,UACEqI,MAAO,CAAErD,QAAS,cAClBgE,SAAU,SAAAL,GACRP,EAAKgB,SAAS,CACZxB,SAASiE,OAAAsC,EAAA,EAAAtC,CAAA,GAAMjE,EAAP,CAAiBxB,KAAMuC,EAAEO,OAAOC,WAG5CK,aAC8B,MAA5B7G,KAAK0C,MAAMuC,SAASxB,KAChBzD,KAAK0C,MAAMuC,SAASxB,KACpB8H,EAAS,GAAG5N,KAElBiJ,UAAU,GAET2E,EAAShM,IAAI,SAAAC,GACZ,OACErC,EAAAC,EAAAC,cAAA,UAAQmF,IAAKhD,EAAK7B,KAAM6I,MAAOhH,EAAK7B,MACjC6B,EAAK7B,kBAxJEH,aC0IXiO,6MAtIb/I,MAAQ,CACNgJ,MAAO/K,EAAKI,MAAM2K,MAClB/N,KAAMgD,EAAKI,MAAMpD,KACjBgO,QAAShL,EAAKI,MAAM4K,QACpBC,OAAQjL,EAAKI,MAAM6K,QAAU,aAC7BC,aAAa,EACbC,cAAe,QAEjBF,OAAS,SAACG,GAAgC,IAA3BC,EAA2BhN,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAAXkC,EAAWlC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACxC,GAAIyB,EAAK+B,MAAMoJ,gBAAkBC,IAAOC,EAyBtC,OAAO,KAxBP,IAAIC,EAAeD,EAAS9K,EAASP,EAAK4E,KAC1C,OAAQ5E,EAAK+B,MAAMkJ,QACjB,IAAK,aACL,QACE,OACEzO,EAAAC,EAAAC,cAAC+L,EAAD,CACEnE,SAAU8G,EACV7G,KAAMvE,EAAKI,MAAMmE,KACjBK,KAAM0G,EACNzG,UAAWwG,IAGjB,IAAK,cACH,OACE7O,EAAAC,EAAAC,cAAC6O,EAAD,CACEjH,SAAU8G,EACVb,MAAOvK,EAAKI,MAAMmK,MAClBhG,KAAMvE,EAAKI,MAAMmE,KACjBK,KAAM0G,EACNzG,UAAWwG,QAQvBG,eAAiB,SAAAJ,GACfpL,EAAKI,MAAMqL,oBAAoBL,EAAIrO,IACnC,IAAIgO,EAAQ/K,EAAK+B,MAAMgJ,MAAMjM,OAAO,SAAAD,GAAI,OAAIA,EAAK9B,KAAOqO,EAAIrO,KAC5DiD,EAAK8F,SAAS,CAAEiF,MAAOA,OAEzBxK,OAAS,SAAA6K,GACPlL,QAAQC,IAAI,uBACZD,QAAQC,IAAIiL,GACZA,EAAIrO,GAAKqJ,EAAKpG,EAAK+B,MAAM/E,MACzBgD,EAAKI,MAAMsL,oBAAoBN,MAEjCxG,KAAO,SAAAwG,GACLlL,QAAQC,IAAI,+BACZH,EAAKI,MAAMuL,oBAAoBP,EAAIrO,GAAIqO,GACnCpL,EAAK+B,MAAMoJ,gBAAkBC,GAC/BpL,EAAK8F,SAAS,CAAEqF,cAAe,UAGnCS,QAAU,WACR,GAAI5L,EAAK+B,MAAMmJ,YAAa,CAC1B,IAAI3G,EAAO,GAKX,OAJAvE,EAAKI,MAAMmE,KAAK3F,IAAI,SAAA8F,GAElB,OADAH,EAAKG,EAAE1H,MAAQ,KACR,OAEFgD,EAAKiL,OAAO1G,GAAM,EAAMvE,EAAKO,QAEpC,OAAO,8EAGF,IAAAuE,EAAAzF,KACP,OACE7C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAK2C,KAAK0C,MAAMiJ,SAChBxO,EAAAC,EAAAC,cAAA,WAAM2C,KAAKe,MAAMgE,UACjB5H,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UACEuD,QAAS,WACP6E,EAAKgB,SAAS,CAAEoF,aAAcpG,EAAK/C,MAAMmJ,eAE3CvJ,UAAWtC,KAAK0C,MAAMmJ,YAAc,GAAK,WAExC7L,KAAK0C,MAAMmJ,YAAc,SAAW,WAGzC1O,EAAAC,EAAAC,cAAA,WACG2C,KAAKuM,UACNpP,EAAAC,EAAAC,cAAA,MAAIqI,MAAO,CAAE8G,QAAS,QACnBxM,KAAK0C,MAAMgJ,MAAMnM,IAAI,SAAAwM,GACpB,OACE5O,EAAAC,EAAAC,cAAA,MACEmF,IAAKuJ,EAAIrO,GACTkD,QAAS,kBACP6E,EAAKgB,SAAS,CACZxB,SAAU8G,KAGdzJ,UAAU,aAEVnF,EAAAC,EAAAC,cAAA,OAAKqI,MAAO,CAAEC,MAAO,OAAQtD,QAAS,SACpClF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAK0O,EAAIpO,OAEXR,EAAAC,EAAAC,cAAA,OACEqI,MAAO,CACLC,MAAO,OACPtD,QAAS,OACTwD,eAAgB,aAGlB1I,EAAAC,EAAAC,cAAA,OAAKiF,UAAU,gBACbnF,EAAAC,EAAAC,cAAA,UACEuD,QAAS,WACP6E,EAAKgB,SAAS,CAAEqF,cAAeC,MAFnC,QAOA5O,EAAAC,EAAAC,cAAA,UAAQuD,QAAS,kBAAM6E,EAAK0G,eAAeJ,KAA3C,aAMLtG,EAAKmG,OAAOG,iBA3HdvO,aC2BJiP,mLA7BJ,IAAA9L,EAAAX,KACH9B,EAAO,CACT,SACA,UACA,YACA,WACA,SACA,WACA,UAEF,OACEf,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UACEuD,QAAS,WACP1C,EAAKkH,QAAQ,SAAApD,GACX,IAAI0K,EAAO,GACXA,EAAK/O,KAAOqE,EACZ0K,EAAKhP,GAAKqJ,EAAK,OACfpG,EAAKI,MAAMG,OAAOwL,OANxB,wBAbWlP,aCgCbmP,6MACJjK,qBACKjF,EAAQoC,QAAQc,EAAKI,MAAMN,eAC9BmM,SAAU,eAEZC,YAAc,WACZlM,EAAK8F,SAALyC,OAAAsC,EAAA,EAAAtC,CAAA,GAAmBzL,EAAQoC,QAAQc,EAAKI,MAAMN,yFAEvC,IAAAgF,EAAAzF,KAsSP,OACE7C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKiF,UAAU,gBACbnF,EAAAC,EAAAC,cAAA,UAAQuD,QAASZ,KAAKe,MAAMuD,QAA5B,SAEFnH,EAAAC,EAAAC,cAAA,0BAAkB2C,KAAK0C,MAAM/E,MAC7BR,EAAAC,EAAAC,cAAA,WAhBY,CACd,WACA,SACA,UACA,OACA,QACA,SACA,WACA,YASekC,IAAI,SAAAC,GACb,IAAIsN,EAAc,GAIlB,OAHItN,IAASiG,EAAK/C,MAAMkK,WACtBE,EAAc,WAGd3P,EAAAC,EAAAC,cAAA,UACEuD,QAAS,WACP6E,EAAKgB,SAAS,CAAEmG,SAAUpN,KAE5BkG,MAAO,CAAEqH,cAAe,aAAcC,OAAQ,OAC9C1K,UAAWwK,EACXtK,IAAKhD,GAEJA,MAKTrC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAhUW,WACf,OAAQoI,EAAK/C,MAAMkK,UACjB,IAAK,SACH,OACEzP,EAAAC,EAAAC,cAAC4P,EAAD,CACEvB,MAAOjG,EAAK/C,MAAM1E,OAClBqO,oBAAqB,SAAAtO,GACnB0H,EAAK1E,MAAMmM,YAAYzH,EAAK/C,MAAMhF,GAAIK,GACtC0H,EAAKoH,eAEPP,oBAAqB,SAACa,EAAQpP,GAC5B0H,EAAK1E,MAAMqM,YAAY3H,EAAK/C,MAAMhF,GAAIyP,EAAQpP,GAC9C0H,EAAKoH,eAEPT,oBAAqB,SAAAe,GACnB1H,EAAK1E,MAAMsM,YAAY5H,EAAK/C,MAAMhF,GAAIyP,GACtC1H,EAAKoH,eAEPlP,KAAK,QACLiO,OAAO,cACPD,QAAQ,SACRT,MAAO,CACL,CAAEvN,KAAM,OAAQC,KAAM6H,EAAK/C,MAAMxE,KAAM0I,UAAU,GACjD,CAAEjJ,KAAM,QAASC,KAAM6H,EAAK/C,MAAMvE,MAAOyI,UAAU,GACnD,CAAEjJ,KAAM,UAAWC,KAAM6H,EAAK/C,MAAMrE,QAASuI,UAAU,GACvD,CAAEjJ,KAAM,SAAUC,KAAM6H,EAAK/C,MAAMtE,OAAQwI,UAAU,GACrD,CAAEjJ,KAAM,WAAYC,KAAM6H,EAAK/C,MAAMpE,SAAUsI,UAAU,GACzD,CAAEjJ,KAAM,WAAYC,KAAM6H,EAAK/C,MAAMnE,SAAUqI,UAAU,IAE3D1B,KAAM,CACJ,CACEvH,KAAM,OACNiJ,UAAU,MAOpB,IAAK,WACL,QACE,OACEzJ,EAAAC,EAAAC,cAAC4P,EAAD,CACEvB,MAAOjG,EAAK/C,MAAMzE,OAClBoO,oBAAqB,SAAAtO,GACnB0H,EAAK1E,MAAMP,YAAYiF,EAAK/C,MAAMhF,GAAIK,GACtC0H,EAAKoH,eAEPP,oBAAqB,SAACa,EAAQpP,GAC5B0H,EAAK1E,MAAMuM,YAAY7H,EAAK/C,MAAMhF,GAAIyP,EAAQpP,GAC9C0H,EAAKoH,eAEPT,oBAAqB,SAAAe,GACnB1H,EAAK1E,MAAMwM,YAAY9H,EAAK/C,MAAMhF,GAAIyP,GACtC1H,EAAKoH,eAEPlP,KAAK,QACLgO,QAAQ,WACRzG,KAAM,CACJ,CACEvH,KAAM,OACNiJ,UAAU,EACVD,QAAQ,EACRT,MAAM,GAER,CACEvI,KAAM,OACNiJ,UAAU,GAEZ,CAAEjJ,KAAM,cACR,CACEA,KAAM,MACNgC,KAAM,SACN/B,KAAM6H,EAAK/C,MAAMxE,KACjB0I,UAAU,GAEZ,CACEjJ,KAAM,QACNgC,KAAM,SACN/B,KAAM6H,EAAK/C,MAAMtE,OACjBwI,UAAU,GAEZ,CACEjJ,KAAM,OACNgC,KAAM,SACN/B,KAAM6H,EAAK/C,MAAMvE,MACjByI,UAAU,GAEZ,CACEjJ,KAAM,QACNgC,KAAM,SACN/B,KAAM6H,EAAK/C,MAAMrE,QACjBuI,UAAU,GAEZ,CACEjJ,KAAM,UACNgC,KAAM,SACN/B,KAAM6H,EAAK/C,MAAMpE,SACjBsI,UAAU,GAEZ,CACEjJ,KAAM,UACNgC,KAAM,SACN/B,KAAM6H,EAAK/C,MAAMnE,SACjBqI,UAAU,GAEZ,CACEjJ,KAAM,UACNgC,KAAM,WACNiH,UAAU,EACVtB,QAAS,gCAKnB,IAAK,OACH,OACEnI,EAAAC,EAAAC,cAAC4P,EAAD,CACEvB,MAAOjG,EAAK/C,MAAMxE,KAClBmO,oBAAqB,SAAAtO,GACnB0H,EAAK1E,MAAMyM,UAAU/H,EAAK/C,MAAMhF,GAAIK,GACpC0H,EAAKoH,eAEPP,oBAAqB,SAACa,EAAQpP,GAC5B0H,EAAK1E,MAAM0M,UAAUhI,EAAK/C,MAAMhF,GAAIyP,EAAQpP,GAC5C0H,EAAKoH,eAEPT,oBAAqB,SAAAe,GACnB1H,EAAK1E,MAAM2M,UAAUjI,EAAK/C,MAAMhF,GAAIyP,GACpC1H,EAAKoH,eAEPlP,KAAK,MACLgO,QAAQ,OACRzG,KAAM,CACJ,CACEvH,KAAM,OACNiJ,UAAU,KAIdzJ,EAAAC,EAAAC,cAACsQ,EAAD,CACEzM,OAAQ,SAAAnD,GACN0H,EAAK1E,MAAMyM,UAAU/H,EAAK/C,MAAMhF,GAAIK,GACpC0H,EAAKoH,kBAKf,IAAK,QACH,OACE1P,EAAAC,EAAAC,cAAC4P,EAAD,CACEvB,MAAOjG,EAAK/C,MAAMvE,MAClBkO,oBAAqB,SAAAtO,GACnB0H,EAAK1E,MAAM6M,WAAWnI,EAAK/C,MAAMhF,GAAIK,GACrC0H,EAAKoH,eAEPP,oBAAqB,SAACa,EAAQpP,GAC5B0H,EAAK1E,MAAM8M,WAAWpI,EAAK/C,MAAMhF,GAAIyP,EAAQpP,GAC7C0H,EAAKoH,eAEPT,oBAAqB,SAAAe,GACnB1H,EAAK1E,MAAM+M,WAAWrI,EAAK/C,MAAMhF,GAAIyP,GACrC1H,EAAKoH,eAEPlP,KAAK,OACLgO,QAAQ,QACRzG,KAAM,CACJ,CACEvH,KAAM,OACNiJ,UAAU,MAKpB,IAAK,SACH,OACEzJ,EAAAC,EAAAC,cAAC4P,EAAD,CACEvB,MAAOjG,EAAK/C,MAAMtE,OAClBiO,oBAAqB,SAAAtO,GACnB0H,EAAK1E,MAAMgN,YAAYtI,EAAK/C,MAAMhF,GAAIK,GACtC0H,EAAKoH,eAEPP,oBAAqB,SAACa,EAAQpP,GAC5B0H,EAAK1E,MAAMiN,YAAYvI,EAAK/C,MAAMhF,GAAIyP,EAAQpP,GAC9C0H,EAAKoH,eAEPT,oBAAqB,SAAAe,GACnB1H,EAAK1E,MAAMkN,YAAYxI,EAAK/C,MAAMhF,GAAIyP,GACtC1H,EAAKoH,eAEPlP,KAAK,QACLgO,QAAQ,SACRzG,KAAM,CACJ,CACEvH,KAAM,OACNiJ,UAAU,MAKpB,IAAK,UACH,OACEzJ,EAAAC,EAAAC,cAAC4P,EAAD,CACEvB,MAAOjG,EAAK/C,MAAMrE,QAClBgO,oBAAqB,SAAAtO,GACnB0H,EAAK1E,MAAMmN,YAAYzI,EAAK/C,MAAMhF,GAAIK,GACtC0H,EAAKoH,eAEPP,oBAAqB,SAACa,EAAQpP,GAC5B0H,EAAK1E,MAAMoN,YAAY1I,EAAK/C,MAAMhF,GAAIyP,EAAQpP,GAC9C0H,EAAKoH,eAEPT,oBAAqB,SAAAe,GACnB1H,EAAK1E,MAAMqN,YAAY3I,EAAK/C,MAAMhF,GAAIyP,GACtC1H,EAAKoH,eAEPlP,KAAK,QACLgO,QAAQ,UACRzG,KAAM,CACJ,CACEvH,KAAM,OACNiJ,UAAU,EACVD,QAAQ,MAKlB,IAAK,WACH,OACExJ,EAAAC,EAAAC,cAAC4P,EAAD,CACEvB,MAAOjG,EAAK/C,MAAMpE,SAClB+N,oBAAqB,SAAAtO,GACnB0H,EAAK1E,MAAMsN,cAAc5I,EAAK/C,MAAMhF,GAAIK,GACxC0H,EAAKoH,eAEPP,oBAAqB,SAACa,EAAQpP,GAC5B0H,EAAK1E,MAAMuN,cAAc7I,EAAK/C,MAAMhF,GAAIyP,EAAQpP,GAChD0H,EAAKoH,eAEPT,oBAAqB,SAAAe,GACnB1H,EAAK1E,MAAMwN,cAAc9I,EAAK/C,MAAMhF,GAAIyP,GACxC1H,EAAKoH,eAEPlP,KAAK,UACLgO,QAAQ,WACRzG,KAAM,CACJ,CACEvH,KAAM,OACNiJ,UAAU,EACVD,QAAQ,MAKlB,IAAK,WACH,OACExJ,EAAAC,EAAAC,cAAC4P,EAAD,CACEvB,MAAOjG,EAAK/C,MAAMnE,SAClB8N,oBAAqB,SAAAtO,GACnB0H,EAAK1E,MAAMyN,cAAc/I,EAAK/C,MAAMhF,GAAIK,GACxC0H,EAAKoH,eAEPP,oBAAqB,SAACa,EAAQpP,GAC5B0H,EAAK1E,MAAM0N,cAAchJ,EAAK/C,MAAMhF,GAAIyP,EAAQpP,GAChD0H,EAAKoH,eAEPT,oBAAqB,SAAAe,GACnB1H,EAAK1E,MAAM2N,cAAcjJ,EAAK/C,MAAMhF,GAAIyP,GACxC1H,EAAKoH,eAEPlP,KAAK,UACLgO,QAAQ,WACRzG,KAAM,CACJ,CACEvH,KAAM,OACNiJ,UAAU,EACVD,QAAQ,QA4ChB,eAzUmBnJ,aAgVdyD,cACb,KACA,CACET,cACA8M,YdvNuB,SAAC7M,EAAckO,EAAS5Q,GACjD,IAAIE,EAASR,EAAQG,KAAK6C,EAAc,UAGxC,OAFAxC,EAAOkC,WAAWwO,EAAS5Q,GAEpB,CACL4B,KCzJwB,eD0JxBW,QAAS,CACPrC,OAJJA,EAASR,EAAQG,KAAK6C,EAAc,acqNlC8M,Yd7MuB,SAAC9M,EAAckO,GACxC,IAAI1Q,EAASR,EAAQG,KAAK6C,EAAc,UAGxC,OAFAxC,EAAOmC,WAAWuO,GAEX,CACLhP,KCnKwB,eDoKxBW,QAAS,CACPrC,OAJJA,EAASR,EAAQG,KAAK6C,EAAc,ac2MlCyM,YdxQuB,SAACzM,EAAc1C,GACxC,IAAIC,EAASP,EAAQG,KAAK6C,EAAc,UAGxC,OAFAzC,EAAOkC,WAAWnC,GAEX,CACL4B,KC/GwB,eDgHxBW,QAAS,CACPtC,OAJJA,EAASP,EAAQG,KAAK6C,EAAc,acsQlC2M,Yd9PuB,SAAC3M,EAAcmO,EAAS7Q,GACjD,IAAIC,EAASP,EAAQG,KAAK6C,EAAc,UAGxC,OAFAzC,EAAOmC,WAAWyO,EAAS7Q,GAEpB,CACL4B,KCzHwB,eD0HxBW,QAAS,CACPtC,OAJJA,EAASP,EAAQG,KAAK6C,EAAc,ac4PlC4M,YdpPuB,SAAC5M,EAAcmO,GACxC,IAAI5Q,EAASP,EAAQG,KAAK6C,EAAc,UAGxC,OAFAzC,EAAOoC,WAAWwO,GAEX,CACLjP,KCnIwB,eDoIxBW,QAAS,CACPtC,OAJJA,EAASP,EAAQG,KAAK6C,EAAc,ackPlC+M,UdnMqB,SAAC/M,EAAc1C,GACtC,IAAIG,EAAOT,EAAQG,KAAK6C,EAAc,QAGtC,OAFAvC,EAAKgC,WAAWnC,GAET,CACL4B,KC/KsB,aDgLtBW,QAAS,CACPpC,KAJJA,EAAOT,EAAQG,KAAK6C,EAAc,WciMhCgN,UdzLqB,SAAChN,EAAcoO,EAAO9Q,GAC7C,IAAIG,EAAOT,EAAQG,KAAK6C,EAAc,QAGtC,OAFAvC,EAAKiC,WAAW0O,EAAO9Q,GAEhB,CACL4B,KCzLsB,aD0LtBW,QAAS,CACPpC,KAJJA,EAAOT,EAAQG,KAAK6C,EAAc,WcuLhCiN,Ud/KqB,SAACjN,EAAcoO,GACtC,IAAI3Q,EAAOT,EAAQG,KAAK6C,EAAc,QAGtC,OAFAvC,EAAKkC,WAAWyO,GAET,CACLlP,KCnMsB,aDoMtBW,QAAS,CACPpC,KAJJA,EAAOT,EAAQG,KAAK6C,EAAc,Wc6KhCmN,WdlKsB,SAACnN,EAAc1C,GACvC,IAAII,EAAQV,EAAQG,KAAK6C,EAAc,SAGvC,OAFAtC,EAAM+B,WAAWnC,GAEV,CACL4B,KC/MuB,cDgNvBW,QAAS,CACPnC,MAJJA,EAAQV,EAAQG,KAAK6C,EAAc,YcgKjCoN,WdxJsB,SAACpN,EAAcqO,EAAQ/Q,GAC/C,IAAII,EAAQV,EAAQG,KAAK6C,EAAc,SAGvC,OAFAtC,EAAMgC,WAAW2O,EAAQ/Q,GAElB,CACL4B,KCzNuB,cD0NvBW,QAAS,CACPnC,MAJJA,EAAQV,EAAQG,KAAK6C,EAAc,YcsJjCqN,Wd9IsB,SAACrN,EAAcqO,GACvC,IAAI3Q,EAAQV,EAAQG,KAAK6C,EAAc,SAGvC,OAFAtC,EAAMiC,WAAW0O,GAEV,CACLnP,KCnOuB,cDoOvBW,QAAS,CACPnC,MAJJA,EAAQV,EAAQG,KAAK6C,EAAc,Yc4IjCsN,YdjIuB,SAACtN,EAAc1C,GACxC,IAAIK,EAASX,EAAQG,KAAK6C,EAAc,UAGxC,OAFArC,EAAO8B,WAAWnC,GAEX,CACL4B,KC/OwB,eDgPxBW,QAAS,CACPlC,OAJJA,EAASX,EAAQG,KAAK6C,EAAc,ac+HlCuN,YdvHuB,SAACvN,EAAcsO,EAAShR,GACjD,IAAIK,EAASX,EAAQG,KAAK6C,EAAc,UAGxC,OAFArC,EAAO+B,WAAW4O,EAAShR,GAEpB,CACL4B,KCzPwB,eD0PxBW,QAAS,CACPlC,OAJJA,EAASX,EAAQG,KAAK6C,EAAc,acqHlCwN,Yd7GuB,SAACxN,EAAcsO,GACxC,IAAI3Q,EAASX,EAAQG,KAAK6C,EAAc,UAGxC,OAFArC,EAAOgC,WAAW2O,GAEX,CACLpP,KCnQwB,eDoQxBW,QAAS,CACPlC,OAJJA,EAASX,EAAQG,KAAK6C,EAAc,ac2GlCyN,YdhGuB,SAACzN,EAAc1C,GACxC,IAAIM,EAAUZ,EAAQG,KAAK6C,EAAc,WAGzC,OAFApC,EAAQ6B,WAAWnC,GAEZ,CACL4B,KC/QwB,eDgRxBW,QAAS,CACPjC,QAJJA,EAAUZ,EAAQG,KAAK6C,EAAc,cc8FnC0N,YdtFuB,SAAC1N,EAAcuO,EAASjR,GACjD,IAAIM,EAAUZ,EAAQG,KAAK6C,EAAc,WAGzC,OAFApC,EAAQ8B,WAAW6O,EAASjR,GAErB,CACL4B,KCzRwB,eD0RxBW,QAAS,CACPjC,QAJJA,EAAUZ,EAAQG,KAAK6C,EAAc,ccoFnC2N,Yd5EuB,SAAC3N,EAAcuO,GACxC,IAAI3Q,EAAUZ,EAAQG,KAAK6C,EAAc,WAGzC,OAFApC,EAAQ+B,WAAW4O,GAEZ,CACLrP,KCnSwB,eDoSxBW,QAAS,CACPjC,QAJJA,EAAUZ,EAAQG,KAAK6C,EAAc,cc0EnC4N,cd/DyB,SAAC5N,EAAc1C,GAC1C,IAAIO,EAAWb,EAAQG,KAAK6C,EAAc,YAG1C,OAFAnC,EAAS4B,WAAWnC,GAEb,CACL4B,KC/S0B,iBDgT1BW,QAAS,CACPhC,SAJJA,EAAWb,EAAQG,KAAK6C,EAAc,ec6DpC6N,cdrDyB,SAAC7N,EAAcwO,EAAWlR,GACrD,IAAIO,EAAWb,EAAQG,KAAK6C,EAAc,YAG1C,OAFAnC,EAAS6B,WAAW8O,EAAWlR,GAExB,CACL4B,KCzT0B,iBD0T1BW,QAAS,CACPhC,SAJJA,EAAWb,EAAQG,KAAK6C,EAAc,ecmDpC8N,cd3CyB,SAAC9N,EAAcwO,GAC1C,IAAI3Q,EAAWb,EAAQG,KAAK6C,EAAc,YAG1C,OAFAnC,EAAS8B,WAAW6O,GAEb,CACLtP,KCnU0B,iBDoU1BW,QAAS,CACPhC,SAJJA,EAAWb,EAAQG,KAAK6C,EAAc,ecyCpC+N,cd9ByB,SAAC/N,EAAc1C,GAC1C,IAAIQ,EAAWd,EAAQG,KAAK6C,EAAc,YAG1C,OAFAlC,EAAS2B,WAAWnC,GAEb,CACL4B,KC/U0B,iBDgV1BW,QAAS,CACP/B,SAJJA,EAAWd,EAAQG,KAAK6C,EAAc,ec4BpCgO,cdpByB,SAAChO,EAAcyO,EAAWnR,GACrD,IAAIQ,EAAWd,EAAQG,KAAK6C,EAAc,YAG1C,OAFAlC,EAAS4B,WAAW+O,EAAWnR,GAExB,CACL4B,KCzV0B,iBD0V1BW,QAAS,CACP/B,SAJJA,EAAWd,EAAQG,KAAK6C,EAAc,eckBpCiO,cdVyB,SAACjO,EAAcyO,GAC1C,IAAI3Q,EAAWd,EAAQG,KAAK6C,EAAc,YAG1C,OAFAlC,EAAS6B,WAAW8O,GAEb,CACLvP,KCnW0B,iBDoW1BW,QAAS,CACP/B,SAJJA,EAAWd,EAAQG,KAAK6C,EAAc,gBcnBzBQ,CA4Bb0L,GC5XIwC,6MACJzM,MAAQ,CACN0M,YAAY,EACZC,eAAgB,KAChBC,cAAc,EACdC,eAAgB,kGAGhBvP,KAAKyG,SAAS,CAAE6I,cAAc,qCAEvB,IAAA7J,EAAAzF,KACHpC,EAAOoC,KAAKe,MAAMK,YAGlBmJ,EAAU,GAkCd,OAjCAA,EAAQ/L,KAAK,CACXb,KAAM,SACN8M,OAAQ,SAAA/M,GACN+H,EAAK1E,MAAMV,iBAAiB3C,IAE9B2L,UAAU,IAEZkB,EAAQ/L,KAAK,CACXb,KAAM,OACN8M,OAAQ,SAAA/M,GACN+H,EAAK1E,MAAMyO,eAAe9R,EAAIqJ,EAAK,kBAGvCwD,EAAQ/L,KAAK,CACXb,KAAM,OACN8M,OAAQ,SAAA/M,GACN+H,EAAKgB,SAAS,CACZ4I,eAAgB3R,OAItB6M,EAAQ/L,KAAK,CACXb,KAAM,SACN8M,OAAQ,SAAA/M,GACN+H,EAAKgB,SAAS,CACZ6I,cAAc,EACdC,eAAgB,WACd9J,EAAK1E,MAAM0O,iBAAiB/R,SAMH,MAA7BsC,KAAK0C,MAAM2M,eAEXlS,EAAAC,EAAAC,cAACqS,EAAD,CACEjP,aAAcT,KAAK0C,MAAM2M,eACzB/K,OAAQ,WACNmB,EAAKgB,SAAS,CAAE4I,eAAgB,UAOtClS,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAACsS,EAAD,CACEhS,KAAK,aACL0E,QAASrC,KAAK0C,MAAM0M,WAAa,OAAS,SAC1CzG,MAAO,WACLlD,EAAKgB,SAAS,CAAE2I,YAAY,KAE9BtE,OAAQ,SAAA8E,GACNnK,EAAK1E,MAAM8O,iBAAiB9I,EAAK,cAAe6I,EAAOjS,MACvD8H,EAAKgB,SAAS,CAAE2I,YAAY,KAE9B9K,OAAQ,WACNmB,EAAKgB,SAAS,CAAE2I,YAAY,OAGhCjS,EAAAC,EAAAC,cAACyS,EAAD,CACEzG,SACmC,MAAjCrJ,KAAKe,MAAMR,mBACPP,KAAKe,MAAMR,mBAAmB7C,GAC9B,KAENE,KAAMA,EACN2M,QAASA,IAEXpN,EAAAC,EAAAC,cAAC8L,EAAD,CACE9G,QAASrC,KAAK0C,MAAM4M,aACpB3P,KAAK,UACLmF,IAAK,WACHW,EAAK/C,MAAM6M,iBACX9J,EAAKgB,SAAS,CAAE6I,cAAc,KAEhChL,OAAQ,kBAAMmB,EAAKgB,SAAS,CAAE6I,cAAc,eA5F5B9R,aAyGXyD,cANS,SAAAyB,GACtB,MAAO,CACLtB,YAAasB,EAAMuH,gBACnB1J,mBAAoBmC,EAAMwH,qBAK5B,CACE2F,iBf/E4B,SAACnS,EAAIC,GAGnC,OAFAF,EAAQyD,OAAOxD,EAAIC,GAEZ,CACLgC,KCnD6B,oBDoD7BW,QAAS,CACPc,YAJO3D,EAAQI,ae8EjBwC,mBACAmP,efvD0B,SAAC9R,EAAIqS,GACjC,IAAIhS,EAAON,EAAQoC,QAAQnC,GAM3B,OALAK,EAAKL,GAAKqS,EACVhS,EAAKJ,MAAQ,QACbF,EAAQyD,OAAO6O,EAAOhS,EAAKJ,MAC3BF,EAAQiB,SAASqR,EAAOhS,GAEjB,CACL4B,KC/E2B,kBDgF3BW,QAAS,CACPc,YAJO3D,EAAQI,aekDjBmS,iBf1C4B,SAACtS,EAAI2B,GAGnC,OAFA5B,EAAQwS,OAAOvS,EAAI2B,GAEZ,CACLM,KCxF6B,oBDyF7BW,QAAS,CACPc,YAJO3D,EAAQI,aeyCjB4R,iBfjC4B,SAAA/R,GAC9B,IAAIwS,EAAUzS,EAAQoC,QAAQnC,GAG9B,OAFAD,EAAQ0S,OAAOzS,GAER,CACLiC,KClG6B,oBDmG7BW,QAAS,CACPc,YAJO3D,EAAQI,UAKfqS,cekBSjP,CASbkO,GC1GaiB,mLAdX,OACEjT,EAAAC,EAAAC,cAACgT,EAAA,EAAD,KACElT,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACiT,EAAD,MACAnT,EAAAC,EAAAC,cAAA,OAAKiF,UAAU,WACbnF,EAAAC,EAAAC,cAACkT,EAAA,EAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,UAAWlJ,IACjCrK,EAAAC,EAAAC,cAACkT,EAAA,EAAD,CAAOC,KAAK,eAAeC,OAAK,EAACC,UAAWvB,cARtC3R,qBCAHmT,cAAgB,CAC7B1G,gBCJa,WAAuC,IAAtCvH,EAAsC1D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA9BvB,EAAQI,UAAW4M,EAAWzL,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACpD,OAAQuL,EAAO9K,MACb,IjBX8B,qBiBY9B,IjBV6B,oBiBW7B,IjBT2B,kBiBU3B,IjBT6B,oBiBU7B,IjBT6B,oBiBU3B,OAAO8K,EAAOnK,QAAQc,YACxB,QACE,OAAOsB,IDJXwH,mBEZa,WAA0B,IAAzBxH,EAAyB1D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAjB,KAAMyL,EAAWzL,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACvC,OAAQuL,EAAO9K,MACb,IlBD6B,oBkBE3B,OAAO8K,EAAOnK,QAAQC,oBAAsB,KAC9C,IlBA6B,oBkBC3B,OAAc,OAAVmC,GAAkB+H,EAAOnK,QAAQ4P,QAAQxS,KAAOgF,EAAMhF,GACjD,KAEAgF,EAEX,QACE,OAAOA,IFEXC,WGba,WAAwB,IAAvBD,EAAuB1D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIyL,EAAWzL,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrC,OAAQuL,EAAO9K,MACb,InBD6B,oBmBE7B,InBGwB,emBFtB,OAAO8K,EAAOnK,QAAQtC,OAAO+B,MAC/B,QACE,OAAO2C,IHQXG,WITa,WAAwB,IAAvBH,EAAuB1D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIyL,EAAWzL,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrC,OAAQuL,EAAO9K,MACb,IpBN6B,oBoBO7B,IpBcwB,eoBbxB,IpBcwB,eoBbxB,IpBcwB,eoBbtB,OAAO8K,EAAOnK,QAAQlC,OAAO2B,MAC/B,QACE,OAAO2C,IJEXK,YKVa,WAAwB,IAAvBL,EAAuB1D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIyL,EAAWzL,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrC,OAAQuL,EAAO9K,MACb,IrBN6B,oBqBO7B,IrBkBwB,eqBjBxB,IrBkBwB,eqBjBxB,IrBkBwB,eqBjBtB,OAAO8K,EAAOnK,QAAQjC,QAAQ0B,MAChC,QACE,OAAO2C,ILGXE,SMXa,WAAwB,IAAvBF,EAAuB1D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIyL,EAAWzL,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrC,OAAQuL,EAAO9K,MACb,ItBN6B,oBsBO7B,ItBMsB,asBLtB,ItBMsB,asBLtB,ItBMsB,asBLpB,OAAO8K,EAAOnK,QAAQpC,KAAK6B,MAC7B,QACE,OAAO2C,INIXI,UOjBa,WAAwB,IAAvBJ,EAAuB1D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIyL,EAAWzL,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrC,OAAQuL,EAAO9K,MACb,IvBD6B,oBuBE7B,IvBeuB,cuBdrB,OAAO8K,EAAOnK,QAAQnC,MAAM4B,MAC9B,QACE,OAAO2C,IPYXwB,WQlBa,WAAwB,IAAvBxB,EAAuB1D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIyL,EAAWzL,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrC,OAAQuL,EAAO9K,MACb,IxBD6B,oBwBE7B,IxBOwB,ewBNtB,OAAO8K,EAAOnK,QAAQrC,OAAO8B,MAC/B,QACE,OAAO2C,IRaXM,aSda,WAAwB,IAAvBN,EAAuB1D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIyL,EAAWzL,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrC,OAAQuL,EAAO9K,MACb,IzBN6B,oByBO7B,IzBsB0B,iByBrB1B,IzBsB0B,iByBrB1B,IzBsB0B,iByBrBxB,OAAO8K,EAAOnK,QAAQhC,SAASyB,MACjC,QACE,OAAO2C,ITOXO,aUpBa,WAAwB,IAAvBP,EAAuB1D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIyL,EAAWzL,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrC,OAAQuL,EAAO9K,MACb,I1BD6B,oB0BE7B,I1B+B0B,iB0B9BxB,OAAO8K,EAAOnK,QAAQ/B,SAASwB,MACjC,QACE,OAAO2C,MCCPkO,EAAQC,YAAYC,GAE1BC,IAASC,OACP7T,EAAAC,EAAAC,cAAC4T,EAAA,EAAD,CAAUL,MAAOA,GACfzT,EAAAC,EAAAC,cAAC6T,EAAD,OAEFzI,SAAS0I,cAAc","file":"static/js/main.3bfa1154.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    return (\r\n      <header>\r\n        <nav>\r\n          <Link to=\"/\">\r\n            <button>Home</button>\r\n          </Link>\r\n\r\n          <Link to=\"/collections\">\r\n            <button>Collections</button>\r\n          </Link>\r\n        </nav>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","class storage {\r\n  static create(id, name) {\r\n    let list = storage.getList();\r\n    let collection = {\r\n      name,\r\n      id\r\n    };\r\n    let data = {\r\n      name,\r\n      id,\r\n      tables: [],\r\n      blocks: [],\r\n      days: [],\r\n      times: [],\r\n      places: [],\r\n      batches: [],\r\n      subjects: [],\r\n      teachers: []\r\n    };\r\n    list.push(collection);\r\n    storage.saveList(list);\r\n    storage.saveData(id, data);\r\n  }\r\n  static getList() {\r\n    let list = localStorage.getItem(\"collections\") || \"[]\";\r\n    try {\r\n      list = JSON.parse(list);\r\n    } catch (ex) {\r\n      list = [];\r\n    }\r\n    return list;\r\n  }\r\n  static saveList(list = []) {\r\n    localStorage.setItem(\"collections\", JSON.stringify(list));\r\n  }\r\n\r\n  static getData(id) {\r\n    let data = localStorage.getItem(\"c-\" + id);\r\n    data = JSON.parse(data);\r\n    if (data !== undefined && data !== null) {\r\n      return data;\r\n    } else {\r\n      return {};\r\n    }\r\n  }\r\n  static saveData(id, data = {}) {\r\n    localStorage.setItem(\"c-\" + id, JSON.stringify(data));\r\n  }\r\n  static rename(id, newname) {\r\n    let list = storage.getList();\r\n    let newlist = list.map(item => {\r\n      if (item.id === id) {\r\n        item.name = newname;\r\n      }\r\n      return item;\r\n    });\r\n    storage.saveList(newlist);\r\n  }\r\n  static delete(id) {\r\n    let list = storage.getList();\r\n    let newlist = list.filter(item => item.id !== id);\r\n    storage.saveList(newlist);\r\n    localStorage.removeItem(\"c-\" + id);\r\n  }\r\n\r\n  //Main User Functions\r\n\r\n  static list(id, type) {\r\n    let tableData = storage.getData(id);\r\n    if (tableData) {\r\n      if (!tableData[type]) {\r\n        tableData[type] = [];\r\n        storage.saveData(id, tableData);\r\n      }\r\n      let ListFunctions = {\r\n        all: function() {\r\n          let tableData = storage.getData(this.id);\r\n          let list = tableData[this.type];\r\n          return list;\r\n        },\r\n        getItem: function(itemID) {\r\n          let tableData = storage.getData(this.id);\r\n          let list = tableData[this.type];\r\n          let items = list.filter(item => item.id === itemID);\r\n          return items[0];\r\n        },\r\n        createItem: function(data) {\r\n          let tableData = storage.getData(this.id);\r\n          let list = tableData[this.type];\r\n          list.push(data);\r\n          storage.saveData(this.id, tableData);\r\n          return data;\r\n        },\r\n        updateItem: function(itemID, data) {\r\n          let tableData = storage.getData(this.id);\r\n          let list = tableData[this.type];\r\n          list = list.map(item => {\r\n            if (item.id === itemID) {\r\n              return data;\r\n            }\r\n            return item;\r\n          });\r\n          tableData[this.type] = list;\r\n          storage.saveData(this.id, tableData);\r\n        },\r\n        deleteItem: function(itemID) {\r\n          let tableData = storage.getData(this.id);\r\n          let list = tableData[this.type];\r\n          tableData[this.type] = list.filter(item => item.id !== itemID);\r\n          storage.saveData(this.id, tableData);\r\n        }\r\n      };\r\n      ListFunctions.id = id;\r\n      ListFunctions.type = type;\r\n      return ListFunctions;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default storage;\r\n","import storage from \"../engine/storage\";\r\nimport {\r\n  EXAMPLE_COLLECTION,\r\n  CREATE_COLLECTION,\r\n  SELECT_COLLECTION,\r\n  RENAME_COLLECTION,\r\n  DELETE_COLLECTION,\r\n  CREATE_TABLE,\r\n  UPDATE_TABLE,\r\n  DELETE_TABLE,\r\n  CREATE_BLOCK,\r\n  UPDATE_BLOCK,\r\n  DELETE_BLOCK,\r\n  CREATE_DAY,\r\n  UPDATE_DAY,\r\n  DELETE_DAY,\r\n  CREATE_TIME,\r\n  UPDATE_TIME,\r\n  DELETE_TIME,\r\n  CREATE_PLACE,\r\n  UPDATE_PLACE,\r\n  DELETE_PLACE,\r\n  CREATE_BATCH,\r\n  UPDATE_BATCH,\r\n  DELETE_BATCH,\r\n  CREATE_SUBJECT,\r\n  UPDATE_SUBJECT,\r\n  DELETE_SUBJECT,\r\n  CREATE_TEACHER,\r\n  UPDATE_TEACHER,\r\n  DELETE_TEACHER,\r\n  COPY_COLLECTION\r\n} from \"./types\";\r\n\r\nimport Example from \"./example.json\";\r\n\r\n//COLLECTION ACTIONS\r\nexport const exampleCollection = () => {\r\n  storage.create(\"example\", \"Example\");\r\n  let list = storage.getList();\r\n  storage.saveData(\"example\", Example);\r\n  return {\r\n    type: EXAMPLE_COLLECTION,\r\n    payload: {\r\n      collections: list\r\n    }\r\n  };\r\n};\r\n\r\nexport const createCollection = (id, name) => {\r\n  storage.create(id, name);\r\n  let list = storage.getList();\r\n  return {\r\n    type: CREATE_COLLECTION,\r\n    payload: {\r\n      collections: list\r\n    }\r\n  };\r\n};\r\nexport const selectCollection = id => {\r\n  return {\r\n    type: SELECT_COLLECTION,\r\n    payload: {\r\n      selectedCollection: storage.getData(id),\r\n      tables: storage.list(id, \"tables\"),\r\n      days: storage.list(id, \"days\"),\r\n      places: storage.list(id, \"places\"),\r\n      times: storage.list(id, \"times\"),\r\n      blocks: storage.list(id, \"blocks\"),\r\n      batches: storage.list(id, \"batches\"),\r\n      subjects: storage.list(id, \"subjects\"),\r\n      teachers: storage.list(id, \"teachers\")\r\n    }\r\n  };\r\n};\r\nexport const copyCollection = (id, newid) => {\r\n  let data = storage.getData(id);\r\n  data.id = newid;\r\n  data.name += \" Copy\";\r\n  storage.create(newid, data.name);\r\n  storage.saveData(newid, data);\r\n  let list = storage.getList();\r\n  return {\r\n    type: COPY_COLLECTION,\r\n    payload: {\r\n      collections: list\r\n    }\r\n  };\r\n};\r\nexport const renameCollection = (id, newname) => {\r\n  storage.rename(id, newname);\r\n  let list = storage.getList();\r\n  return {\r\n    type: RENAME_COLLECTION,\r\n    payload: {\r\n      collections: list\r\n    }\r\n  };\r\n};\r\nexport const deleteCollection = id => {\r\n  let deleted = storage.getData(id);\r\n  storage.delete(id);\r\n  let list = storage.getList();\r\n  return {\r\n    type: DELETE_COLLECTION,\r\n    payload: {\r\n      collections: list,\r\n      deleted\r\n    }\r\n  };\r\n};\r\n\r\n//TABLE ACTIONS\r\n\r\nexport const createTable = (collectionID, data) => {\r\n  let tables = storage.list(collectionID, \"tables\");\r\n  tables.createItem(data);\r\n  tables = storage.list(collectionID, \"tables\");\r\n  return {\r\n    type: CREATE_TABLE,\r\n    payload: {\r\n      tables\r\n    }\r\n  };\r\n};\r\nexport const updateTable = (collectionID, tableID, data) => {\r\n  let tables = storage.list(collectionID, \"tables\");\r\n  tables.updateItem(tableID, data);\r\n  tables = storage.list(collectionID, \"tables\");\r\n  return {\r\n    type: UPDATE_TABLE,\r\n    payload: {\r\n      tables\r\n    }\r\n  };\r\n};\r\nexport const deleteTable = (collectionID, tableID) => {\r\n  let tables = storage.list(collectionID, \"tables\");\r\n  tables.deleteItem(tableID);\r\n  tables = storage.list(collectionID, \"tables\");\r\n  return {\r\n    type: DELETE_TABLE,\r\n    payload: {\r\n      tables\r\n    }\r\n  };\r\n};\r\n\r\n//BLOCK ACTIONS\r\n\r\nexport const createBlock = (collectionID, data) => {\r\n  let blocks = storage.list(collectionID, \"blocks\");\r\n  blocks.createItem(data);\r\n  blocks = storage.list(collectionID, \"blocks\");\r\n  return {\r\n    type: CREATE_BLOCK,\r\n    payload: {\r\n      blocks\r\n    }\r\n  };\r\n};\r\nexport const updateBlock = (collectionID, blockID, data) => {\r\n  let blocks = storage.list(collectionID, \"blocks\");\r\n  blocks.updateItem(blockID, data);\r\n  blocks = storage.list(collectionID, \"blocks\");\r\n  return {\r\n    type: UPDATE_BLOCK,\r\n    payload: {\r\n      blocks\r\n    }\r\n  };\r\n};\r\nexport const deleteBlock = (collectionID, blockID) => {\r\n  let blocks = storage.list(collectionID, \"blocks\");\r\n  blocks.deleteItem(blockID);\r\n  blocks = storage.list(collectionID, \"blocks\");\r\n  return {\r\n    type: DELETE_BLOCK,\r\n    payload: {\r\n      blocks\r\n    }\r\n  };\r\n};\r\n\r\n//DAY ACTIONS\r\n\r\nexport const createDay = (collectionID, data) => {\r\n  let days = storage.list(collectionID, \"days\");\r\n  days.createItem(data);\r\n  days = storage.list(collectionID, \"days\");\r\n  return {\r\n    type: CREATE_DAY,\r\n    payload: {\r\n      days\r\n    }\r\n  };\r\n};\r\nexport const updateDay = (collectionID, dayID, data) => {\r\n  let days = storage.list(collectionID, \"days\");\r\n  days.updateItem(dayID, data);\r\n  days = storage.list(collectionID, \"days\");\r\n  return {\r\n    type: UPDATE_DAY,\r\n    payload: {\r\n      days\r\n    }\r\n  };\r\n};\r\nexport const deleteDay = (collectionID, dayID) => {\r\n  let days = storage.list(collectionID, \"days\");\r\n  days.deleteItem(dayID);\r\n  days = storage.list(collectionID, \"days\");\r\n  return {\r\n    type: DELETE_DAY,\r\n    payload: {\r\n      days\r\n    }\r\n  };\r\n};\r\n\r\n//TIME ACTIONS\r\n\r\nexport const createTime = (collectionID, data) => {\r\n  let times = storage.list(collectionID, \"times\");\r\n  times.createItem(data);\r\n  times = storage.list(collectionID, \"times\");\r\n  return {\r\n    type: CREATE_TIME,\r\n    payload: {\r\n      times\r\n    }\r\n  };\r\n};\r\nexport const updateTime = (collectionID, timeID, data) => {\r\n  let times = storage.list(collectionID, \"times\");\r\n  times.updateItem(timeID, data);\r\n  times = storage.list(collectionID, \"times\");\r\n  return {\r\n    type: UPDATE_TIME,\r\n    payload: {\r\n      times\r\n    }\r\n  };\r\n};\r\nexport const deleteTime = (collectionID, timeID) => {\r\n  let times = storage.list(collectionID, \"times\");\r\n  times.deleteItem(timeID);\r\n  times = storage.list(collectionID, \"times\");\r\n  return {\r\n    type: DELETE_TIME,\r\n    payload: {\r\n      times\r\n    }\r\n  };\r\n};\r\n\r\n//PLACE ACTIONS\r\n\r\nexport const createPlace = (collectionID, data) => {\r\n  let places = storage.list(collectionID, \"places\");\r\n  places.createItem(data);\r\n  places = storage.list(collectionID, \"places\");\r\n  return {\r\n    type: CREATE_PLACE,\r\n    payload: {\r\n      places\r\n    }\r\n  };\r\n};\r\nexport const updatePlace = (collectionID, placeID, data) => {\r\n  let places = storage.list(collectionID, \"places\");\r\n  places.updateItem(placeID, data);\r\n  places = storage.list(collectionID, \"places\");\r\n  return {\r\n    type: UPDATE_PLACE,\r\n    payload: {\r\n      places\r\n    }\r\n  };\r\n};\r\nexport const deletePlace = (collectionID, placeID) => {\r\n  let places = storage.list(collectionID, \"places\");\r\n  places.deleteItem(placeID);\r\n  places = storage.list(collectionID, \"places\");\r\n  return {\r\n    type: DELETE_PLACE,\r\n    payload: {\r\n      places\r\n    }\r\n  };\r\n};\r\n\r\n//BATCH ACTIONS\r\n\r\nexport const createBatch = (collectionID, data) => {\r\n  let batches = storage.list(collectionID, \"batches\");\r\n  batches.createItem(data);\r\n  batches = storage.list(collectionID, \"batches\");\r\n  return {\r\n    type: CREATE_BATCH,\r\n    payload: {\r\n      batches\r\n    }\r\n  };\r\n};\r\nexport const updateBatch = (collectionID, batchID, data) => {\r\n  let batches = storage.list(collectionID, \"batches\");\r\n  batches.updateItem(batchID, data);\r\n  batches = storage.list(collectionID, \"batches\");\r\n  return {\r\n    type: UPDATE_BATCH,\r\n    payload: {\r\n      batches\r\n    }\r\n  };\r\n};\r\nexport const deleteBatch = (collectionID, batchID) => {\r\n  let batches = storage.list(collectionID, \"batches\");\r\n  batches.deleteItem(batchID);\r\n  batches = storage.list(collectionID, \"batches\");\r\n  return {\r\n    type: DELETE_BATCH,\r\n    payload: {\r\n      batches\r\n    }\r\n  };\r\n};\r\n\r\n//SUBJECT ACTIONS\r\n\r\nexport const createSubject = (collectionID, data) => {\r\n  let subjects = storage.list(collectionID, \"subjects\");\r\n  subjects.createItem(data);\r\n  subjects = storage.list(collectionID, \"subjects\");\r\n  return {\r\n    type: CREATE_SUBJECT,\r\n    payload: {\r\n      subjects\r\n    }\r\n  };\r\n};\r\nexport const updateSubject = (collectionID, subjectID, data) => {\r\n  let subjects = storage.list(collectionID, \"subjects\");\r\n  subjects.updateItem(subjectID, data);\r\n  subjects = storage.list(collectionID, \"subjects\");\r\n  return {\r\n    type: UPDATE_SUBJECT,\r\n    payload: {\r\n      subjects\r\n    }\r\n  };\r\n};\r\nexport const deleteSubject = (collectionID, subjectID) => {\r\n  let subjects = storage.list(collectionID, \"subjects\");\r\n  subjects.deleteItem(subjectID);\r\n  subjects = storage.list(collectionID, \"subjects\");\r\n  return {\r\n    type: DELETE_SUBJECT,\r\n    payload: {\r\n      subjects\r\n    }\r\n  };\r\n};\r\n\r\n//TEACHER ACTIONS\r\n\r\nexport const createTeacher = (collectionID, data) => {\r\n  let teachers = storage.list(collectionID, \"teachers\");\r\n  teachers.createItem(data);\r\n  teachers = storage.list(collectionID, \"teachers\");\r\n  return {\r\n    type: CREATE_TEACHER,\r\n    payload: {\r\n      teachers\r\n    }\r\n  };\r\n};\r\nexport const updateTeacher = (collectionID, teacherID, data) => {\r\n  let teachers = storage.list(collectionID, \"teachers\");\r\n  teachers.updateItem(teacherID, data);\r\n  teachers = storage.list(collectionID, \"teachers\");\r\n  return {\r\n    type: UPDATE_TEACHER,\r\n    payload: {\r\n      teachers\r\n    }\r\n  };\r\n};\r\nexport const deleteTeacher = (collectionID, teacherID) => {\r\n  let teachers = storage.list(collectionID, \"teachers\");\r\n  teachers.deleteItem(teacherID);\r\n  teachers = storage.list(collectionID, \"teachers\");\r\n  return {\r\n    type: DELETE_TEACHER,\r\n    payload: {\r\n      teachers\r\n    }\r\n  };\r\n};\r\n","export const EXAMPLE_COLLECTION = \"EXAMPLE_COLLECTION\";\r\n\r\nexport const CREATE_COLLECTION = \"CREATE_COLLECTION\";\r\nexport const SELECT_COLLECTION = \"SELECT_COLLECTION\";\r\nexport const COPY_COLLECTION = \"COPY_COLLECTION\";\r\nexport const RENAME_COLLECTION = \"RENAME_COLLECTION\";\r\nexport const DELETE_COLLECTION = \"DELETE_COLLECTION\";\r\n\r\nexport const CREATE_TABLE = \"CREATE_TABLE\";\r\nexport const UPDATE_TABLE = \"UPDATE_TABLE\";\r\nexport const DELETE_TABLE = \"DELETE_TABLE\";\r\n\r\nexport const CREATE_BLOCK = \"CREATE_BLOCK\";\r\nexport const UPDATE_BLOCK = \"UPDATE_BLOCK\";\r\nexport const DELETE_BLOCK = \"DELETE_BLOCK\";\r\n\r\nexport const CREATE_DAY = \"CREATE_DAY\";\r\nexport const UPDATE_DAY = \"UPDATE_DAY\";\r\nexport const DELETE_DAY = \"DELETE_DAY\";\r\n\r\nexport const CREATE_TIME = \"CREATE_TIME\";\r\nexport const UPDATE_TIME = \"UPDATE_TIME\";\r\nexport const DELETE_TIME = \"DELETE_TIME\";\r\n\r\nexport const CREATE_PLACE = \"CREATE_PLACE\";\r\nexport const UPDATE_PLACE = \"UPDATE_PLACE\";\r\nexport const DELETE_PLACE = \"DELETE_PLACE\";\r\n\r\nexport const CREATE_BATCH = \"CREATE_BATCH\";\r\nexport const UPDATE_BATCH = \"UPDATE_BATCH\";\r\nexport const DELETE_BATCH = \"DELETE_BATCH\";\r\n\r\nexport const CREATE_SUBJECT = \"CREATE_SUBJECT\";\r\nexport const UPDATE_SUBJECT = \"UPDATE_SUBJECT\";\r\nexport const DELETE_SUBJECT = \"DELETE_SUBJECT\";\r\n\r\nexport const CREATE_TEACHER = \"CREATE_TEACHER\";\r\nexport const UPDATE_TEACHER = \"UPDATE_TEACHER\";\r\nexport const DELETE_TEACHER = \"DELETE_TEACHER\";\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { exampleCollection } from \"./../../actions/\";\r\n\r\nclass Welcome extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <span>Welcome !</span>\r\n        <p>You have't created any collections</p>\r\n        <div>\r\n          <button\r\n            onClick={() => {\r\n              console.log(\"Loading The Example\");\r\n              this.props.exampleCollection();\r\n            }}\r\n          >\r\n            Load An Example\r\n          </button>\r\n        </div>\r\n        <br />\r\n        <Link to=\"/collections\">Click Here To Create Collections</Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  null,\r\n  { exampleCollection }\r\n)(Welcome);\r\n","import React, { Component } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nclass Block extends Component {\r\n  pattern(string) {\r\n    let pattern = [];\r\n    while (string.indexOf(\"%\") > -1) {\r\n      let regExp = /%(.*?)%/;\r\n      let words = string.match(regExp);\r\n      string = string.replace(words[0], \"\");\r\n      pattern.push(words[1]);\r\n    }\r\n    return pattern;\r\n  }\r\n  getTextFor(variable, block) {\r\n    switch (variable) {\r\n      case \"batch\":\r\n        return this.props.batches.filter(b => b.id === block.batch)[0].name;\r\n      case \"day\":\r\n        return this.props.days.filter(b => b.id === block.day)[0].name;\r\n      case \"time\":\r\n        return this.props.times.filter(b => b.id === block.time)[0].name;\r\n      case \"place\":\r\n        return this.props.places.filter(b => b.id === block.place)[0].name;\r\n      case \"teacher\":\r\n        return this.props.teachers.filter(b => b.id === block.teacher)[0].name;\r\n      case \"subject\":\r\n        return this.props.subjects.filter(b => b.id === block.subject)[0].name;\r\n      default:\r\n        return \"\";\r\n    }\r\n  }\r\n  render() {\r\n    let block = this.props.block;\r\n    let pattern = this.pattern(block.display);\r\n    return (\r\n      <div className=\"block\">\r\n        {pattern.map(p => {\r\n          return <div key={\"blp\" + p}>{this.getTextFor(p, block)}</div>;\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    tables: state.TablesList,\r\n    days: state.DaysList,\r\n    places: state.PlacesList,\r\n    times: state.TimesList,\r\n    batches: state.BatchesList,\r\n    subjects: state.SubjectsList,\r\n    teachers: state.TeachersList\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Block);\r\n","import React, { Component } from \"react\";\r\n\r\nimport Block from \"./Block\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nclass Table extends Component {\r\n  render() {\r\n    let base = this.props.base;\r\n    let BaseBlockKey = this.props.baseBlockKey;\r\n    let rows = this.props.rows;\r\n    let RowsBlockKey = this.props.rowsBlockKey;\r\n    let cols = this.props.cols;\r\n    let ColsBlockKey = this.props.colsBlockKey;\r\n    let blocks = this.props.blocks;\r\n    let mode = this.props.mode;\r\n    return (\r\n      <div key={this.props.id}>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <td>{base != null ? base.name : null}</td>\r\n              {cols.map(col => {\r\n                return <td key={\"c\" + col.id}>{col.name}</td>;\r\n              })}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {rows.map(row => {\r\n              return (\r\n                <tr key={\"r\" + row.id}>\r\n                  <td>{row.name}</td>\r\n                  {cols.map(col => {\r\n                    let block = blocks.filter(\r\n                      block =>\r\n                        block[BaseBlockKey] === base.id &&\r\n                        block[RowsBlockKey] === row.id &&\r\n                        block[ColsBlockKey] === col.id\r\n                    );\r\n                    if (block.length === 0) {\r\n                      if (mode === \"print\") {\r\n                        return <td key={\"emp\" + col.id} />;\r\n                      }\r\n                      return (\r\n                        <td\r\n                          onClick={() => {\r\n                            let params = {};\r\n                            params[BaseBlockKey] = base.id;\r\n                            params[RowsBlockKey] = row.id;\r\n                            params[ColsBlockKey] = col.id;\r\n                            this.props.displayAddModal(params);\r\n                          }}\r\n                          key={\"b\" + col.id}\r\n                        >\r\n                          <button>+</button>\r\n                        </td>\r\n                      );\r\n                    } else {\r\n                      return (\r\n                        <td key={\"b\" + col.id} className=\"table-block\">\r\n                          <Block block={block[0]} />\r\n                        </td>\r\n                      );\r\n                    }\r\n                  })}\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { blocks: state.BlocksList };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Table);\r\n","import React, { Component } from \"react\";\r\n\r\nclass Modal extends Component {\r\n  state = {\r\n    modalType: this.props.type == null ? \"message\" : this.props.type\r\n  };\r\n  contentModal(content) {\r\n    return (\r\n      <div className=\"modal\" display={this.state.display ? \"block\" : \"none\"}>\r\n        <div className=\"modal-inside\">\r\n          {this.props.cancel != null ? (\r\n            <div onClick={this.props.cancel} className=\"modal-x\">\r\n              X\r\n            </div>\r\n          ) : null}\r\n          {content}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  messageModal(message = \"\", okFunction = () => {}) {\r\n    return this.contentModal(\r\n      <div>\r\n        <div className=\"modal-message\">{message}</div>\r\n        <div className=\"modal-buttons\">\r\n          <button\r\n            onClick={() => {\r\n              okFunction();\r\n            }}\r\n          >\r\n            Ok\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  confirmModal(\r\n    message = \"Are you sure ?\",\r\n    yesFunction = () => {},\r\n    cancelFunction = () => {}\r\n  ) {\r\n    return this.contentModal(\r\n      <div>\r\n        <div className=\"modal-message\">{message}</div>\r\n        <div className=\"modal-buttons\">\r\n          <button\r\n            onClick={() => {\r\n              yesFunction();\r\n            }}\r\n          >\r\n            Yes\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              cancelFunction();\r\n            }}\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  render() {\r\n    if (this.props.display) {\r\n      switch (this.state.modalType) {\r\n        case \"message\":\r\n        default:\r\n          return this.messageModal(this.props.message);\r\n        case \"confirm\":\r\n          return this.confirmModal(\r\n            this.props.message,\r\n            this.props.yes,\r\n            this.props.cancel\r\n          );\r\n        case \"content\":\r\n          return this.contentModal(this.props.children);\r\n      }\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\r\n\r\nclass FormEditor extends Component {\r\n  state = {\r\n    property: this.props.property,\r\n    keys: this.props.keys\r\n  };\r\n  saveForm = () => {\r\n    let property = this.state.property;\r\n    this.state.keys.forEach(k => {\r\n      if (!k.type || k.type === \"input\") {\r\n        if (property[k.name] == null) {\r\n          property[k.name] =\r\n            this.state.property[k.name] != null\r\n              ? this.state.property[k.name]\r\n              : k.default != null\r\n              ? k.default\r\n              : null;\r\n        }\r\n      } else if (k.type && k.type === \"select\") {\r\n        if (property[k.name] == null) {\r\n          property[k.name] =\r\n            this.state.property[k.name] != null\r\n              ? this.state.property[k.name]\r\n              : k.default != null\r\n              ? k.default\r\n              : k.list.length > 0\r\n              ? k.list[0].id\r\n              : null;\r\n        }\r\n      } else if (k.type && k.type === \"textarea\") {\r\n        property[k.name] =\r\n          this.state.property[k.name] != null\r\n            ? this.state.property[k.name]\r\n            : k.default != null\r\n            ? k.default\r\n            : null;\r\n      }\r\n    });\r\n    this.props.save(property);\r\n  };\r\n  componentWillUnmount() {\r\n    if (!this.props.nounmount) {\r\n      this.saveForm();\r\n    }\r\n  }\r\n  render() {\r\n    const field = (keyType, key) => {\r\n      switch (keyType) {\r\n        case \"input\":\r\n        default:\r\n          return (\r\n            <input\r\n              key={key.name + \"inp\"}\r\n              type=\"text\"\r\n              onChange={x => {\r\n                let newvalue = x.target.value;\r\n                let property = this.state.property;\r\n                property[key.name] = newvalue;\r\n                this.setState({ property });\r\n              }}\r\n              disabled={key.locked == null ? false : key.locked}\r\n              required={key.required == null ? false : key.required}\r\n              value={\r\n                this.state.property[key.name] != null\r\n                  ? this.state.property[key.name]\r\n                  : key.default != null\r\n                  ? key.default\r\n                  : \"\"\r\n              }\r\n              style={{ display: \"table-cell\" }}\r\n            />\r\n          );\r\n        case \"select\":\r\n          return (\r\n            <select\r\n              defaultValue={\r\n                this.state.property[key.name] != null\r\n                  ? this.state.property[key.name]\r\n                  : key.default != null\r\n                  ? key.default\r\n                  : key.list.length > 0\r\n                  ? key.list[0].id\r\n                  : null\r\n              }\r\n              onChange={x => {\r\n                let property = this.state.property;\r\n                property[key.name] = x.target.value;\r\n                this.setState({ property });\r\n              }}\r\n              disabled={key.locked == null ? false : key.locked}\r\n              required={key.required == null ? false : key.required}\r\n            >\r\n              {key.list.map(item => {\r\n                return (\r\n                  <option value={item.id} key={item.id}>\r\n                    {item.name}\r\n                  </option>\r\n                );\r\n              })}\r\n            </select>\r\n          );\r\n        case \"textarea\":\r\n          return (\r\n            <textarea\r\n              key={key.name + \"txt\"}\r\n              onChange={x => {\r\n                let newvalue = x.target.value;\r\n                let property = this.state.property;\r\n                property[key.name] = newvalue;\r\n                this.setState({ property });\r\n              }}\r\n              disabled={key.locked == null ? false : key.locked}\r\n              required={key.required == null ? false : key.required}\r\n              style={{ display: \"table-cell\" }}\r\n              value={\r\n                this.state.property[key.name] == null\r\n                  ? key.default != null\r\n                    ? key.default\r\n                    : \"\"\r\n                  : this.state.property[key.name]\r\n              }\r\n            />\r\n          );\r\n      }\r\n    };\r\n    return (\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\"\r\n        }}\r\n      >\r\n        <div style={{ display: \"table\" }}>\r\n          <form\r\n            onSubmit={x => {\r\n              x.preventDefault();\r\n              this.saveForm();\r\n            }}\r\n          >\r\n            {this.state.keys.map(key => {\r\n              if (key.show != null && !key.show) {\r\n                return null;\r\n              }\r\n              let keyType = key.type != null ? key.type : \"input\";\r\n              return (\r\n                <div key={key.name + key.id} style={{ display: \"table-row\" }}>\r\n                  <label\r\n                    htmlFor={key.name + key.id + \"inp\"}\r\n                    style={{ display: \"table-cell\" }}\r\n                  >\r\n                    {key.name}\r\n                  </label>\r\n                  {field(keyType, key)}\r\n                </div>\r\n              );\r\n            })}\r\n            {this.props.children}\r\n            <div style={{ display: \"table-row\" }}>\r\n              <div style={{ display: \"table-cell\" }} />\r\n              <input\r\n                type=\"submit\"\r\n                style={{ display: \"table-cell\", width: \"100%\" }}\r\n                className=\"btn-red\"\r\n              />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FormEditor;\r\n","export const rand = (operator = \"x\", start = 3, end = 7) => {\r\n  switch (operator) {\r\n    case \"collection\":\r\n      operator = \"cn\";\r\n      break;\r\n    case \"table\":\r\n      operator = \"tl\";\r\n      break;\r\n    case \"block\":\r\n      operator = \"bk\";\r\n      break;\r\n    case \"day\":\r\n      operator = \"dy\";\r\n      break;\r\n    case \"time\":\r\n      operator = \"tm\";\r\n      break;\r\n    case \"place\":\r\n      operator = \"pl\";\r\n      break;\r\n    case \"batch\":\r\n      operator = \"bh\";\r\n      break;\r\n    case \"subject\":\r\n      operator = \"st\";\r\n      break;\r\n    case \"teacher\":\r\n      operator = \"tr\";\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  let id = Math.random()\r\n    .toString()\r\n    .split(\".\")[1]\r\n    .substr(start, end);\r\n  return operator + id;\r\n};\r\n","import React, { Component } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Welcome from \"./Welcome\";\r\nimport Table from \"./Table\";\r\n\r\nimport Modal from \"../Modal\";\r\nimport FormEditor from \"../collections/areas/FormEditor\";\r\n\r\nimport jsPDF from \"jspdf\";\r\nimport domtoimage from \"dom-to-image\";\r\n\r\nimport { selectCollection, createBlock } from \"../../actions\";\r\n\r\nimport { rand } from \"../../actions/helpers\";\r\n\r\nclass Display extends Component {\r\n  state = {\r\n    mode: \"edit\",\r\n    download: false,\r\n    downloadType: \"pdf\",\r\n    addModal: false,\r\n    addModalParams: {}\r\n  };\r\n  downloadPDF() {\r\n    let screen = this.refs.screen;\r\n    let doc = new jsPDF({ orientation: \"landscape\" });\r\n    doc.fromHTML(screen);\r\n    doc.save(\"file.pdf\");\r\n  }\r\n  downloadPNG() {\r\n    let screen = this.refs.screen;\r\n    domtoimage\r\n      .toPng(screen, { bgcolor: \"#fff\" })\r\n      .then(function(dataUrl) {\r\n        let link = document.createElement(\"a\");\r\n        link.href = dataUrl;\r\n        link.download = \"file.png\";\r\n        link.target = \"_blank\";\r\n        link.click();\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Error converting to PNG Image\");\r\n      });\r\n  }\r\n  downloadJPEG() {\r\n    let screen = this.refs.screen;\r\n    domtoimage\r\n      .toJpeg(screen, { bgcolor: \"#fff\" })\r\n      .then(function(dataUrl) {\r\n        let link = document.createElement(\"a\");\r\n        link.download = \"file.jpeg\";\r\n        link.href = dataUrl;\r\n        link.target = \"_blank\";\r\n        link.click();\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Error converting to JPEG Image\");\r\n      });\r\n  }\r\n  componentDidUpdate() {\r\n    if (this.state.download) {\r\n      switch (this.state.downloadType) {\r\n        case \"pdf\":\r\n        default:\r\n          this.downloadPDF();\r\n          break;\r\n        case \"png\":\r\n          this.downloadPNG();\r\n          break;\r\n        case \"jpeg\":\r\n          this.downloadJPEG();\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  addModal() {\r\n    let params = this.state.addModalParams;\r\n    if (this.state.addModal) {\r\n      let keys = [\r\n        {\r\n          name: \"text\",\r\n          required: true,\r\n          locked: true,\r\n          show: false\r\n        },\r\n        {\r\n          name: \"name\",\r\n          required: true\r\n        },\r\n        { name: \"customText\" },\r\n        {\r\n          name: \"day\",\r\n          type: \"select\",\r\n          list: this.props.days,\r\n          required: true\r\n        },\r\n        {\r\n          name: \"place\",\r\n          type: \"select\",\r\n          list: this.props.places,\r\n          required: true\r\n        },\r\n        {\r\n          name: \"time\",\r\n          type: \"select\",\r\n          list: this.props.times,\r\n          required: true\r\n        },\r\n        {\r\n          name: \"batch\",\r\n          type: \"select\",\r\n          list: this.props.batches,\r\n          required: true\r\n        },\r\n        {\r\n          name: \"subject\",\r\n          type: \"select\",\r\n          list: this.props.subjects,\r\n          required: true\r\n        },\r\n        {\r\n          name: \"teacher\",\r\n          type: \"select\",\r\n          list: this.props.teachers,\r\n          required: true\r\n        },\r\n        {\r\n          name: \"display\",\r\n          type: \"textarea\",\r\n          required: true,\r\n          default: \"%batch%%subject%%teacher%\"\r\n        }\r\n      ];\r\n      Object.keys(params).forEach(p => {\r\n        if (params[p] !== null) {\r\n          keys.forEach(k => {\r\n            if (k != null && k.name === p) {\r\n              console.log(\"default\", params[p]);\r\n              k.default = params[p];\r\n              k.show = false;\r\n            }\r\n          });\r\n        }\r\n      });\r\n      return (\r\n        <Modal\r\n          type=\"content\"\r\n          display={true}\r\n          cancel={() => {\r\n            this.setState({ addModal: false, addModalParams: {} });\r\n          }}\r\n        >\r\n          <FormEditor\r\n            property={{ id: rand(\"block\") }}\r\n            keys={keys}\r\n            save={data => {\r\n              this.props.createBlock(this.props.selected.id, data);\r\n              this.setState({ addModal: false, addModalParams: {} });\r\n            }}\r\n            nounmount={true}\r\n          />\r\n        </Modal>\r\n      );\r\n    }\r\n  }\r\n  screen() {\r\n    let {\r\n      tables,\r\n      blocks,\r\n      batches,\r\n      days,\r\n      times,\r\n      places,\r\n      subjects,\r\n      teachers\r\n    } = this.props;\r\n    let objector = {\r\n      tables,\r\n      blocks,\r\n      batches,\r\n      days,\r\n      times,\r\n      places,\r\n      subjects,\r\n      teachers\r\n    };\r\n\r\n    let getBlockKey = listName => {\r\n      switch (listName) {\r\n        case \"batches\":\r\n          return \"batch\";\r\n        default:\r\n          return listName.substr(0, listName.length - 1);\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        <h1>Acadtable</h1>\r\n        <div>{this.addModal()}</div>\r\n        <div>\r\n          <button\r\n            onClick={() => {\r\n              this.setState({\r\n                mode: \"print\",\r\n                downloadType: \"pdf\",\r\n                download: true\r\n              });\r\n            }}\r\n          >\r\n            Download As PDF\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              this.setState({\r\n                mode: \"print\",\r\n                downloadType: \"png\",\r\n                download: true\r\n              });\r\n            }}\r\n          >\r\n            Download As PNG\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              this.setState({\r\n                mode: \"print\",\r\n                downloadType: \"jpeg\",\r\n                download: true\r\n              });\r\n            }}\r\n          >\r\n            Download As JPEG\r\n          </button>\r\n        </div>\r\n        <div>\r\n          <button\r\n            onClick={() => {\r\n              this.setState({ mode: \"edit\" });\r\n            }}\r\n            className={this.state.mode === \"edit\" ? \"btn-red\" : \"\"}\r\n          >\r\n            edit\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              this.setState({ mode: \"print\" });\r\n            }}\r\n            className={this.state.mode === \"print\" ? \"btn-red\" : \"\"}\r\n          >\r\n            print\r\n          </button>\r\n        </div>\r\n        <div ref=\"screen\">\r\n          {tables.map(table => {\r\n            let base = objector[table.base].filter(\r\n              i => i.id === table.baseValue\r\n            )[0];\r\n            let rows = objector[table.rows];\r\n            let cols = objector[table.cols];\r\n            return (\r\n              <Table\r\n                id={table.id}\r\n                key={table.id}\r\n                mode={this.state.mode}\r\n                base={base}\r\n                baseBlockKey={getBlockKey(table.base)}\r\n                rows={rows}\r\n                rowsBlockKey={getBlockKey(table.rows)}\r\n                cols={cols}\r\n                colsBlockKey={getBlockKey(table.cols)}\r\n                blocks={blocks}\r\n                displayAddModal={params => {\r\n                  Object.keys(objector).map(listName => {\r\n                    let key = getBlockKey(listName);\r\n                    if (\r\n                      params[key] == null &&\r\n                      key !== \"table\" &&\r\n                      key !== \"block\"\r\n                    ) {\r\n                      params[key] = null;\r\n                    }\r\n                    return null;\r\n                  });\r\n                  this.setState({ addModal: true, addModalParams: params });\r\n                }}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  render() {\r\n    if (this.props.collections.length === 0) {\r\n      return <Welcome />;\r\n    } else if (this.props.selected === null) {\r\n      if (this.props.collections.length === 1) {\r\n        this.props.selectCollection(this.props.collections[0].id);\r\n      }\r\n      return (\r\n        <div>\r\n          <span>Please select a collection</span>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.screen();\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    collections: state.CollectionsList,\r\n    selected: state.SelectedCollection,\r\n    tables: state.TablesList,\r\n    days: state.DaysList,\r\n    places: state.PlacesList,\r\n    times: state.TimesList,\r\n    blocks: state.BlocksList,\r\n    batches: state.BatchesList,\r\n    subjects: state.SubjectsList,\r\n    teachers: state.TeachersList\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    selectCollection,\r\n    createBlock\r\n  }\r\n)(Display);\r\n","import React, { Component } from \"react\";\r\n\r\nclass List extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"list-container\">\r\n        {this.props.list.map(item => {\r\n          let selectClass =\r\n            this.props.selected === item.id ? \"selected-card\" : \"\";\r\n          let selectedItem = this.props.selected === item.id ? true : false;\r\n          return (\r\n            <div key={item.id} className={`table-card card-box ${selectClass}`}>\r\n              <div className=\"card-title\">{item.name}</div>\r\n              <div className=\"buttons-list blue\">\r\n                {this.props.buttons.map(button => {\r\n                  let restrictSelected =\r\n                    button.selected == null ? false : button.selected;\r\n                  if (restrictSelected) {\r\n                    if (selectedItem) {\r\n                      return null;\r\n                    }\r\n                  }\r\n                  return (\r\n                    <button\r\n                      onClick={() => {\r\n                        button.action(item.id);\r\n                      }}\r\n                      key={button.name}\r\n                    >\r\n                      {button.name}\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default List;\r\n","import React, { Component } from \"react\";\r\n\r\nclass CreateTable extends Component {\r\n  state = {\r\n    form: {\r\n      name: \"\"\r\n    }\r\n  };\r\n  handle = event => {\r\n    event.preventDefault();\r\n    this.props.submit(this.state.form);\r\n  };\r\n  render() {\r\n    if (this.props.display === \"form\") {\r\n      return (\r\n        <form onSubmit={this.handle} className=\"row-block\">\r\n          <label htmlFor=\"name\" className=\"item\">\r\n            {this.props.name} :\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            className=\"item\"\r\n            value={this.state.form.name}\r\n            onChange={e => {\r\n              this.setState({\r\n                form: {\r\n                  name: e.target.value\r\n                }\r\n              });\r\n            }}\r\n          />\r\n          <input type=\"submit\" className=\"item\" />\r\n          <button\r\n            onClick={() => {\r\n              this.props.cancel();\r\n            }}\r\n            className=\"item\"\r\n          >\r\n            Cancel\r\n          </button>\r\n        </form>\r\n      );\r\n    } else {\r\n      return (\r\n        <ul className=\"buttons-list\">\r\n          <li>\r\n            <button onClick={this.props.click}>Create A Collection</button>\r\n          </li>\r\n        </ul>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default CreateTable;\r\n","import React, { Component } from \"react\";\r\n\r\nimport FormEditor from \"./FormEditor\";\r\n\r\nclass TableEditor extends Component {\r\n  state = {\r\n    property: this.props.property,\r\n    keys: this.props.keys\r\n  };\r\n  saveTable = () => {\r\n    let property = this.state.property;\r\n    if (property.base == null) {\r\n      property.base = this.props.items[0].name;\r\n    }\r\n    if (property.baseValue == null) {\r\n      property.baseValue =\r\n        this.props.items[0].list.length > 0\r\n          ? this.props.items[0].list[0].id\r\n          : null;\r\n    }\r\n    if (property.rows == null) {\r\n      property.rows = this.props.items[1].name;\r\n    }\r\n    if (property.cols == null) {\r\n      property.cols = this.props.items[2].name;\r\n    }\r\n    this.props.save(property);\r\n  };\r\n  componentWillUnmount() {\r\n    if (!this.props.nounmount) {\r\n      this.saveTable();\r\n    }\r\n  }\r\n  render() {\r\n    let items = this.props.items;\r\n    let base =\r\n      this.state.property.base != null\r\n        ? this.state.property.base\r\n        : items[0].name;\r\n    let blist = items.filter(i => i.name === base)[0];\r\n    let baseList = blist != null ? blist.list : [];\r\n    let rowsList = items.filter(i => i.name !== base);\r\n    let rowsValue =\r\n      this.state.property.rows != null\r\n        ? this.state.property.rows\r\n        : items[1].name;\r\n    let colsList = rowsList.filter(i => i.name !== rowsValue);\r\n    let property = this.state.property;\r\n    return (\r\n      <FormEditor\r\n        property={this.state.property}\r\n        keys={this.props.keys}\r\n        save={this.saveTable}\r\n        nounmount={this.props.nounmount}\r\n      >\r\n        <div style={{ display: \"table-row\" }}>\r\n          <label htmlFor=\"base\" style={{ display: \"table-cell\" }}>\r\n            Base\r\n          </label>\r\n          <select\r\n            name=\"base\"\r\n            onChange={x => {\r\n              this.setState({\r\n                property: { ...property, base: x.target.value }\r\n              });\r\n            }}\r\n            style={{ display: \"table-cell\" }}\r\n            defaultValue={\r\n              this.state.property.base != null\r\n                ? this.state.property.base\r\n                : items[0].name\r\n            }\r\n            required={true}\r\n          >\r\n            {items.map(item => {\r\n              return (\r\n                <option key={item.name} value={item.name}>\r\n                  {item.name}\r\n                </option>\r\n              );\r\n            })}\r\n          </select>\r\n          <select\r\n            style={{ display: \"table-cell\" }}\r\n            onChange={x => {\r\n              this.setState({\r\n                property: { ...property, baseValue: x.target.value }\r\n              });\r\n            }}\r\n            defaultValue={\r\n              this.state.property.baseValue != null\r\n                ? this.state.property.baseValue\r\n                : baseList.length > 0\r\n                ? baseList[0].id\r\n                : null\r\n            }\r\n            required={true}\r\n          >\r\n            {baseList.map(item => {\r\n              return (\r\n                <option key={item.id} value={item.id}>\r\n                  {item.name}\r\n                </option>\r\n              );\r\n            })}\r\n          </select>\r\n        </div>\r\n        <div style={{ display: \"table-row\" }}>\r\n          <label htmlFor=\"rows\" style={{ display: \"table-cell\" }}>\r\n            Rows\r\n          </label>\r\n          <select\r\n            id=\"rows\"\r\n            style={{ display: \"table-cell\" }}\r\n            onChange={x => {\r\n              this.setState({\r\n                property: { ...property, rows: x.target.value }\r\n              });\r\n            }}\r\n            defaultValue={\r\n              this.state.property.rows != null\r\n                ? this.state.property.rows\r\n                : rowsList[0].name\r\n            }\r\n            required={true}\r\n          >\r\n            {rowsList.map(item => {\r\n              return (\r\n                <option key={item.name} value={item.name}>\r\n                  {item.name}\r\n                </option>\r\n              );\r\n            })}\r\n          </select>\r\n        </div>\r\n        <div style={{ display: \"table-row\" }}>\r\n          <label htmlFor=\"rows\" style={{ display: \"table-cell\" }}>\r\n            Columns\r\n          </label>\r\n          <select\r\n            style={{ display: \"table-cell\" }}\r\n            onChange={x => {\r\n              this.setState({\r\n                property: { ...property, cols: x.target.value }\r\n              });\r\n            }}\r\n            defaultValue={\r\n              this.state.property.cols != null\r\n                ? this.state.property.cols\r\n                : colsList[0].name\r\n            }\r\n            required={true}\r\n          >\r\n            {colsList.map(item => {\r\n              return (\r\n                <option key={item.name} value={item.name}>\r\n                  {item.name}\r\n                </option>\r\n              );\r\n            })}\r\n          </select>\r\n        </div>\r\n      </FormEditor>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TableEditor;\r\n","import React, { Component } from \"react\";\r\n\r\nimport { rand } from \"../../../actions/helpers\";\r\n\r\nimport FormEditor from \"./FormEditor\";\r\nimport TableEditor from \"./TableEditor\";\r\n\r\nclass Area extends Component {\r\n  state = {\r\n    array: this.props.array,\r\n    name: this.props.name,\r\n    heading: this.props.heading,\r\n    editor: this.props.editor || \"FormEditor\",\r\n    showCreator: false,\r\n    showEditorFor: null\r\n  };\r\n  editor = (obj, bypass = false, create) => {\r\n    if (this.state.showEditorFor === obj || bypass) {\r\n      let saveFunction = bypass ? create : this.save;\r\n      switch (this.state.editor) {\r\n        case \"FormEditor\":\r\n        default:\r\n          return (\r\n            <FormEditor\r\n              property={obj}\r\n              keys={this.props.keys}\r\n              save={saveFunction}\r\n              nounmount={bypass}\r\n            />\r\n          );\r\n        case \"TableEditor\":\r\n          return (\r\n            <TableEditor\r\n              property={obj}\r\n              items={this.props.items}\r\n              keys={this.props.keys}\r\n              save={saveFunction}\r\n              nounmount={bypass}\r\n            />\r\n          );\r\n      }\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n  deleteProperty = obj => {\r\n    this.props.deleteActionCreator(obj.id);\r\n    let array = this.state.array.filter(item => item.id !== obj.id);\r\n    this.setState({ array: array });\r\n  };\r\n  create = obj => {\r\n    console.log(\"Creating In Storage\");\r\n    console.log(obj);\r\n    obj.id = rand(this.state.name);\r\n    this.props.createActionCreator(obj);\r\n  };\r\n  save = obj => {\r\n    console.log(\"Saving Changes into Storage\");\r\n    this.props.updateActionCreator(obj.id, obj);\r\n    if (this.state.showEditorFor === obj) {\r\n      this.setState({ showEditorFor: null });\r\n    }\r\n  };\r\n  creator = () => {\r\n    if (this.state.showCreator) {\r\n      let keys = {};\r\n      this.props.keys.map(k => {\r\n        keys[k.name] = null;\r\n        return null;\r\n      });\r\n      return this.editor(keys, true, this.create);\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div>\r\n          <h2>{this.state.heading}</h2>\r\n          <div>{this.props.children}</div>\r\n          <div>\r\n            <button\r\n              onClick={() => {\r\n                this.setState({ showCreator: !this.state.showCreator });\r\n              }}\r\n              className={this.state.showCreator ? \"\" : \"btn-red\"}\r\n            >\r\n              {this.state.showCreator ? \"Cancel\" : \"Create\"}\r\n            </button>\r\n          </div>\r\n          <div>\r\n            {this.creator()}\r\n            <ul style={{ padding: \"0px\" }}>\r\n              {this.state.array.map(obj => {\r\n                return (\r\n                  <li\r\n                    key={obj.id}\r\n                    onClick={() =>\r\n                      this.setState({\r\n                        property: obj\r\n                      })\r\n                    }\r\n                    className=\"area-item\"\r\n                  >\r\n                    <div style={{ width: \"100%\", display: \"flex\" }}>\r\n                      <div>\r\n                        <h3>{obj.name}</h3>\r\n                      </div>\r\n                      <div\r\n                        style={{\r\n                          width: \"100%\",\r\n                          display: \"flex\",\r\n                          justifyContent: \"flex-end\"\r\n                        }}\r\n                      >\r\n                        <div className=\"buttons-list\">\r\n                          <button\r\n                            onClick={() => {\r\n                              this.setState({ showEditorFor: obj });\r\n                            }}\r\n                          >\r\n                            Edit\r\n                          </button>\r\n                          <button onClick={() => this.deleteProperty(obj)}>\r\n                            Delete\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    {this.editor(obj)}\r\n                  </li>\r\n                );\r\n              })}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Area;\r\n","import React, { Component } from \"react\";\r\n\r\nimport { rand } from \"../../../actions/helpers\";\r\n\r\nclass Days extends Component {\r\n  render() {\r\n    let days = [\r\n      \"Monday\",\r\n      \"Tuesday\",\r\n      \"Wednesday\",\r\n      \"Thursday\",\r\n      \"Friday\",\r\n      \"Saturday\",\r\n      \"Sunday\"\r\n    ];\r\n    return (\r\n      <div>\r\n        <button\r\n          onClick={() => {\r\n            days.forEach(day => {\r\n              let prop = {};\r\n              prop.name = day;\r\n              prop.id = rand(\"day\");\r\n              this.props.create(prop);\r\n            });\r\n          }}\r\n        >\r\n          Add All Days\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Days;\r\n","import React, { Component } from \"react\";\r\nimport storage from \"../../engine/storage\";\r\n\r\nimport Area from \"./areas\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport UserDays from \"./user/Days.js\";\r\n\r\nimport {\r\n  createBlock,\r\n  updateBlock,\r\n  deleteBlock,\r\n  createTable,\r\n  updateTable,\r\n  deleteTable,\r\n  createDay,\r\n  updateDay,\r\n  deleteDay,\r\n  createTime,\r\n  updateTime,\r\n  deleteTime,\r\n  createPlace,\r\n  updatePlace,\r\n  deletePlace,\r\n  createBatch,\r\n  updateBatch,\r\n  deleteBatch,\r\n  createSubject,\r\n  updateSubject,\r\n  deleteSubject,\r\n  createTeacher,\r\n  updateTeacher,\r\n  deleteTeacher\r\n} from \"../../actions\";\r\n\r\nclass EditCollection extends Component {\r\n  state = {\r\n    ...storage.getData(this.props.collectionID),\r\n    editArea: \"lectures\"\r\n  };\r\n  updateState = () => {\r\n    this.setState({ ...storage.getData(this.props.collectionID) });\r\n  };\r\n  render() {\r\n    const UserArea = () => {\r\n      switch (this.state.editArea) {\r\n        case \"tables\":\r\n          return (\r\n            <Area\r\n              array={this.state.tables}\r\n              createActionCreator={data => {\r\n                this.props.createTable(this.state.id, data);\r\n                this.updateState();\r\n              }}\r\n              updateActionCreator={(propID, data) => {\r\n                this.props.updateTable(this.state.id, propID, data);\r\n                this.updateState();\r\n              }}\r\n              deleteActionCreator={propID => {\r\n                this.props.deleteTable(this.state.id, propID);\r\n                this.updateState();\r\n              }}\r\n              name=\"table\"\r\n              editor=\"TableEditor\"\r\n              heading=\"Tables\"\r\n              items={[\r\n                { name: \"days\", list: this.state.days, required: true },\r\n                { name: \"times\", list: this.state.times, required: true },\r\n                { name: \"batches\", list: this.state.batches, required: true },\r\n                { name: \"places\", list: this.state.places, required: true },\r\n                { name: \"subjects\", list: this.state.subjects, required: true },\r\n                { name: \"teachers\", list: this.state.teachers, required: true }\r\n              ]}\r\n              keys={[\r\n                {\r\n                  name: \"name\",\r\n                  required: true\r\n                }\r\n                // { name: \"options\" },\r\n                // { name: \"settings\" }\r\n              ]}\r\n            />\r\n          );\r\n        case \"lectures\":\r\n        default:\r\n          return (\r\n            <Area\r\n              array={this.state.blocks}\r\n              createActionCreator={data => {\r\n                this.props.createBlock(this.state.id, data);\r\n                this.updateState();\r\n              }}\r\n              updateActionCreator={(propID, data) => {\r\n                this.props.updateBlock(this.state.id, propID, data);\r\n                this.updateState();\r\n              }}\r\n              deleteActionCreator={propID => {\r\n                this.props.deleteBlock(this.state.id, propID);\r\n                this.updateState();\r\n              }}\r\n              name=\"block\"\r\n              heading=\"Lectures\"\r\n              keys={[\r\n                {\r\n                  name: \"text\",\r\n                  required: true,\r\n                  locked: true,\r\n                  show: false\r\n                },\r\n                {\r\n                  name: \"name\",\r\n                  required: true\r\n                },\r\n                { name: \"customText\" },\r\n                {\r\n                  name: \"day\",\r\n                  type: \"select\",\r\n                  list: this.state.days,\r\n                  required: true\r\n                },\r\n                {\r\n                  name: \"place\",\r\n                  type: \"select\",\r\n                  list: this.state.places,\r\n                  required: true\r\n                },\r\n                {\r\n                  name: \"time\",\r\n                  type: \"select\",\r\n                  list: this.state.times,\r\n                  required: true\r\n                },\r\n                {\r\n                  name: \"batch\",\r\n                  type: \"select\",\r\n                  list: this.state.batches,\r\n                  required: true\r\n                },\r\n                {\r\n                  name: \"subject\",\r\n                  type: \"select\",\r\n                  list: this.state.subjects,\r\n                  required: true\r\n                },\r\n                {\r\n                  name: \"teacher\",\r\n                  type: \"select\",\r\n                  list: this.state.teachers,\r\n                  required: true\r\n                },\r\n                {\r\n                  name: \"display\",\r\n                  type: \"textarea\",\r\n                  required: true,\r\n                  default: \"%batch%%subject%%teacher%\"\r\n                }\r\n              ]}\r\n            />\r\n          );\r\n        case \"days\":\r\n          return (\r\n            <Area\r\n              array={this.state.days}\r\n              createActionCreator={data => {\r\n                this.props.createDay(this.state.id, data);\r\n                this.updateState();\r\n              }}\r\n              updateActionCreator={(propID, data) => {\r\n                this.props.updateDay(this.state.id, propID, data);\r\n                this.updateState();\r\n              }}\r\n              deleteActionCreator={propID => {\r\n                this.props.deleteDay(this.state.id, propID);\r\n                this.updateState();\r\n              }}\r\n              name=\"day\"\r\n              heading=\"Days\"\r\n              keys={[\r\n                {\r\n                  name: \"name\",\r\n                  required: true\r\n                }\r\n              ]}\r\n            >\r\n              <UserDays\r\n                create={data => {\r\n                  this.props.createDay(this.state.id, data);\r\n                  this.updateState();\r\n                }}\r\n              />\r\n            </Area>\r\n          );\r\n        case \"times\":\r\n          return (\r\n            <Area\r\n              array={this.state.times}\r\n              createActionCreator={data => {\r\n                this.props.createTime(this.state.id, data);\r\n                this.updateState();\r\n              }}\r\n              updateActionCreator={(propID, data) => {\r\n                this.props.updateTime(this.state.id, propID, data);\r\n                this.updateState();\r\n              }}\r\n              deleteActionCreator={propID => {\r\n                this.props.deleteTime(this.state.id, propID);\r\n                this.updateState();\r\n              }}\r\n              name=\"time\"\r\n              heading=\"Times\"\r\n              keys={[\r\n                {\r\n                  name: \"name\",\r\n                  required: true\r\n                }\r\n              ]}\r\n            />\r\n          );\r\n        case \"places\":\r\n          return (\r\n            <Area\r\n              array={this.state.places}\r\n              createActionCreator={data => {\r\n                this.props.createPlace(this.state.id, data);\r\n                this.updateState();\r\n              }}\r\n              updateActionCreator={(propID, data) => {\r\n                this.props.updatePlace(this.state.id, propID, data);\r\n                this.updateState();\r\n              }}\r\n              deleteActionCreator={propID => {\r\n                this.props.deletePlace(this.state.id, propID);\r\n                this.updateState();\r\n              }}\r\n              name=\"place\"\r\n              heading=\"Places\"\r\n              keys={[\r\n                {\r\n                  name: \"name\",\r\n                  required: true\r\n                }\r\n              ]}\r\n            />\r\n          );\r\n        case \"batches\":\r\n          return (\r\n            <Area\r\n              array={this.state.batches}\r\n              createActionCreator={data => {\r\n                this.props.createBatch(this.state.id, data);\r\n                this.updateState();\r\n              }}\r\n              updateActionCreator={(propID, data) => {\r\n                this.props.updateBatch(this.state.id, propID, data);\r\n                this.updateState();\r\n              }}\r\n              deleteActionCreator={propID => {\r\n                this.props.deleteBatch(this.state.id, propID);\r\n                this.updateState();\r\n              }}\r\n              name=\"batch\"\r\n              heading=\"Batches\"\r\n              keys={[\r\n                {\r\n                  name: \"name\",\r\n                  required: true,\r\n                  locked: false\r\n                }\r\n              ]}\r\n            />\r\n          );\r\n        case \"subjects\":\r\n          return (\r\n            <Area\r\n              array={this.state.subjects}\r\n              createActionCreator={data => {\r\n                this.props.createSubject(this.state.id, data);\r\n                this.updateState();\r\n              }}\r\n              updateActionCreator={(propID, data) => {\r\n                this.props.updateSubject(this.state.id, propID, data);\r\n                this.updateState();\r\n              }}\r\n              deleteActionCreator={propID => {\r\n                this.props.deleteSubject(this.state.id, propID);\r\n                this.updateState();\r\n              }}\r\n              name=\"subject\"\r\n              heading=\"Subjects\"\r\n              keys={[\r\n                {\r\n                  name: \"name\",\r\n                  required: true,\r\n                  locked: false\r\n                }\r\n              ]}\r\n            />\r\n          );\r\n        case \"teachers\":\r\n          return (\r\n            <Area\r\n              array={this.state.teachers}\r\n              createActionCreator={data => {\r\n                this.props.createTeacher(this.state.id, data);\r\n                this.updateState();\r\n              }}\r\n              updateActionCreator={(propID, data) => {\r\n                this.props.updateTeacher(this.state.id, propID, data);\r\n                this.updateState();\r\n              }}\r\n              deleteActionCreator={propID => {\r\n                this.props.deleteTeacher(this.state.id, propID);\r\n                this.updateState();\r\n              }}\r\n              name=\"teacher\"\r\n              heading=\"Teachers\"\r\n              keys={[\r\n                {\r\n                  name: \"name\",\r\n                  required: true,\r\n                  locked: false\r\n                }\r\n              ]}\r\n            />\r\n          );\r\n      }\r\n    };\r\n    let MenuItems = [\r\n      \"lectures\",\r\n      \"tables\",\r\n      \"batches\",\r\n      \"days\",\r\n      \"times\",\r\n      \"places\",\r\n      \"subjects\",\r\n      \"teachers\"\r\n    ];\r\n    return (\r\n      <div>\r\n        <div className=\"buttons-list\">\r\n          <button onClick={this.props.cancel}>Back</button>\r\n        </div>\r\n        <h1>Collection : {this.state.name}</h1>\r\n        <div>\r\n          {MenuItems.map(item => {\r\n            let activeClass = \"\";\r\n            if (item === this.state.editArea) {\r\n              activeClass = \"btn-red\";\r\n            }\r\n            return (\r\n              <button\r\n                onClick={() => {\r\n                  this.setState({ editArea: item });\r\n                }}\r\n                style={{ textTransform: \"capitalize\", margin: \"2px\" }}\r\n                className={activeClass}\r\n                key={item}\r\n              >\r\n                {item}\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n        <div>\r\n          <UserArea />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  null,\r\n  {\r\n    createBlock,\r\n    updateBlock,\r\n    deleteBlock,\r\n    createTable,\r\n    updateTable,\r\n    deleteTable,\r\n    createDay,\r\n    updateDay,\r\n    deleteDay,\r\n    createTime,\r\n    updateTime,\r\n    deleteTime,\r\n    createPlace,\r\n    updatePlace,\r\n    deletePlace,\r\n    createBatch,\r\n    updateBatch,\r\n    deleteBatch,\r\n    createSubject,\r\n    updateSubject,\r\n    deleteSubject,\r\n    createTeacher,\r\n    updateTeacher,\r\n    deleteTeacher\r\n  }\r\n)(EditCollection);\r\n","import React, { Component } from \"react\";\r\n\r\nimport List from \"./List\";\r\nimport Create from \"./Create\";\r\nimport Edit from \"./Edit\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Modal from \"../Modal\";\r\n\r\nimport {\r\n  createCollection,\r\n  selectCollection,\r\n  copyCollection,\r\n  renameCollection,\r\n  deleteCollection\r\n} from \"../../actions\";\r\n\r\nimport { rand } from \"../../actions/helpers\";\r\n\r\nclass Collections extends Component {\r\n  state = {\r\n    createForm: false,\r\n    editCollection: null,\r\n    modalDisplay: false,\r\n    deleteFunction: () => {}\r\n  };\r\n  displayDeleteModal() {\r\n    this.setState({ modalDisplay: true });\r\n  }\r\n  render() {\r\n    let list = this.props.collections;\r\n\r\n    //Collection Buttons\r\n    let buttons = [];\r\n    buttons.push({\r\n      name: \"select\",\r\n      action: id => {\r\n        this.props.selectCollection(id);\r\n      },\r\n      selected: true\r\n    });\r\n    buttons.push({\r\n      name: \"copy\",\r\n      action: id => {\r\n        this.props.copyCollection(id, rand(\"collection\"));\r\n      }\r\n    });\r\n    buttons.push({\r\n      name: \"edit\",\r\n      action: id => {\r\n        this.setState({\r\n          editCollection: id\r\n        });\r\n      }\r\n    });\r\n    buttons.push({\r\n      name: \"delete\",\r\n      action: id => {\r\n        this.setState({\r\n          modalDisplay: true,\r\n          deleteFunction: () => {\r\n            this.props.deleteCollection(id);\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    if (this.state.editCollection != null) {\r\n      return (\r\n        <Edit\r\n          collectionID={this.state.editCollection}\r\n          cancel={() => {\r\n            this.setState({ editCollection: null });\r\n          }}\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h1>Collections</h1>\r\n        <Create\r\n          name=\"collection\"\r\n          display={this.state.createForm ? \"form\" : \"button\"}\r\n          click={() => {\r\n            this.setState({ createForm: true });\r\n          }}\r\n          submit={values => {\r\n            this.props.createCollection(rand(\"collection\"), values.name);\r\n            this.setState({ createForm: false });\r\n          }}\r\n          cancel={() => {\r\n            this.setState({ createForm: false });\r\n          }}\r\n        />\r\n        <List\r\n          selected={\r\n            this.props.selectedCollection != null\r\n              ? this.props.selectedCollection.id\r\n              : null\r\n          }\r\n          list={list}\r\n          buttons={buttons}\r\n        />\r\n        <Modal\r\n          display={this.state.modalDisplay}\r\n          type=\"confirm\"\r\n          yes={() => {\r\n            this.state.deleteFunction();\r\n            this.setState({ modalDisplay: false });\r\n          }}\r\n          cancel={() => this.setState({ modalDisplay: false })}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    collections: state.CollectionsList,\r\n    selectedCollection: state.SelectedCollection\r\n  };\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    createCollection,\r\n    selectCollection,\r\n    copyCollection,\r\n    renameCollection,\r\n    deleteCollection\r\n  }\r\n)(Collections);\r\n","import React, { Component } from \"react\";\r\n\r\nimport { HashRouter as Router, Route } from \"react-router-dom\";\r\n//Header Import\r\nimport Header from \"./Header\";\r\n\r\n//Display Import\r\nimport Display from \"./display\";\r\n\r\n//Tables Import\r\nimport Collections from \"./collections\";\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <div>\r\n          <Header />\r\n          <div className=\"wrapper\">\r\n            <Route path=\"/\" exact component={Display} />\r\n            <Route path=\"/collections\" exact component={Collections} />\r\n          </div>\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { combineReducers } from \"redux\";\r\nimport CollectionsList from \"./CollectionsList\";\r\nimport SelectedCollection from \"./SelectedCollection\";\r\nimport TablesList from \"./TablesList\";\r\nimport BatchesList from \"./BatchesList\";\r\nimport PlacesList from \"./PlacesList\";\r\nimport DaysList from \"./DaysList\";\r\nimport TimesList from \"./TimesList\";\r\nimport BlocksList from \"./BlocksList\";\r\nimport SubjectsList from \"./SubjectsList\";\r\nimport TeachersList from \"./TeachersList\";\r\n\r\nexport default combineReducers({\r\n  CollectionsList,\r\n  SelectedCollection,\r\n  TablesList,\r\n  PlacesList,\r\n  BatchesList,\r\n  DaysList,\r\n  TimesList,\r\n  BlocksList,\r\n  SubjectsList,\r\n  TeachersList\r\n});\r\n","import {\r\n  EXAMPLE_COLLECTION,\r\n  CREATE_COLLECTION,\r\n  COPY_COLLECTION,\r\n  RENAME_COLLECTION,\r\n  DELETE_COLLECTION\r\n} from \"../actions/types\";\r\nimport storage from \"../engine/storage\";\r\n\r\nexport default (state = storage.getList(), action) => {\r\n  switch (action.type) {\r\n    case EXAMPLE_COLLECTION:\r\n    case CREATE_COLLECTION:\r\n    case COPY_COLLECTION:\r\n    case RENAME_COLLECTION:\r\n    case DELETE_COLLECTION:\r\n      return action.payload.collections;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { SELECT_COLLECTION, DELETE_COLLECTION } from \"../actions/types\";\r\n\r\nexport default (state = null, action) => {\r\n  switch (action.type) {\r\n    case SELECT_COLLECTION:\r\n      return action.payload.selectedCollection || null;\r\n    case DELETE_COLLECTION:\r\n      if (state !== null && action.payload.deleted.id === state.id) {\r\n        return null;\r\n      } else {\r\n        return state;\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { SELECT_COLLECTION, CREATE_TABLE } from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case SELECT_COLLECTION:\r\n    case CREATE_TABLE:\r\n      return action.payload.tables.all();\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  SELECT_COLLECTION,\r\n  CREATE_PLACE,\r\n  UPDATE_PLACE,\r\n  DELETE_PLACE\r\n} from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case SELECT_COLLECTION:\r\n    case CREATE_PLACE:\r\n    case UPDATE_PLACE:\r\n    case DELETE_PLACE:\r\n      return action.payload.places.all();\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  SELECT_COLLECTION,\r\n  CREATE_BATCH,\r\n  UPDATE_BATCH,\r\n  DELETE_BATCH\r\n} from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case SELECT_COLLECTION:\r\n    case CREATE_BATCH:\r\n    case UPDATE_BATCH:\r\n    case DELETE_BATCH:\r\n      return action.payload.batches.all();\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  SELECT_COLLECTION,\r\n  CREATE_DAY,\r\n  UPDATE_DAY,\r\n  DELETE_DAY\r\n} from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case SELECT_COLLECTION:\r\n    case CREATE_DAY:\r\n    case UPDATE_DAY:\r\n    case DELETE_DAY:\r\n      return action.payload.days.all();\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { SELECT_COLLECTION, CREATE_TIME } from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case SELECT_COLLECTION:\r\n    case CREATE_TIME:\r\n      return action.payload.times.all();\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { SELECT_COLLECTION, CREATE_BLOCK } from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case SELECT_COLLECTION:\r\n    case CREATE_BLOCK:\r\n      return action.payload.blocks.all();\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  SELECT_COLLECTION,\r\n  CREATE_SUBJECT,\r\n  UPDATE_SUBJECT,\r\n  DELETE_SUBJECT\r\n} from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case SELECT_COLLECTION:\r\n    case CREATE_SUBJECT:\r\n    case UPDATE_SUBJECT:\r\n    case DELETE_SUBJECT:\r\n      return action.payload.subjects.all();\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { SELECT_COLLECTION, CREATE_TEACHER } from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case SELECT_COLLECTION:\r\n    case CREATE_TEACHER:\r\n      return action.payload.teachers.all();\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./components/App\";\r\n\r\nimport { createStore } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport rootReducer from \"./reducers\";\r\nconst store = createStore(rootReducer);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}