(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(33)},33:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),s=a.n(r),c=a(2),i=a(3),o=a(5),u=a(4),p=a(6),d=a(36),m=a(35),y=a(34),h=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("header",null,l.a.createElement("nav",null,l.a.createElement(y.a,{to:"/"},l.a.createElement("button",null,"Home")),l.a.createElement(y.a,{to:"/collections"},l.a.createElement("button",null,"Collections"))))}}]),t}(n.Component),b=a(10),E=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("span",null,"Welcome !"),l.a.createElement("p",null,"You have't created any collections",l.a.createElement("br",null),l.a.createElement(y.a,{to:"/collections"},"Click Here")))}}]),t}(n.Component),f=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.base,a=this.props.baseBlockKey,n=this.props.rows,r=this.props.rowsBlockKey,s=this.props.cols,c=this.props.colsBlockKey,i=this.props.blocks,o=this.props.mode;return l.a.createElement("div",{key:this.props.id},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,null!=t?t.name:null),s.map(function(e){return l.a.createElement("td",{key:"c"+e.id},e.name)}))),l.a.createElement("tbody",null,n.map(function(n){return l.a.createElement("tr",{key:"r"+n.id},l.a.createElement("td",null,n.name),s.map(function(s){var u=i.filter(function(e){return e[a]===t.id&&e[r]===n.id&&e[c]===s.id});return 0===u.length?"print"===o?l.a.createElement("td",null):l.a.createElement("td",{onClick:function(){var t={};t[a]=e.props.id,t[r]=n.id,t[c]=s.id},key:"b"+s.id},l.a.createElement("button",null,"+")):l.a.createElement("td",{key:"b"+s.id},u[0].text)}))}))))}}]),t}(n.Component),v=function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,null,[{key:"create",value:function(t,a){var n=e.getList(),l={name:a,id:t},r={name:a,id:t,tables:[],blocks:[],days:[],times:[],places:[],batches:[],subjects:[],teachers:[]};n.push(l),e.saveList(n),e.saveData(t,r)}},{key:"getList",value:function(){var e=localStorage.getItem("collections")||"[]";try{e=JSON.parse(e)}catch(t){e=[]}return e}},{key:"saveList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];localStorage.setItem("collections",JSON.stringify(e))}},{key:"getData",value:function(e){var t=localStorage.getItem("c-"+e);return void 0!==(t=JSON.parse(t))&&null!==t?t:{}}},{key:"saveData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};localStorage.setItem("c-"+e,JSON.stringify(t))}},{key:"rename",value:function(t,a){var n=e.getList().map(function(e){return e.id===t&&(e.name=a),e});e.saveList(n)}},{key:"delete",value:function(t){var a=e.getList().filter(function(e){return e.id!==t});e.saveList(a),localStorage.removeItem("c-"+t)}},{key:"list",value:function(t,a){var n=e.getData(t);if(n){n[a]||(n[a]=[],e.saveData(t,n));var l={all:function(){return e.getData(this.id)[this.type]},getItem:function(t){return e.getData(this.id)[this.type].filter(function(e){return e.id===t})[0]},createItem:function(t){var a=e.getData(this.id);return a[this.type].push(t),e.saveData(this.id,a),t},updateItem:function(t,a){var n=e.getData(this.id),l=n[this.type];l=l.map(function(e){return e.id===t?a:e}),n[this.type]=l,e.saveData(this.id,n)},deleteItem:function(t){var a=e.getData(this.id),n=a[this.type];a[this.type]=n.filter(function(e){return e.id!==t}),e.saveData(this.id,a)}};return l.id=t,l.type=a,l}return null}}]),e}(),C=function(e){return{type:"SELECT_COLLECTION",payload:{selectedCollection:v.getData(e),tables:v.list(e,"tables"),days:v.list(e,"days"),places:v.list(e,"places"),times:v.list(e,"times"),blocks:v.list(e,"blocks"),batches:v.list(e,"batches"),subjects:v.list(e,"subjects"),teachers:v.list(e,"teachers")}}},k=function(e,t){var a=v.list(e,"blocks");return a.createItem(t),{type:"CREATE_BLOCK",payload:{blocks:a=v.list(e,"blocks")}}},T=function(e,t){var a=v.list(e,"days");return a.createItem(t),{type:"CREATE_DAY",payload:{days:a=v.list(e,"days")}}},g=function(e,t){var a=v.list(e,"times");return a.createItem(t),{type:"CREATE_TIME",payload:{times:a=v.list(e,"times")}}},O=function(e,t){var a=v.list(e,"places");return a.createItem(t),{type:"CREATE_PLACE",payload:{places:a=v.list(e,"places")}}},j=function(e,t){var a=v.list(e,"batches");return a.createItem(t),{type:"CREATE_BATCH",payload:{batches:a=v.list(e,"batches")}}},L=function(e,t){var a=v.list(e,"subjects");return a.createItem(t),{type:"CREATE_SUBJECT",payload:{subjects:a=v.list(e,"subjects")}}},A=function(e,t){var a=v.list(e,"teachers");return a.createItem(t),{type:"CREATE_TEACHER",payload:{teachers:a=v.list(e,"teachers")}}},S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={mode:"edit"},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"screen",value:function(){var e=this,t=this.props,a=t.tables,n=t.blocks,r=t.batches,s=t.days,c=t.times,i=t.places,o=t.subjects,u=t.teachers,p={tables:a,blocks:n,batches:r,days:s,times:c,places:i,subjects:o,teachers:u},d=function(e){switch(e){case"batches":return"batch";default:return e.substr(0,e.length-1)}};return l.a.createElement("div",null,l.a.createElement("h1",null,"Acadtable"),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){e.setState({mode:"edit"})},className:"edit"===this.state.mode?"btn-red":""},"edit"),l.a.createElement("button",{onClick:function(){e.setState({mode:"print"})},className:"print"===this.state.mode?"btn-red":""},"print")),a.map(function(t){var a=p[t.base].filter(function(e){return e.id===t.baseValue})[0],r=p[t.rows],s=p[t.cols];return l.a.createElement(f,{id:t.id,key:t.id,mode:e.state.mode,base:a,baseBlockKey:d(t.base),rows:r,rowsBlockKey:d(t.rows),cols:s,colsBlockKey:d(t.cols),blocks:n})}))}},{key:"render",value:function(){return 0===this.props.collections.length?l.a.createElement(E,null):null===this.props.selected?(1===this.props.collections.length&&this.props.selectCollection(this.props.collections[0].id),l.a.createElement("div",null,l.a.createElement("span",null,"Please select a collection"))):this.screen()}}]),t}(n.Component),D=Object(b.b)(function(e){return{collections:e.CollectionsList,selected:e.SelectedCollection,tables:e.TablesList,days:e.DaysList,places:e.PlacesList,times:e.TimesList,blocks:e.BlocksList,batches:e.BatchesList,subjects:e.SubjectsList,teachers:e.TeachersList}},{createBlock:k,createBatch:j,createDay:T,createTime:g,createPlace:O,createTeacher:A,createSubject:L,selectCollection:C})(S),w=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"list-container"},this.props.list.map(function(t){var a=e.props.selected===t.id?"selected-card":"",n=e.props.selected===t.id;return l.a.createElement("div",{key:t.id,className:"table-card card-box ".concat(a)},l.a.createElement("div",{className:"card-title"},t.name),l.a.createElement("div",{className:"buttons-list blue"},e.props.buttons.map(function(e){return null!=e.selected&&e.selected&&n?null:l.a.createElement("button",{onClick:function(){e.action(t.id)},key:e.name},e.name)})))}))}}]),t}(n.Component),I=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={form:{name:""}},a.handle=function(e){e.preventDefault(),a.props.submit(a.state.form)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return"form"===this.props.display?l.a.createElement("form",{onSubmit:this.handle,className:"row-block"},l.a.createElement("label",{htmlFor:"name",className:"item"},this.props.name," :"),l.a.createElement("input",{type:"text",name:"name",className:"item",value:this.state.form.name,onChange:function(t){e.setState({form:{name:t.target.value}})}}),l.a.createElement("input",{type:"submit",className:"item"}),l.a.createElement("button",{onClick:function(){e.props.cancel()},className:"item"},"Cancel")):l.a.createElement("ul",{className:"buttons-list"},l.a.createElement("li",null,l.a.createElement("button",{onClick:this.props.click},"Create A Collection")))}}]),t}(n.Component),_=a(11),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;switch(e){case"collection":e="cn";break;case"table":e="tl";break;case"block":e="bk";break;case"day":e="dy";break;case"time":e="tm";break;case"place":e="pl";break;case"batch":e="bh";break;case"subject":e="st";break;case"teacher":e="tr"}return e+Math.random().toString().split(".")[1].substr(t,a)},B=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={property:a.props.property,keys:a.props.keys},a.saveForm=function(){var e=a.state.property;a.state.keys.map(function(t){return t.type&&"select"===t.type?null===e[t.name]&&(e[t.name]=null!=a.state.property[t.name]?a.state.property[t.name]:t.list.length>0?t.list[0].id:null):t.type&&"textarea"===t.type&&(e[t.name]=null!=a.state.property[t.name]?a.state.property[t.name]:null!=t.default?t.default:null),null}),a.props.save(e)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){this.props.nounmount||this.saveForm()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},l.a.createElement("div",{style:{display:"table"}},l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.saveForm()}},this.state.keys.map(function(t){if(null!=t.show&&!t.show)return null;var a=null!=t.type?t.type:"input";return l.a.createElement("div",{key:t.name+t.id,style:{display:"table-row"}},l.a.createElement("label",{htmlFor:t.name+t.id+"inp",style:{display:"table-cell"}},t.name),function(t,a){switch(t){case"input":default:return l.a.createElement("input",{key:a.name+"inp",type:"text",onChange:function(t){var n=t.target.value,l=e.state.property;l[a.name]=n,e.setState({property:l})},disabled:null!=a.locked&&a.locked,required:null!=a.required&&a.required,value:null==e.state.property[a.name]?"":e.state.property[a.name],style:{display:"table-cell"}});case"select":return l.a.createElement("select",{defaultValue:null!=e.state.property[a.name]?e.state.property[a.name]:a.list.length>0?a.list[0].id:null,onChange:function(t){var n=e.state.property;n[a.name]=t.target.value,e.setState({property:n})},disabled:null!=a.locked&&a.locked,required:null!=a.required&&a.required},a.list.map(function(e){return l.a.createElement("option",{value:e.id,key:e.id},e.name)}));case"textarea":return l.a.createElement("textarea",{key:a.name+"txt",onChange:function(t){console.log(t.target.value);var n=t.target.value,l=e.state.property;l[a.name]=n,e.setState({property:l})},disabled:null!=a.locked&&a.locked,required:null!=a.required&&a.required,style:{display:"table-cell"},value:null==e.state.property[a.name]?null!=a.default?a.default:"":e.state.property[a.name]})}}(a,t))}),this.props.children,l.a.createElement("div",{style:{display:"table-row"}},l.a.createElement("div",{style:{display:"table-cell"}}),l.a.createElement("input",{type:"submit",style:{display:"table-cell",width:"100%"},className:"btn-red"})))))}}]),t}(n.Component),q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={property:a.props.property,keys:a.props.keys},a.saveTable=function(){var e=a.state.property;null==e.base&&(e.base=a.props.items[0].name),null==e.baseValue&&(e.baseValue=a.props.items[0].list.length>0?a.props.items[0].list[0].id:null),null==e.rows&&(e.rows=a.props.items[1].name),null==e.cols&&(e.cols=a.props.items[2].name),a.props.save(e)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){this.props.nounmount||this.saveTable()}},{key:"render",value:function(){var e=this,t=this.props.items,a=null!=this.state.property.base?this.state.property.base:t[0].name,n=t.filter(function(e){return e.name===a})[0],r=null!=n?n.list:[],s=t.filter(function(e){return e.name!==a}),c=null!=this.state.property.rows?this.state.property.rows:t[1].name,i=s.filter(function(e){return e.name!==c}),o=this.state.property;return l.a.createElement(B,{property:this.state.property,keys:this.props.keys,save:this.saveTable,nounmount:this.props.nounmount},l.a.createElement("div",{style:{display:"table-row"}},l.a.createElement("label",{htmlFor:"base",style:{display:"table-cell"}},"Base"),l.a.createElement("select",{name:"base",onChange:function(t){e.setState({property:Object(_.a)({},o,{base:t.target.value})})},style:{display:"table-cell"},defaultValue:null!=this.state.property.base?this.state.property.base:t[0].name,required:!0},t.map(function(e){return l.a.createElement("option",{key:e.name,value:e.name},e.name)})),l.a.createElement("select",{style:{display:"table-cell"},onChange:function(t){e.setState({property:Object(_.a)({},o,{baseValue:t.target.value})})},defaultValue:null!=this.state.property.baseValue?this.state.property.baseValue:r.length>0?r[0].id:null,required:!0},r.map(function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.name)}))),l.a.createElement("div",{style:{display:"table-row"}},l.a.createElement("label",{htmlFor:"rows",style:{display:"table-cell"}},"Rows"),l.a.createElement("select",{id:"rows",style:{display:"table-cell"},onChange:function(t){e.setState({property:Object(_.a)({},o,{rows:t.target.value})})},defaultValue:null!=this.state.property.rows?this.state.property.rows:s[0].name,required:!0},s.map(function(e){return l.a.createElement("option",{key:e.name,value:e.name},e.name)}))),l.a.createElement("div",{style:{display:"table-row"}},l.a.createElement("label",{htmlFor:"rows",style:{display:"table-cell"}},"Columns"),l.a.createElement("select",{style:{display:"table-cell"},onChange:function(t){e.setState({property:Object(_.a)({},o,{cols:t.target.value})})},defaultValue:null!=this.state.property.cols?this.state.property.cols:i[0].name,required:!0},i.map(function(e){return l.a.createElement("option",{key:e.name,value:e.name},e.name)}))))}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={array:a.props.array,name:a.props.name,heading:a.props.heading,editor:a.props.editor||"FormEditor",showCreator:!1,showEditorFor:null},a.editor=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(a.state.showEditorFor!==e&&!t)return null;var r=t?n:a.save;switch(a.state.editor){case"FormEditor":default:return l.a.createElement(B,{property:e,keys:a.props.keys,save:r,nounmount:t});case"TableEditor":return l.a.createElement(q,{property:e,items:a.props.items,keys:a.props.keys,save:r,nounmount:t})}},a.deleteProperty=function(e){a.props.deleteActionCreator(e.id);var t=a.state.array.filter(function(t){return t.id!==e.id});a.setState({array:t})},a.create=function(e){console.log("Creating In Storage"),console.log(e),e.id=N(a.state.name),a.props.createActionCreator(e)},a.save=function(e){console.log("Saving Changes into Storage"),a.props.updateActionCreator(e.id,e),a.state.showEditorFor===e&&a.setState({showEditorFor:null})},a.creator=function(){if(a.state.showCreator){var e={};return a.props.keys.map(function(t){return e[t.name]=null,null}),a.editor(e,!0,a.create)}return null},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h2",null,this.state.heading),l.a.createElement("div",null,this.props.children),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){e.setState({showCreator:!e.state.showCreator})},className:this.state.showCreator?"":"btn-red"},this.state.showCreator?"Cancel":"Create")),l.a.createElement("div",null,this.creator(),l.a.createElement("ul",{style:{padding:"0px"}},this.state.array.map(function(t){return l.a.createElement("li",{key:t.id,onClick:function(){return e.setState({property:t})},className:"area-item"},l.a.createElement("div",{style:{width:"100%",display:"flex"}},l.a.createElement("div",null,l.a.createElement("h3",null,t.name)),l.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"}},l.a.createElement("div",{className:"buttons-list"},l.a.createElement("button",{onClick:function(){e.setState({showEditorFor:t})}},"Edit"),l.a.createElement("button",{onClick:function(){return e.deleteProperty(t)}},"Delete")))),e.editor(t))})))))}}]),t}(n.Component),R=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];return l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){t.forEach(function(t){var a={};a.name=t,a.id=N("day"),e.props.create(a)})}},"Add All Days"))}}]),t}(n.Component),F=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state=Object(_.a)({},v.getData(a.props.collectionID),{editArea:"lectures"}),a.updateState=function(){a.setState(Object(_.a)({},v.getData(a.props.collectionID)))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"buttons-list"},l.a.createElement("button",{onClick:this.props.cancel},"Back")),l.a.createElement("h1",null,"Collection : ",this.state.name),l.a.createElement("div",null,["lectures","tables","batches","days","times","places","subjects","teachers"].map(function(t){var a="";return t===e.state.editArea&&(a="btn-red"),l.a.createElement("button",{onClick:function(){e.setState({editArea:t})},style:{textTransform:"capitalize",margin:"2px"},className:a,key:t},t)})),l.a.createElement("div",null,l.a.createElement(function(){switch(e.state.editArea){case"tables":return l.a.createElement(P,{array:e.state.tables,createActionCreator:function(t){e.props.createTable(e.state.id,t),e.updateState()},updateActionCreator:function(t,a){e.props.updateTable(e.state.id,t,a),e.updateState()},deleteActionCreator:function(t){e.props.deleteTable(e.state.id,t),e.updateState()},name:"table",editor:"TableEditor",heading:"Tables",items:[{name:"days",list:e.state.days,required:!0},{name:"times",list:e.state.times,required:!0},{name:"batches",list:e.state.batches,required:!0},{name:"places",list:e.state.places,required:!0},{name:"subjects",list:e.state.subjects,required:!0},{name:"teachers",list:e.state.teachers,required:!0}],keys:[{name:"name",required:!0}]});case"lectures":default:return l.a.createElement(P,{array:e.state.blocks,createActionCreator:function(t){e.props.createBlock(e.state.id,t),e.updateState()},updateActionCreator:function(t,a){e.props.updateBlock(e.state.id,t,a),e.updateState()},deleteActionCreator:function(t){e.props.deleteBlock(e.state.id,t),e.updateState()},name:"block",heading:"Lectures",keys:[{name:"text",required:!0,locked:!0,show:!1},{name:"name",required:!0},{name:"customText"},{name:"day",type:"select",list:e.state.days,required:!0},{name:"place",type:"select",list:e.state.places,required:!0},{name:"time",type:"select",list:e.state.times,required:!0},{name:"batch",type:"select",list:e.state.batches,required:!0},{name:"subject",type:"select",list:e.state.subjects,required:!0},{name:"teacher",type:"select",list:e.state.teachers,required:!0},{name:"display",type:"textarea",required:!0,default:"%batch%\n%subject%\n%teacher%"}]});case"days":return l.a.createElement(P,{array:e.state.days,createActionCreator:function(t){e.props.createDay(e.state.id,t),e.updateState()},updateActionCreator:function(t,a){e.props.updateDay(e.state.id,t,a),e.updateState()},deleteActionCreator:function(t){e.props.deleteDay(e.state.id,t),e.updateState()},name:"day",heading:"Days",keys:[{name:"name",required:!0}]},l.a.createElement(R,{create:function(t){e.props.createDay(e.state.id,t),e.updateState()}}));case"times":return l.a.createElement(P,{array:e.state.times,createActionCreator:function(t){e.props.createTime(e.state.id,t),e.updateState()},updateActionCreator:function(t,a){e.props.updateTime(e.state.id,t,a),e.updateState()},deleteActionCreator:function(t){e.props.deleteTime(e.state.id,t),e.updateState()},name:"time",heading:"Times",keys:[{name:"name",required:!0}]});case"places":return l.a.createElement(P,{array:e.state.places,createActionCreator:function(t){e.props.createPlace(e.state.id,t),e.updateState()},updateActionCreator:function(t,a){e.props.updatePlace(e.state.id,t,a),e.updateState()},deleteActionCreator:function(t){e.props.deletePlace(e.state.id,t),e.updateState()},name:"place",heading:"Places",keys:[{name:"name",required:!0}]});case"batches":return l.a.createElement(P,{array:e.state.batches,createActionCreator:function(t){e.props.createBatch(e.state.id,t),e.updateState()},updateActionCreator:function(t,a){e.props.updateBatch(e.state.id,t,a),e.updateState()},deleteActionCreator:function(t){e.props.deleteBatch(e.state.id,t),e.updateState()},name:"batch",heading:"Batches",keys:[{name:"name",required:!0,locked:!1}]});case"subjects":return l.a.createElement(P,{array:e.state.subjects,createActionCreator:function(t){e.props.createSubject(e.state.id,t),e.updateState()},updateActionCreator:function(t,a){e.props.updateSubject(e.state.id,t,a),e.updateState()},deleteActionCreator:function(t){e.props.deleteSubject(e.state.id,t),e.updateState()},name:"subject",heading:"Subjects",keys:[{name:"name",required:!0,locked:!1}]});case"teachers":return l.a.createElement(P,{array:e.state.teachers,createActionCreator:function(t){e.props.createTeacher(e.state.id,t),e.updateState()},updateActionCreator:function(t,a){e.props.updateTeacher(e.state.id,t,a),e.updateState()},deleteActionCreator:function(t){e.props.deleteTeacher(e.state.id,t),e.updateState()},name:"teacher",heading:"Teachers",keys:[{name:"name",required:!0,locked:!1}]})}},null)))}}]),t}(n.Component),x=Object(b.b)(null,{createBlock:k,updateBlock:function(e,t,a){var n=v.list(e,"blocks");return n.updateItem(t,a),{type:"UPDATE_BLOCK",payload:{blocks:n=v.list(e,"blocks")}}},deleteBlock:function(e,t){var a=v.list(e,"blocks");return a.deleteItem(t),{type:"DELETE_BLOCK",payload:{blocks:a=v.list(e,"blocks")}}},createTable:function(e,t){var a=v.list(e,"tables");return a.createItem(t),{type:"CREATE_TABLE",payload:{tables:a=v.list(e,"tables")}}},updateTable:function(e,t,a){var n=v.list(e,"tables");return n.updateItem(t,a),{type:"UPDATE_TABLE",payload:{tables:n=v.list(e,"tables")}}},deleteTable:function(e,t){var a=v.list(e,"tables");return a.deleteItem(t),{type:"DELETE_TABLE",payload:{tables:a=v.list(e,"tables")}}},createDay:T,updateDay:function(e,t,a){var n=v.list(e,"days");return n.updateItem(t,a),{type:"UPDATE_DAY",payload:{days:n=v.list(e,"days")}}},deleteDay:function(e,t){var a=v.list(e,"days");return a.deleteItem(t),{type:"DELETE_DAY",payload:{days:a=v.list(e,"days")}}},createTime:g,updateTime:function(e,t,a){var n=v.list(e,"times");return n.updateItem(t,a),{type:"UPDATE_TIME",payload:{times:n=v.list(e,"times")}}},deleteTime:function(e,t){var a=v.list(e,"times");return a.deleteItem(t),{type:"DELETE_TIME",payload:{times:a=v.list(e,"times")}}},createPlace:O,updatePlace:function(e,t,a){var n=v.list(e,"places");return n.updateItem(t,a),{type:"UPDATE_PLACE",payload:{places:n=v.list(e,"places")}}},deletePlace:function(e,t){var a=v.list(e,"places");return a.deleteItem(t),{type:"DELETE_PLACE",payload:{places:a=v.list(e,"places")}}},createBatch:j,updateBatch:function(e,t,a){var n=v.list(e,"batches");return n.updateItem(t,a),{type:"UPDATE_BATCH",payload:{batches:n=v.list(e,"batches")}}},deleteBatch:function(e,t){var a=v.list(e,"batches");return a.deleteItem(t),{type:"DELETE_BATCH",payload:{batches:a=v.list(e,"batches")}}},createSubject:L,updateSubject:function(e,t,a){var n=v.list(e,"subjects");return n.updateItem(t,a),{type:"UPDATE_SUBJECT",payload:{subjects:n=v.list(e,"subjects")}}},deleteSubject:function(e,t){var a=v.list(e,"subjects");return a.deleteItem(t),{type:"DELETE_SUBJECT",payload:{subjects:a=v.list(e,"subjects")}}},createTeacher:A,updateTeacher:function(e,t,a){var n=v.list(e,"teachers");return n.updateItem(t,a),{type:"UPDATE_TEACHER",payload:{teachers:n=v.list(e,"teachers")}}},deleteTeacher:function(e,t){var a=v.list(e,"teachers");return a.deleteItem(t),{type:"DELETE_TEACHER",payload:{teachers:a=v.list(e,"teachers")}}}})(F),U=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={modalType:null==a.props.type?"message":a.props.type},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"contentModal",value:function(e){return l.a.createElement("div",{className:"modal",display:this.state.display?"block":"none"},l.a.createElement("div",{className:"modal-inside"},e))}},{key:"messageModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return this.contentModal(l.a.createElement("div",null,l.a.createElement("div",{className:"modal-message"},e),l.a.createElement("div",{className:"modal-buttons"},l.a.createElement("button",{onClick:function(){t()}},"Ok"))))}},{key:"confirmModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Are you sure ?",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return this.contentModal(l.a.createElement("div",null,l.a.createElement("div",{className:"modal-message"},e),l.a.createElement("div",{className:"modal-buttons"},l.a.createElement("button",{onClick:function(){t()}},"Yes"),l.a.createElement("button",{onClick:function(){a()}},"Cancel"))))}},{key:"render",value:function(){if(!this.props.display)return null;switch(this.state.modalType){case"message":default:return this.messageModal(this.props.message);case"confirm":return this.confirmModal(this.props.message,this.props.yes,this.props.cancel);case"content":return this.contentModal(this.props.children)}}}]),t}(n.Component),M=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={createForm:!1,editCollection:null,modalDisplay:!1,deleteFunction:function(){}},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"displayDeleteModal",value:function(){this.setState({modalDisplay:!0})}},{key:"render",value:function(){var e=this,t=this.props.collections,a=[];return a.push({name:"select",action:function(t){e.props.selectCollection(t)},selected:!0}),a.push({name:"copy",action:function(t){e.props.copyCollection(t,N("collection"))}}),a.push({name:"edit",action:function(t){e.setState({editCollection:t})}}),a.push({name:"delete",action:function(t){e.setState({modalDisplay:!0,deleteFunction:function(){e.props.deleteCollection(t)}})}}),null!=this.state.editCollection?l.a.createElement(x,{collectionID:this.state.editCollection,cancel:function(){e.setState({editCollection:null})}}):l.a.createElement("div",null,l.a.createElement("h1",null,"Collections"),l.a.createElement(I,{name:"collection",display:this.state.createForm?"form":"button",click:function(){e.setState({createForm:!0})},submit:function(t){e.props.createCollection(N("collection"),t.name),e.setState({createForm:!1})},cancel:function(){e.setState({createForm:!1})}}),l.a.createElement(w,{selected:null!=this.props.selectedCollection?this.props.selectedCollection.id:null,list:t,buttons:a}),l.a.createElement(U,{display:this.state.modalDisplay,type:"confirm",yes:function(){e.state.deleteFunction(),e.setState({modalDisplay:!1})},cancel:function(){return e.setState({modalDisplay:!1})}}))}}]),t}(n.Component),H=Object(b.b)(function(e){return{collections:e.CollectionsList,selectedCollection:e.SelectedCollection}},{createCollection:function(e,t){return v.create(e,t),{type:"CREATE_COLLECTION",payload:{collections:v.getList()}}},selectCollection:C,copyCollection:function(e,t){var a=v.getData(e);return a.id=t,a.name+=" Copy",v.create(t,a.name),v.saveData(t,a),{type:"RENAME_COLLECTION",payload:{collections:v.getList()}}},renameCollection:function(e,t){return v.rename(e,t),{type:"RENAME_COLLECTION",payload:{collections:v.getList()}}},deleteCollection:function(e){var t=v.getData(e);return v.delete(e),{type:"DELETE_COLLECTION",payload:{collections:v.getList(),deleted:t}}}})(M),J=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(d.a,null,l.a.createElement("div",null,l.a.createElement(m.a,{path:"/",component:h}),l.a.createElement("div",{className:"wrapper"},l.a.createElement(m.a,{path:"/",exact:!0,component:D}),l.a.createElement(m.a,{path:"/collections",exact:!0,component:H}))))}}]),t}(n.Component),V=a(12),K=Object(V.b)({CollectionsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.getList(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_COLLECTION":case"RENAME_COLLECTION":case"DELETE_COLLECTION":return t.payload.collections;default:return e}},SelectedCollection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":return t.payload.selectedCollection||null;case"DELETE_COLLECTION":return null!==e&&t.payload.deleted.id===e.id?null:e;default:return e}},TablesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_TABLE":return t.payload.tables.all();default:return e}},PlacesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_PLACE":case"UPDATE_PLACE":case"DELETE_PLACE":return t.payload.places.all();default:return e}},BatchesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_BATCH":case"UPDATE_BATCH":case"DELETE_BATCH":return t.payload.batches.all();default:return e}},DaysList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_DAY":case"UPDATE_DAY":case"DELETE_DAY":return t.payload.days.all();default:return e}},TimesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_TIME":return t.payload.times.all();default:return e}},BlocksList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_BLOCK":return t.payload.blocks.all();default:return e}},SubjectsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_SUBJECT":case"UPDATE_SUBJECT":case"DELETE_SUBJECT":return t.payload.subjects.all();default:return e}},TeachersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COLLECTION":case"CREATE_TEACHER":return t.payload.teachers.all();default:return e}}}),Y=Object(V.c)(K);s.a.render(l.a.createElement(b.a,{store:Y},l.a.createElement(J,null)),document.querySelector("#root"))}},[[23,2,1]]]);
//# sourceMappingURL=main.688da50f.chunk.js.map