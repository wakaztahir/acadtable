(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(32)},32:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(19),c=a.n(r),s=a(2),i=a(3),o=a(7),u=a(6),m=a(8),p=a(35),d=a(34),b=a(33),h=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("header",null,l.a.createElement("nav",null,l.a.createElement(b.a,{to:"/"},l.a.createElement("button",null,"Home")),l.a.createElement(b.a,{to:"/tables"},l.a.createElement("button",null,"Tables"))))}}]),t}(n.Component),E=a(10),f=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("span",null,"Welcome !"),l.a.createElement("p",null,"You have't created any tables",l.a.createElement("br",null),l.a.createElement(b.a,{to:"/tables"},"Click Here")))}}]),t}(n.Component),v=function(){function e(){Object(s.a)(this,e)}return Object(i.a)(e,null,[{key:"create",value:function(t,a){var n=e.getList(),l={name:a,id:t},r={name:a,id:t};n.push(l),e.saveList(n),e.saveData(t,r)}},{key:"getList",value:function(){var e=sessionStorage.getItem("tables-list")||"[]";try{e=JSON.parse(e)}catch(t){e=[]}return e}},{key:"saveList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];sessionStorage.setItem("tables-list",JSON.stringify(e))}},{key:"getData",value:function(e){var t=sessionStorage.getItem("td-"+e);return void 0!==(t=JSON.parse(t))&&null!==t?t:{}}},{key:"saveData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};sessionStorage.setItem("td-"+e,JSON.stringify(t))}},{key:"rename",value:function(t,a){var n=e.getList().map(function(e){return e.id===t&&(e.name=a),e});e.saveList(n)}},{key:"delete",value:function(t){var a=e.getList().filter(function(e){return e.id!==t});e.saveList(a),sessionStorage.removeItem("td-"+t)}},{key:"list",value:function(t,a){var n=e.getData(t);if(n){n[a]||(n[a]=[],e.saveData(t,n));var l={all:function(){return e.getData(this.id)[this.type]},getItem:function(t){return e.getData(this.id)[this.type].filter(function(e){return e.id===t})[0]},createItem:function(t,a){var n=e.getData(this.id),l=n[this.type],r={id:t};return Object.assign(r,a),l.push(r),e.saveData(this.id,n),r},deleteItem:function(t){var a=e.getData(this.id),n=a[this.type];a[this.type]=n.filter(function(e){return e.id!==t}),e.saveData(this.id,a)}};return l.id=t,l.type=a,l}return null}}]),e}(),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;return e+Math.random().toString().split(".")[1].substr(t,a)},g=function(e){return{type:"SELECT_TABLE",table:v.getData(e)}},j=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"welcomeMessage",value:function(){return l.a.createElement(f,null)}},{key:"nothingSelected",value:function(){return 1===this.props.list.length&&this.props.select(this.props.list[0].id),l.a.createElement("div",null,l.a.createElement("span",null,"You have't selected a table"),l.a.createElement("br",null),l.a.createElement(b.a,{to:"/tables"},"Click Here"))}},{key:"screen",value:function(){var e=this,t=this.props.days,a=this.props.places,n=this.props.times,r=this.props.blocks;this.props.subjects,this.props.teachers;0===t.length&&(t[0]={no:1,text:"day1"}),0===a.length&&(a[0]={no:1,text:"place1"}),0===n.length&&(n[0]={no:1,text:"time1"});var c=function(t,a){switch(t){case"block":default:var n={batch:0,day:0,time:0,subject:0,teacher:0,text:"block"};Object.assign(n,a),e.props.createBlock(e.props.selected.id,n);break;case"batch":e.props.createBatch(e.props.selected.id,{text:"batch"});break;case"day":e.props.createDay(e.props.selected.id,{text:"day"});break;case"time":e.props.createTime(e.props.selected.id,{text:"time"});break;case"place":e.props.createPlace(e.props.selected.id,{text:"place"});break;case"subject":e.props.createSubject(e.props.selected.id,{text:"subject"});break;case"teacher":e.props.createTeacher(e.props.selected.id,{text:"teacher"})}};return l.a.createElement("div",null,l.a.createElement("h1",null,"Acadtable"),l.a.createElement(function(){return t.map(function(e){return l.a.createElement("div",{key:"t"+e.no},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,e.text),n.map(function(e){return l.a.createElement("td",{key:"c"+e.no},e.text)}),l.a.createElement("td",{onClick:function(){c("time")}},"+"))),l.a.createElement("tbody",null,a.map(function(t){return l.a.createElement("tr",{key:"r"+t.no},l.a.createElement("td",null,t.text),n.map(function(a){var n=r.filter(function(n){return n.day===e.no&&n.place===t.no&&n.time===a.no});return 0===n.length?l.a.createElement("td",{onClick:function(){var n={};n.day=e.no,n.place=t.no,n.time=a.no,c("block",n)},key:"b"+a.no},"+"):l.a.createElement("td",{key:"b"+a.no},n[0].text)}))}),l.a.createElement("tr",null,l.a.createElement("td",{onClick:function(){c("place")}},"+")))),l.a.createElement("button",{onClick:function(){c("day")}},"+"))})},null))}},{key:"render",value:function(){return 0===this.props.list.length?this.welcomeMessage():null===this.props.selected?this.nothingSelected():this.screen()}}]),t}(n.Component),T=Object(E.b)(function(e){return{list:e.TablesList,selected:e.SelectedTable,places:e.PlacesList,days:e.DaysList,times:e.TimesList,blocks:e.BlocksList,batches:e.BatchesList,subjects:e.SubjectsList,teachers:e.TeachersList}},{createBlock:function(e,t){var a=y("bl",1,9),n=v.list(e,"blocks");return n.createItem(a,t),{type:"CREATE_BLOCK",blocks:n=v.list(e,"blocks")}},createBatch:function(e,t){var a=v.list(e,"batches");return a.createItem(y("bh"),Object.assign(t,{no:a.all().length})),{type:"CREATE_BATCH",batches:a=v.list(e,"batches")}},createDay:function(e,t){var a=v.list(e,"days");return a.createItem(y("dy"),Object.assign(t,{no:a.all().length})),{type:"CREATE_DAY",days:a=v.list(e,"days")}},createTime:function(e,t){var a=v.list(e,"times");return a.createItem(y("bl"),Object.assign(t,{no:a.all().length})),{type:"CREATE_TIME",times:a=v.list(e,"times")}},createPlace:function(e,t){var a=v.list(e,"places");return a.createItem(y("pl"),Object.assign(t,{no:a.all().length})),{type:"CREATE_PLACE",places:a=v.list(e,"places")}},createTeacher:function(e,t){var a=v.list(e,"teachers");return a.createItem(y("tr"),Object.assign(t,{no:a.all().length})),{type:"CREATE_TEACHER",teachers:a=v.list(e,"teachers")}},createSubject:function(e,t){var a=v.list(e,"subjects");return a.createItem(y("st"),Object.assign(t,{no:a.all().length})),{type:"CREATE_SUBJECT",subjects:a=v.list(e,"subjects")}},select:g})(j),k=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.props.list.map(function(t){var a=null==e.props.selected?{id:""}:e.props.selected,n=t.id===a.id?"selected-card":"";return l.a.createElement("div",{key:t.id,className:"table-card card-box ".concat(n)},l.a.createElement("div",{className:"card-title"},t.name),l.a.createElement("div",{className:"buttons-list blue"},l.a.createElement("button",{onClick:function(){e.props.select(t.id)},className:"select-btn"},"Select"),l.a.createElement("button",{onClick:function(){e.props.edit(t)}},"Edit"),l.a.createElement("button",{onClick:function(){e.props.delete(t.id)}},"Delete")))})}}]),t}(n.Component),O=Object(E.b)(function(e){return{list:e.TablesList,selected:e.SelectedTable}},{select:g,delete:function(e){return v.delete(e),{type:"DELETE_TABLE",deleted:e,list:v.getList()}}})(k),L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={form:{name:""}},a.handleSubmit=function(e){e.preventDefault(),a.props.action(a.state.form)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("form",{onSubmit:this.handleSubmit,className:"row-block"},l.a.createElement("label",{htmlFor:"name",className:"item"},"Table Name :"),l.a.createElement("input",{type:"text",name:"name",className:"item",value:this.state.form.name,onChange:function(t){e.setState({form:{name:t.target.value}})}}),l.a.createElement("input",{type:"submit",className:"item"}),l.a.createElement("button",{onClick:this.props.cancel,className:"item"},"Cancel"))}}]),t}(n.Component),C=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={form:{newname:a.props.name}},a.handleSubmit=function(e){e.preventDefault(),a.props.action(a.state.form)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("form",{onSubmit:this.handleSubmit,className:"row-block"},l.a.createElement("label",{htmlFor:"name",className:"item"},"Table Name :"),l.a.createElement("input",{type:"text",name:"name",className:"item",value:this.state.form.newname,onChange:function(t){e.setState({form:{newname:t.target.value}})}}),l.a.createElement("input",{type:"submit",className:"item",value:"Save"}),l.a.createElement("button",{onClick:this.props.cancel,className:"item"},"Cancel"))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={showCreateForm:!1,editTable:null,showEditForm:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h1",null,"Tables"),l.a.createElement(function(){return e.state.showCreateForm?l.a.createElement(L,{cancel:function(){e.setState({showCreateForm:!1})},action:function(t){e.props.create(t.name),e.setState({showCreateForm:!1})}}):l.a.createElement("ul",{className:"buttons-list"},l.a.createElement("li",null,l.a.createElement("button",{onClick:function(){e.setState({showCreateForm:!0})}},"Create A Table")))},null),l.a.createElement(function(){return null!=e.state.editTable&&e.state.showEditForm?l.a.createElement(C,{name:e.state.editTable.name,action:function(t){e.props.rename(e.state.editTable.id,t.newname),e.setState({showEditForm:!1,editTable:null})},cancel:function(){e.setState({showEditForm:!1,editTable:null})}}):null},null),l.a.createElement(function(){return l.a.createElement("div",{className:"list-contaienr"},l.a.createElement(O,{edit:function(t){e.setState({showEditForm:!0,editTable:t})}}))},null))}}]),t}(n.Component),w=Object(E.b)(function(e){return{list:e.TablesList,selected:e.SelectedTable}},{create:function(e){var t=y("t",0,5);return v.create(t,e),{type:"CREATE_TABLE",list:v.getList()}},rename:function(e,t){return v.rename(e,t),{type:"RENAME_TABLE",list:v.getList()}}})(S),A=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(p.a,null,l.a.createElement("div",null,l.a.createElement(d.a,{path:"/",component:h}),l.a.createElement("div",{className:"wrapper"},l.a.createElement(d.a,{path:"/",exact:!0,component:T}),l.a.createElement(d.a,{path:"/tables",exact:!0,component:w}))))}}]),t}(n.Component),B=a(11),N=Object(B.b)({TablesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.getList(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_TABLE":case"RENAME_TABLE":case"DELETE_TABLE":return t.list;default:return e}},SelectedTable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_TABLE":return t.table||null;case"DELETE_TABLE":return null!==e&&t.deleted===e.id?null:e;default:return e}},PlacesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_TABLE":return v.list(t.table.id,"places").all();default:return e}},DaysList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_TABLE":return v.list(t.table.id,"days").all();default:return e}},TimesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_TABLE":return v.list(t.table.id,"times").all();default:return e}},BlocksList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_TABLE":return v.list(t.table.id,"blocks").all();case"CREATE_BLOCK":return t.blocks.all();default:return e}},SubjectsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_TABLE":return v.list(t.table.id,"subjects").all();default:return e}},TeachersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_TABLE":return v.list(t.table.id,"teachers").all();default:return e}}}),D=Object(B.c)(N);c.a.render(l.a.createElement(E.a,{store:D},l.a.createElement(A,null)),document.querySelector("#root"))}},[[22,2,1]]]);
//# sourceMappingURL=main.57e0f8db.chunk.js.map